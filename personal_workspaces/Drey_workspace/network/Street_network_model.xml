<?xml version="1.0" standalone="no"?>
<!DOCTYPE entity PUBLIC "-//UC Berkeley//DTD MoML 1//EN"
    "http://ptolemy.eecs.berkeley.edu/xml/dtd/MoML_1.dtd">
<entity name="Street_network_model" class="ptolemy.actor.TypedCompositeActor">
    <property name="_createdBy" class="ptolemy.kernel.attributes.VersionAttribute" value="11.0.1">
    </property>
    <property name="_windowProperties" class="ptolemy.actor.gui.WindowPropertiesAttribute" value="{bounds={-8, -8, 1936, 1056}, maximized=true}">
    </property>
    <property name="_vergilSize" class="ptolemy.actor.gui.SizeAttribute" value="[1708, 939]">
    </property>
    <property name="_vergilZoomFactor" class="ptolemy.data.expr.ExpertParameter" value="0.6400000000000023">
    </property>
    <property name="_vergilCenter" class="ptolemy.data.expr.ExpertParameter" value="{269.5502512562812, 322.3221576633179}">
    </property>
    <property name="DE Director" class="ptolemy.domains.de.kernel.DEDirector">
        <property name="synchronizeToRealTime" class="ptolemy.data.expr.Parameter" value="false">
        </property>
        <property name="_location" class="ptolemy.kernel.util.Location" value="[600.0, -135.0]">
        </property>
    </property>
    <property name="StreetPlotterFlag" class="ptolemy.data.expr.Parameter" value="1">
        <property name="_hideName" class="ptolemy.kernel.util.SingletonAttribute">
        </property>
        <property name="_icon" class="ptolemy.vergil.icon.ValueIcon">
            <property name="_color" class="ptolemy.actor.gui.ColorAttribute" value="{0.0, 0.0, 1.0, 1.0}">
            </property>
        </property>
        <property name="_smallIconDescription" class="ptolemy.kernel.util.SingletonConfigurableAttribute">
            <configure>
      <svg>
        <text x="20" style="font-size:14; font-family:SansSerif; fill:blue" y="20">-P-</text>
      </svg>
    </configure>
        </property>
        <property name="_editorFactory" class="ptolemy.vergil.toolbox.VisibleParameterEditorFactory">
        </property>
        <property name="_location" class="ptolemy.kernel.util.Location" value="[560.0, -90.0]">
        </property>
    </property>
    <property name="enableBackwardTypeInference" class="ptolemy.data.expr.Parameter" value="false">
    </property>
    <entity name="CSVReader" class="ptolemy.actor.lib.io.CSVReader">
        <property name="fileOrURL" class="ptolemy.actor.parameters.FilePortParameter" value="cars1.txt">
        </property>
        <property name="separator" class="ptolemy.data.expr.StringParameter" value="tab">
        </property>
        <property name="_location" class="ptolemy.kernel.util.Location" value="[-307.75, -140.0]">
        </property>
        <port name="output" class="ptolemy.actor.TypedIOPort">
            <property name="output"/>
            <property name="_type" class="ptolemy.actor.TypeAttribute" value="{carId = int, roadMap = arrayType(int), indicator = int, intersectionCount = int}">
            </property>
        </port>
    </entity>
    <entity name="CSVReader2" class="ptolemy.actor.lib.io.CSVReader">
        <property name="fileOrURL" class="ptolemy.actor.parameters.FilePortParameter" value="cars2.txt">
        </property>
        <property name="separator" class="ptolemy.data.expr.StringParameter" value="tab">
        </property>
        <property name="_location" class="ptolemy.kernel.util.Location" value="[1082.875, 340.0]">
        </property>
        <property name="_flipPortsHorizontal" class="ptolemy.data.expr.Parameter" value="true">
        </property>
        <port name="output" class="ptolemy.actor.TypedIOPort">
            <property name="output"/>
            <property name="_type" class="ptolemy.actor.TypeAttribute" value="{carId = int, roadMap = arrayType(int), indicator = int}">
            </property>
        </port>
    </entity>
    <entity name="CSVReader3" class="ptolemy.actor.lib.io.CSVReader">
        <property name="fileOrURL" class="ptolemy.actor.parameters.FilePortParameter" value="cars3.txt">
        </property>
        <property name="separator" class="ptolemy.data.expr.StringParameter" value="tab">
        </property>
        <property name="_location" class="ptolemy.kernel.util.Location" value="[-525.0, 490.0]">
        </property>
        <port name="output" class="ptolemy.actor.TypedIOPort">
            <property name="output"/>
            <property name="_type" class="ptolemy.actor.TypeAttribute" value="{carId = int, roadMap = arrayType(int), indicator = int}">
            </property>
        </port>
    </entity>
    <entity name="CSVReader4" class="ptolemy.actor.lib.io.CSVReader">
        <property name="fileOrURL" class="ptolemy.actor.parameters.FilePortParameter" value="cars4.txt">
        </property>
        <property name="separator" class="ptolemy.data.expr.StringParameter" value="tab">
        </property>
        <property name="_location" class="ptolemy.kernel.util.Location" value="[-350.0, 270.0]">
        </property>
        <port name="output" class="ptolemy.actor.TypedIOPort">
            <property name="output"/>
            <property name="_type" class="ptolemy.actor.TypeAttribute" value="{carId = int, roadMap = arrayType(int), indicator = int}">
            </property>
        </port>
    </entity>
    <entity name="T-Intersection (1)" class="ptolemy.actor.TypedCompositeActor">
        <property name="_location" class="ptolemy.kernel.util.Location" value="[200.0, -140.0]">
        </property>
        <property name="_windowProperties" class="ptolemy.actor.gui.WindowPropertiesAttribute" value="{bounds={158, 84, 928, 616}, maximized=false}">
        </property>
        <property name="_vergilSize" class="ptolemy.actor.gui.SizeAttribute" value="[700, 499]">
        </property>
        <property name="_vergilZoomFactor" class="ptolemy.data.expr.ExpertParameter" value="1.0">
        </property>
        <property name="_vergilCenter" class="ptolemy.data.expr.ExpertParameter" value="{367.0, 482.609375}">
        </property>
        <property name="intersectionId" class="ptolemy.data.expr.Parameter" value="1">
        </property>
        <property name="SOUTH" class="ptolemy.data.expr.Parameter" value="4">
        </property>
        <property name="WEST" class="ptolemy.data.expr.Parameter" value="10">
        </property>
        <property name="EAST" class="ptolemy.data.expr.Parameter" value="2">
        </property>
        <port name="EastOut" class="ptolemy.actor.TypedIOPort">
            <property name="output"/>
            <property name="_cardinal" class="ptolemy.kernel.util.StringAttribute" value="EAST">
            </property>
            <property name="_showName" class="ptolemy.data.expr.SingletonParameter" value="false">
            </property>
            <property name="_location" class="ptolemy.kernel.util.Location" value="[425.0, 435.0]">
            </property>
        </port>
        <port name="WestIn" class="ptolemy.actor.TypedIOPort">
            <property name="input"/>
            <property name="_cardinal" class="ptolemy.kernel.util.StringAttribute" value="WEST">
            </property>
            <property name="_showName" class="ptolemy.data.expr.SingletonParameter" value="false">
            </property>
            <property name="_location" class="ptolemy.kernel.util.Location" value="[65.0, 380.0]">
            </property>
        </port>
        <port name="WestOut" class="ptolemy.actor.TypedIOPort">
            <property name="output"/>
            <property name="_cardinal" class="ptolemy.kernel.util.StringAttribute" value="WEST">
            </property>
            <property name="_showName" class="ptolemy.data.expr.SingletonParameter" value="false">
            </property>
            <property name="_location" class="ptolemy.kernel.util.Location" value="[230.0, 450.0]">
            </property>
        </port>
        <port name="SouthIn" class="ptolemy.actor.TypedIOPort">
            <property name="input"/>
            <property name="_cardinal" class="ptolemy.kernel.util.StringAttribute" value="SOUTH">
            </property>
            <property name="_showName" class="ptolemy.data.expr.SingletonParameter" value="false">
            </property>
            <property name="_location" class="ptolemy.kernel.util.Location" value="[45.0, 590.0]">
            </property>
        </port>
        <port name="SouthOut" class="ptolemy.actor.TypedIOPort">
            <property name="output"/>
            <property name="_cardinal" class="ptolemy.kernel.util.StringAttribute" value="SOUTH">
            </property>
            <property name="_showName" class="ptolemy.data.expr.SingletonParameter" value="false">
            </property>
            <property name="_location" class="ptolemy.kernel.util.Location" value="[435.0, 580.0]">
            </property>
        </port>
        <port name="EastIn" class="ptolemy.actor.TypedIOPort">
            <property name="input"/>
            <property name="_location" class="ptolemy.kernel.util.Location" value="[625.0, 415.0]">
            </property>
            <property name="_cardinal" class="ptolemy.kernel.util.StringAttribute" value="EAST">
            </property>
        </port>
        <entity name="T-Intersection Right-Hand-Rule" class="ptolemy.actor.lib.jjs.JavaScript">
            <property name="_windowProperties" class="ptolemy.actor.gui.WindowPropertiesAttribute">
            </property>
            <property name="_paneSize" class="ptolemy.actor.gui.SizeAttribute">
            </property>
            <property name="script" class="ptolemy.actor.parameters.PortParameter" value="	var QueueW = [];&#10;	var QueueE = [];&#10;	var QueueS = [];&#10;	var carCount = 0; // indicates number of cars currently in the intersection&#10;	var countW = 0;&#10;	var countE = 0;&#10;	var countS = 0;&#10;	var date;&#10;&#10;// T-Intersection right-hand-rule&#10;//fires the car which has priority and lets the others wait&#10;exports.setup = function () {&#10;	//the Input-ports for the incoming cars&#10;    this.input('carWEST');&#10;    this.input('carEAST');&#10;    this.input('carSOUTH');&#10;    //the Output-ports for the leaving cars&#10;    this.output('OWEST');&#10;    this.output('OEAST');&#10;    this.output('OSOUTH');&#10;    this.output('Debug');&#10;    this.output('display');&#10;    this.output('trafficJamDetectorW');&#10;    this.output('trafficJamDetectorE');&#10;    this.output('trafficJamDetectorS');&#10;}&#10;&#10;exports.initialize = function () {&#10;	//creates an Array that contains the cars that stand in an Intersection&#10;	&#10;	this.addInputHandler('carWEST', function() {&#10;		QueueW.unshift(this.get('carWEST'));&#10;		carCount++;&#10;		countW++;&#10;		this.send('display', carCount);&#10;		this.send('trafficJamDetectorW', countW);&#10;		if(carCount == 1) {&#10;			setTimeout(right_hand_rule, 2000);&#10;		}&#10;	});&#10;	&#10;	this.addInputHandler('carEAST', function() {&#10;		QueueE.unshift(this.get('carEAST'));&#10;		carCount++;&#10;		countE++;&#10;		this.send('display', carCount);&#10;		this.send('trafficJamDetectorE', countE);&#10;		if(carCount == 1) {&#10;			setTimeout(right_hand_rule, 2000);&#10;		}&#10;	});&#10;	&#10;	this.addInputHandler('carSOUTH', function() {&#10;		QueueS.unshift(this.get('carSOUTH'));&#10;		carCount++;&#10;		countS++;&#10;		this.send('display', carCount);&#10;		this.send('trafficJamDetectorS', countS);&#10;		if(carCount == 1) {&#10;			setTimeout(right_hand_rule, 2000);&#10;		}&#10;	});&#10;	&#10;}&#10;	&#10;	function right_hand_rule() {&#10;		var SentW = false;&#10;		var SentE = false;&#10;		var SentS = false;&#10;		&#10;		//Debug&#10;		this.send('Debug',&quot;QueueW &quot; + QueueW.length);&#10;		this.send('Debug',&quot;QueueE &quot; + QueueE.length);&#10;		this.send('Debug',&quot;QueueS &quot; + QueueS.length);&#10;		this.send('Debug', &quot;carCount &quot; + carCount);&#10;&#10;			if(QueueW.length != 0) {&#10;				if(QueueW[QueueW.length - 1].indicator == 0) {&#10;					if(QueueS.length != 0) {&#10;						//stop&#10;					}else if(QueueS.length == 0) {&#10;						this.send('OEAST',QueueW[QueueW.length - 1]);&#10;						SentW = true;&#10;					}&#10;				}else if(QueueW[QueueW.length - 1].indicator == 1) {&#10;					this.send('OSOUTH',QueueW[QueueW.length - 1]);&#10;					SentW = true;&#10;				}&#10;			}&#10;			&#10;			if(QueueE.length != 0) {&#10;				if(QueueE[QueueE.length - 1].indicator == 0) {&#10;					this.send('OWEST',QueueE[QueueE.length - 1]);&#10;					SentE = true;&#10;				}else if(QueueE[QueueE.length - 1].indicator == -1) {&#10;					if(QueueW.length != 0) {&#10;						//stop&#10;					}else if(QueueW.length == 0) {&#10;						this.send('OSOUTH',QueueE[QueueE.length - 1]);&#10;						SentE = true;&#10;					}&#10;				}&#10;			}&#10;			&#10;			if(QueueS.length != 0) {&#10;				if(QueueS[QueueS.length - 1].indicator == 1) {&#10;					this.send('OEAST',QueueS[QueueS.length - 1]);&#10;					SentS = true;&#10;				}else if(QueueS[QueueS.length - 1].indicator == -1) {&#10;					if(QueueE.length != 0) {&#10;						//stop&#10;					}else if(QueueE.length == 0) {&#10;						this.send('OWEST',QueueS[QueueS.length - 1]);&#10;						SentS = true;&#10;					}&#10;				}&#10;			}&#10;			&#10;			if(SentW) {&#10;				QueueW.pop();&#10;				carCount--;&#10;				countW--;&#10;				this.send('display', carCount);&#10;				this.send('trafficJamDetectorW', countW);&#10;			}&#10;			&#10;			if(SentE) {&#10;				QueueE.pop();&#10;				carCount--;&#10;				countE--;&#10;				this.send('display', carCount);&#10;				this.send('trafficJamDetectorE', countE);&#10;			}&#10;			&#10;			if(SentS) {&#10;				QueueS.pop();&#10;				carCount--;&#10;				countS--;&#10;				this.send('display', carCount);&#10;				this.send('trafficJamDetectorS', countS);&#10;			}&#10;			&#10;			if(carCount != 0) {&#10;				setTimeout(right_hand_rule, 2000);&#10;			}&#10;	}&#10;">
                <property name="style" class="ptolemy.actor.gui.style.NoteStyle">
                    <property name="note" class="ptolemy.kernel.util.StringAttribute" value="NOTE: To see the script, invoke Open Actor">
                    </property>
                </property>
            </property>
            <property name="_tableauFactory" class="ptolemy.vergil.toolbox.TextEditorTableauFactory">
                <property name="attributeName" class="ptolemy.kernel.util.StringAttribute" value="script">
                </property>
                <property name="syntaxStyle" class="ptolemy.kernel.util.StringAttribute" value="text/javascript">
                </property>
            </property>
            <property name="_location" class="ptolemy.kernel.util.Location" value="{335.0, 395.0}">
            </property>
            <property name="_hideName" class="ptolemy.data.expr.SingletonParameter" value="true">
            </property>
            <port name="error" class="ptolemy.actor.TypedIOPort">
                <property name="output"/>
                <property name="_cardinal" class="ptolemy.kernel.util.StringAttribute" value="NORTH">
                </property>
            </port>
            <port name="script" class="ptolemy.actor.parameters.ParameterPort">
                <property name="input"/>
                <property name="_cardinal" class="ptolemy.kernel.util.StringAttribute" value="NORTH">
                </property>
            </port>
            <port name="carWEST" class="ptolemy.actor.TypedIOPort">
                <property name="input"/>
                <property name="_cardinal" class="ptolemy.kernel.util.StringAttribute" value="WEST">
                </property>
            </port>
            <port name="carEAST" class="ptolemy.actor.TypedIOPort">
                <property name="input"/>
                <property name="_cardinal" class="ptolemy.kernel.util.StringAttribute" value="EAST">
                </property>
            </port>
            <port name="carSOUTH" class="ptolemy.actor.TypedIOPort">
                <property name="input"/>
                <property name="_cardinal" class="ptolemy.kernel.util.StringAttribute" value="SOUTH">
                </property>
            </port>
            <port name="OWEST" class="ptolemy.actor.TypedIOPort">
                <property name="output"/>
                <property name="_cardinal" class="ptolemy.kernel.util.StringAttribute" value="WEST">
                </property>
            </port>
            <port name="OEAST" class="ptolemy.actor.TypedIOPort">
                <property name="output"/>
                <property name="_cardinal" class="ptolemy.kernel.util.StringAttribute" value="EAST">
                </property>
            </port>
            <port name="OSOUTH" class="ptolemy.actor.TypedIOPort">
                <property name="output"/>
                <property name="_cardinal" class="ptolemy.kernel.util.StringAttribute" value="SOUTH">
                </property>
            </port>
            <port name="Debug" class="ptolemy.actor.TypedIOPort">
                <property name="output"/>
            </port>
            <port name="display" class="ptolemy.actor.TypedIOPort">
                <property name="output"/>
                <property name="_cardinal" class="ptolemy.kernel.util.StringAttribute" value="NORTH">
                </property>
                <property name="_type" class="ptolemy.actor.TypeAttribute" value="double">
                </property>
            </port>
            <port name="trafficJamDetectorW" class="ptolemy.actor.TypedIOPort">
                <property name="output"/>
                <property name="_type" class="ptolemy.actor.TypeAttribute" value="double">
                </property>
                <property name="_cardinal" class="ptolemy.kernel.util.StringAttribute" value="WEST">
                </property>
            </port>
            <port name="trafficJamDetectorE" class="ptolemy.actor.TypedIOPort">
                <property name="output"/>
                <property name="_type" class="ptolemy.actor.TypeAttribute" value="double">
                </property>
                <property name="_cardinal" class="ptolemy.kernel.util.StringAttribute" value="EAST">
                </property>
            </port>
            <port name="trafficJamDetectorS" class="ptolemy.actor.TypedIOPort">
                <property name="output"/>
                <property name="_type" class="ptolemy.actor.TypeAttribute" value="double">
                </property>
                <property name="_cardinal" class="ptolemy.kernel.util.StringAttribute" value="SOUTH">
                </property>
            </port>
        </entity>
        <entity name="setIndicatorWest" class="ptolemy.actor.lib.jjs.JavaScript">
            <property name="_windowProperties" class="ptolemy.actor.gui.WindowPropertiesAttribute">
            </property>
            <property name="_paneSize" class="ptolemy.actor.gui.SizeAttribute">
            </property>
            <property name="script" class="ptolemy.actor.parameters.PortParameter" value="//Sets the Indicator of a car coming from WEST&#10;// increases the intersection counter by 1&#10;//-1 is left, 0 is straight, 1 is right&#10;exports.setup = function () {&#10;    this.input('car');&#10;    &#10;    this.output('output');&#10;};&#10;&#10;exports.fire = function () {&#10;	carWest = this.get('car');&#10;	&#10;	if(carWest.roadMap[carWest.intersectionCount] == this.getParameter('SOUTH')) {&#10;		carWest.intersectionCount = carWest.intersectionCount + 1;&#10;		carWest.indicator = 1;&#10;		this.send('output', carWest);&#10;	}&#10;	else if(carWest.roadMap[carWest.intersectionCount] == this.getParameter('EAST')) {&#10;		carWest.intersectionCount = carWest.intersectionCount + 1;&#10;		carWest.indicator = 0;&#10;		this.send('output', carWest);&#10;	}&#10;};">
                <property name="style" class="ptolemy.actor.gui.style.NoteStyle">
                    <property name="note" class="ptolemy.kernel.util.StringAttribute" value="NOTE: To see the script, invoke Open Actor">
                    </property>
                </property>
            </property>
            <property name="_tableauFactory" class="ptolemy.vergil.toolbox.TextEditorTableauFactory">
                <property name="attributeName" class="ptolemy.kernel.util.StringAttribute" value="script">
                </property>
                <property name="syntaxStyle" class="ptolemy.kernel.util.StringAttribute" value="text/javascript">
                </property>
            </property>
            <property name="_location" class="ptolemy.kernel.util.Location" value="[255.0, 380.0]">
            </property>
            <property name="_icon" class="ptolemy.vergil.icon.EditorIcon">
                <property name="arc" class="ptolemy.vergil.kernel.attributes.ArcAttribute">
                    <property name="_location" class="ptolemy.kernel.util.Location" value="[3.0, 0.0]">
                    </property>
                    <property name="width" class="ptolemy.data.expr.Parameter" value="36.0">
                    </property>
                    <property name="height" class="ptolemy.data.expr.Parameter" value="32.0">
                    </property>
                    <property name="centered" class="ptolemy.data.expr.Parameter" value="true">
                    </property>
                    <property name="fillColor" class="ptolemy.actor.gui.ColorAttribute" value="{1.0,1.0,0.0,1.0}">
                    </property>
                </property>
                <property name="line" class="ptolemy.vergil.kernel.attributes.LineAttribute">
                    <property name="_location" class="ptolemy.kernel.util.Location" value="[9.0, -7.000000000000011]">
                    </property>
                    <property name="rotation" class="ptolemy.data.expr.Parameter" value="125.0">
                    </property>
                    <property name="x" class="ptolemy.data.expr.Parameter" value="5.0">
                    </property>
                    <property name="y" class="ptolemy.data.expr.Parameter" value="0.0">
                    </property>
                </property>
                <property name="line2" class="ptolemy.vergil.kernel.attributes.LineAttribute">
                    <property name="_location" class="ptolemy.kernel.util.Location" value="[13.0, -1.0000000000000284]">
                    </property>
                    <property name="rotation" class="ptolemy.data.expr.Parameter" value="100.0">
                    </property>
                    <property name="x" class="ptolemy.data.expr.Parameter" value="5.0">
                    </property>
                    <property name="y" class="ptolemy.data.expr.Parameter" value="0.0">
                    </property>
                </property>
                <property name="line3" class="ptolemy.vergil.kernel.attributes.LineAttribute">
                    <property name="_location" class="ptolemy.kernel.util.Location" value="[-2.0, -15.0]">
                    </property>
                    <property name="rotation" class="ptolemy.data.expr.Parameter" value="115.0">
                    </property>
                    <property name="x" class="ptolemy.data.expr.Parameter" value="5.0">
                    </property>
                    <property name="y" class="ptolemy.data.expr.Parameter" value="0.0">
                    </property>
                </property>
                <property name="line4" class="ptolemy.vergil.kernel.attributes.LineAttribute">
                    <property name="_location" class="ptolemy.kernel.util.Location" value="[20.0, 4.999999999999972]">
                    </property>
                    <property name="rotation" class="ptolemy.data.expr.Parameter" value="135.0">
                    </property>
                    <property name="x" class="ptolemy.data.expr.Parameter" value="5.0">
                    </property>
                    <property name="y" class="ptolemy.data.expr.Parameter" value="0.0">
                    </property>
                </property>
                <property name="line5" class="ptolemy.vergil.kernel.attributes.LineAttribute">
                    <property name="_location" class="ptolemy.kernel.util.Location" value="[5.0, -14.0]">
                    </property>
                    <property name="rotation" class="ptolemy.data.expr.Parameter" value="115.0">
                    </property>
                    <property name="x" class="ptolemy.data.expr.Parameter" value="5.0">
                    </property>
                    <property name="y" class="ptolemy.data.expr.Parameter" value="0.0">
                    </property>
                </property>
            </property>
            <property name="SOUTH" class="ptolemy.data.expr.Parameter" value="SOUTH">
            </property>
            <property name="EAST" class="ptolemy.data.expr.Parameter" value="EAST">
            </property>
            <port name="car" class="ptolemy.actor.TypedIOPort">
                <property name="input"/>
            </port>
            <port name="output" class="ptolemy.actor.TypedIOPort">
                <property name="output"/>
            </port>
        </entity>
        <entity name="setIndicatorSouth" class="ptolemy.actor.lib.jjs.JavaScript">
            <property name="_windowProperties" class="ptolemy.actor.gui.WindowPropertiesAttribute">
            </property>
            <property name="_paneSize" class="ptolemy.actor.gui.SizeAttribute">
            </property>
            <property name="script" class="ptolemy.actor.parameters.PortParameter" value="//Sets the Indicator of a car coming from WEST&#10;// increases the intersection counter by 1&#10;//-1 is left, 0 is straight, 1 is right&#10;exports.setup = function () {&#10;    this.input('car');&#10;    &#10;    this.output('output');&#10;};&#10;&#10;exports.fire = function () {&#10;	carSouth = this.get('car');&#10;	&#10;	if(carSouth.roadMap[carSouth.intersectionCount] == this.getParameter('EAST')) {&#10;		carSouth.intersectionCount = carSouth.intersectionCount + 1;&#10;		carSouth.indicator = 1;&#10;		this.send('output', carSouth);&#10;	}&#10;	else if(carSouth.roadMap[carSouth.intersectionCount] == this.getParameter('WEST')) {&#10;		carSouth.intersectionCount = carSouth.intersectionCount + 1;&#10;		carSouth.indicator = -1;&#10;		this.send('output', carSouth);&#10;	}&#10;};">
                <property name="style" class="ptolemy.actor.gui.style.NoteStyle">
                    <property name="note" class="ptolemy.kernel.util.StringAttribute" value="NOTE: To see the script, invoke Open Actor">
                    </property>
                </property>
            </property>
            <property name="_tableauFactory" class="ptolemy.vergil.toolbox.TextEditorTableauFactory">
                <property name="attributeName" class="ptolemy.kernel.util.StringAttribute" value="script">
                </property>
                <property name="syntaxStyle" class="ptolemy.kernel.util.StringAttribute" value="text/javascript">
                </property>
            </property>
            <property name="_location" class="ptolemy.kernel.util.Location" value="[290.0, 590.0]">
            </property>
            <property name="_icon" class="ptolemy.vergil.icon.EditorIcon">
                <property name="arc" class="ptolemy.vergil.kernel.attributes.ArcAttribute">
                    <property name="_location" class="ptolemy.kernel.util.Location" value="[0.0, 1.0]">
                    </property>
                    <property name="width" class="ptolemy.data.expr.Parameter" value="36.0">
                    </property>
                    <property name="height" class="ptolemy.data.expr.Parameter" value="32.0">
                    </property>
                    <property name="centered" class="ptolemy.data.expr.Parameter" value="true">
                    </property>
                    <property name="fillColor" class="ptolemy.actor.gui.ColorAttribute" value="{1.0,1.0,0.0,1.0}">
                    </property>
                </property>
                <property name="line" class="ptolemy.vergil.kernel.attributes.LineAttribute">
                    <property name="_location" class="ptolemy.kernel.util.Location" value="[6.0, -6.000000000000016]">
                    </property>
                    <property name="rotation" class="ptolemy.data.expr.Parameter" value="125.0">
                    </property>
                    <property name="x" class="ptolemy.data.expr.Parameter" value="5.0">
                    </property>
                    <property name="y" class="ptolemy.data.expr.Parameter" value="0.0">
                    </property>
                </property>
                <property name="line2" class="ptolemy.vergil.kernel.attributes.LineAttribute">
                    <property name="_location" class="ptolemy.kernel.util.Location" value="[10.0, -3.019806626980426E-14]">
                    </property>
                    <property name="rotation" class="ptolemy.data.expr.Parameter" value="100.0">
                    </property>
                    <property name="x" class="ptolemy.data.expr.Parameter" value="5.0">
                    </property>
                    <property name="y" class="ptolemy.data.expr.Parameter" value="0.0">
                    </property>
                </property>
                <property name="line3" class="ptolemy.vergil.kernel.attributes.LineAttribute">
                    <property name="_location" class="ptolemy.kernel.util.Location" value="[-5.0, -14.000000000000002]">
                    </property>
                    <property name="rotation" class="ptolemy.data.expr.Parameter" value="115.0">
                    </property>
                    <property name="x" class="ptolemy.data.expr.Parameter" value="5.0">
                    </property>
                    <property name="y" class="ptolemy.data.expr.Parameter" value="0.0">
                    </property>
                </property>
                <property name="line4" class="ptolemy.vergil.kernel.attributes.LineAttribute">
                    <property name="_location" class="ptolemy.kernel.util.Location" value="[17.0, 5.999999999999972]">
                    </property>
                    <property name="rotation" class="ptolemy.data.expr.Parameter" value="135.0">
                    </property>
                    <property name="x" class="ptolemy.data.expr.Parameter" value="5.0">
                    </property>
                    <property name="y" class="ptolemy.data.expr.Parameter" value="0.0">
                    </property>
                </property>
                <property name="line5" class="ptolemy.vergil.kernel.attributes.LineAttribute">
                    <property name="_location" class="ptolemy.kernel.util.Location" value="[2.0, -13.000000000000002]">
                    </property>
                    <property name="rotation" class="ptolemy.data.expr.Parameter" value="115.0">
                    </property>
                    <property name="x" class="ptolemy.data.expr.Parameter" value="5.0">
                    </property>
                    <property name="y" class="ptolemy.data.expr.Parameter" value="0.0">
                    </property>
                </property>
            </property>
            <property name="WEST" class="ptolemy.data.expr.Parameter" value="WEST">
            </property>
            <property name="EAST" class="ptolemy.data.expr.Parameter" value="EAST">
            </property>
            <port name="car" class="ptolemy.actor.TypedIOPort">
                <property name="input"/>
            </port>
            <port name="output" class="ptolemy.actor.TypedIOPort">
                <property name="output"/>
            </port>
        </entity>
        <entity name="setIndicatorEast" class="ptolemy.actor.lib.jjs.JavaScript">
            <property name="_windowProperties" class="ptolemy.actor.gui.WindowPropertiesAttribute">
            </property>
            <property name="_paneSize" class="ptolemy.actor.gui.SizeAttribute">
            </property>
            <property name="script" class="ptolemy.actor.parameters.PortParameter" value="//Sets the Indicator of a car coming from WEST&#10;// increases the intersection counter by 1&#10;//-1 is left, 0 is straight, 1 is right&#10;exports.setup = function () {&#10;    this.input('car');&#10;    &#10;    this.output('output');&#10;};&#10;&#10;exports.fire = function () {&#10;	carEast = this.get('car');&#10;	&#10;	if(carEast.roadMap[carEast.intersectionCount] == this.getParameter('SOUTH')) {&#10;		carEast.intersectionCount = carEast.intersectionCount + 1;&#10;		carEast.indicator = -1;&#10;		this.send('output', carEast);&#10;	}&#10;	else if(carEast.roadMap[carEast.intersectionCount] == this.getParameter('WEST')) {&#10;		carEast.intersectionCount = carEast.intersectionCount + 1;&#10;		carEast.indicator = 0;&#10;		this.send('output', carEast);&#10;	}&#10;};">
                <property name="style" class="ptolemy.actor.gui.style.NoteStyle">
                    <property name="note" class="ptolemy.kernel.util.StringAttribute" value="NOTE: To see the script, invoke Open Actor">
                    </property>
                </property>
            </property>
            <property name="_tableauFactory" class="ptolemy.vergil.toolbox.TextEditorTableauFactory">
                <property name="attributeName" class="ptolemy.kernel.util.StringAttribute" value="script">
                </property>
                <property name="syntaxStyle" class="ptolemy.kernel.util.StringAttribute" value="text/javascript">
                </property>
            </property>
            <property name="_location" class="ptolemy.kernel.util.Location" value="[430.0, 385.0]">
            </property>
            <property name="_icon" class="ptolemy.vergil.icon.EditorIcon">
                <property name="arc" class="ptolemy.vergil.kernel.attributes.ArcAttribute">
                    <property name="_location" class="ptolemy.kernel.util.Location" value="[0.0, 2.0]">
                    </property>
                    <property name="width" class="ptolemy.data.expr.Parameter" value="36.0">
                    </property>
                    <property name="height" class="ptolemy.data.expr.Parameter" value="32.0">
                    </property>
                    <property name="centered" class="ptolemy.data.expr.Parameter" value="true">
                    </property>
                    <property name="fillColor" class="ptolemy.actor.gui.ColorAttribute" value="{1.0,1.0,0.0,1.0}">
                    </property>
                </property>
                <property name="line" class="ptolemy.vergil.kernel.attributes.LineAttribute">
                    <property name="_location" class="ptolemy.kernel.util.Location" value="[6.0, -5.000000000000012]">
                    </property>
                    <property name="rotation" class="ptolemy.data.expr.Parameter" value="125.0">
                    </property>
                    <property name="x" class="ptolemy.data.expr.Parameter" value="5.0">
                    </property>
                    <property name="y" class="ptolemy.data.expr.Parameter" value="0.0">
                    </property>
                </property>
                <property name="line2" class="ptolemy.vergil.kernel.attributes.LineAttribute">
                    <property name="_location" class="ptolemy.kernel.util.Location" value="[10.0, 0.9999999999999698]">
                    </property>
                    <property name="rotation" class="ptolemy.data.expr.Parameter" value="100.0">
                    </property>
                    <property name="x" class="ptolemy.data.expr.Parameter" value="5.0">
                    </property>
                    <property name="y" class="ptolemy.data.expr.Parameter" value="0.0">
                    </property>
                </property>
                <property name="line3" class="ptolemy.vergil.kernel.attributes.LineAttribute">
                    <property name="_location" class="ptolemy.kernel.util.Location" value="[-5.0, -13.000000000000002]">
                    </property>
                    <property name="rotation" class="ptolemy.data.expr.Parameter" value="115.0">
                    </property>
                    <property name="x" class="ptolemy.data.expr.Parameter" value="5.0">
                    </property>
                    <property name="y" class="ptolemy.data.expr.Parameter" value="0.0">
                    </property>
                </property>
                <property name="line4" class="ptolemy.vergil.kernel.attributes.LineAttribute">
                    <property name="_location" class="ptolemy.kernel.util.Location" value="[17.0, 6.999999999999972]">
                    </property>
                    <property name="rotation" class="ptolemy.data.expr.Parameter" value="135.0">
                    </property>
                    <property name="x" class="ptolemy.data.expr.Parameter" value="5.0">
                    </property>
                    <property name="y" class="ptolemy.data.expr.Parameter" value="0.0">
                    </property>
                </property>
                <property name="line5" class="ptolemy.vergil.kernel.attributes.LineAttribute">
                    <property name="_location" class="ptolemy.kernel.util.Location" value="[2.0, -12.000000000000002]">
                    </property>
                    <property name="rotation" class="ptolemy.data.expr.Parameter" value="115.0">
                    </property>
                    <property name="x" class="ptolemy.data.expr.Parameter" value="5.0">
                    </property>
                    <property name="y" class="ptolemy.data.expr.Parameter" value="0.0">
                    </property>
                </property>
            </property>
            <property name="SOUTH" class="ptolemy.data.expr.Parameter" value="SOUTH">
            </property>
            <property name="WEST" class="ptolemy.data.expr.Parameter" value="WEST">
            </property>
            <port name="car" class="ptolemy.actor.TypedIOPort">
                <property name="input"/>
                <property name="_cardinal" class="ptolemy.kernel.util.StringAttribute" value="EAST">
                </property>
            </port>
            <port name="output" class="ptolemy.actor.TypedIOPort">
                <property name="output"/>
                <property name="_cardinal" class="ptolemy.kernel.util.StringAttribute" value="WEST">
                </property>
            </port>
        </entity>
        <entity name="Debug" class="ptolemy.actor.lib.gui.Display">
            <property name="_windowProperties" class="ptolemy.actor.gui.WindowPropertiesAttribute" value="{bounds={34, 663, 359, 246}, maximized=false}">
            </property>
            <property name="_paneSize" class="ptolemy.actor.gui.SizeAttribute" value="[343, 186]">
            </property>
            <property name="_location" class="ptolemy.kernel.util.Location" value="[420.8919219970703, 517.3632659912109]">
            </property>
        </entity>
        <entity name="TimedPlotter" class="ptolemy.actor.lib.gui.TimedPlotter">
            <property name="legend" class="ptolemy.kernel.util.StringAttribute" value="carCount">
            </property>
            <property name="_windowProperties" class="ptolemy.actor.gui.WindowPropertiesAttribute" value="{bounds={395, 329, 642, 334}, maximized=false}">
            </property>
            <property name="_plotSize" class="ptolemy.actor.gui.SizeAttribute" value="[626, 274]">
            </property>
            <property name="useLocalTime" class="ptolemy.data.expr.Parameter" value="false">
            </property>
            <property name="_location" class="ptolemy.kernel.util.Location" value="[415.0, 305.0]">
            </property>
            <configure>
<?plotml <!DOCTYPE plot PUBLIC "-//UC Berkeley//DTD PlotML 1//EN"
"http://ptolemy.eecs.berkeley.edu/xml/dtd/PlotML_1.dtd">
<plot>
<title>TimedPlotter</title>
<xLabel></xLabel>
<yLabel></yLabel>
<xRange min="1.7976931348623157E308" max="-1.7976931348623157E308"/>
<yRange min="1.7976931348623157E308" max="-1.7976931348623157E308"/>
</plot>?>
            </configure>
        </entity>
        <entity name="TimedPlotter2" class="ptolemy.actor.lib.gui.TimedPlotter">
            <property name="legend" class="ptolemy.kernel.util.StringAttribute" value="traffic_East, traffic_West, traffic_South">
            </property>
            <property name="_windowProperties" class="ptolemy.actor.gui.WindowPropertiesAttribute" value="{bounds={0, 12, 1347, 350}, maximized=false}">
            </property>
            <property name="_plotSize" class="ptolemy.actor.gui.SizeAttribute" value="[1331, 290]">
            </property>
            <property name="disconnectGraphOnAbsentValue" class="ptolemy.data.expr.Parameter" value="false">
            </property>
            <property name="useLocalTime" class="ptolemy.data.expr.Parameter" value="false">
            </property>
            <property name="_location" class="ptolemy.kernel.util.Location" value="[575.0, 605.0]">
            </property>
            <configure>
<?plotml <!DOCTYPE plot PUBLIC "-//UC Berkeley//DTD PlotML 1//EN"
"http://ptolemy.eecs.berkeley.edu/xml/dtd/PlotML_1.dtd">
<plot>
<title>TimedPlotter</title>
<xLabel></xLabel>
<yLabel></yLabel>
<xRange min="1.7976931348623157E308" max="-1.7976931348623157E308"/>
<yRange min="1.7976931348623157E308" max="-1.7976931348623157E308"/>
</plot>?>
            </configure>
        </entity>
        <relation name="relation4" class="ptolemy.actor.TypedIORelation">
        </relation>
        <relation name="relation5" class="ptolemy.actor.TypedIORelation">
        </relation>
        <relation name="relation6" class="ptolemy.actor.TypedIORelation">
        </relation>
        <relation name="relation" class="ptolemy.actor.TypedIORelation">
            <vertex name="vertex" value="{0.0, 0.0}">
            </vertex>
        </relation>
        <relation name="relation2" class="ptolemy.actor.TypedIORelation">
        </relation>
        <relation name="relation9" class="ptolemy.actor.TypedIORelation">
        </relation>
        <relation name="relation10" class="ptolemy.actor.TypedIORelation">
        </relation>
        <relation name="relation7" class="ptolemy.actor.TypedIORelation">
        </relation>
        <relation name="relation3" class="ptolemy.actor.TypedIORelation">
        </relation>
        <relation name="relation8" class="ptolemy.actor.TypedIORelation">
        </relation>
        <relation name="relation11" class="ptolemy.actor.TypedIORelation">
        </relation>
        <relation name="relation12" class="ptolemy.actor.TypedIORelation">
        </relation>
        <relation name="relation13" class="ptolemy.actor.TypedIORelation">
        </relation>
        <relation name="relation14" class="ptolemy.actor.TypedIORelation">
        </relation>
        <link port="EastOut" relation="relation5"/>
        <link port="WestIn" relation="relation7"/>
        <link port="WestOut" relation="relation4"/>
        <link port="SouthIn" relation="relation3"/>
        <link port="SouthOut" relation="relation6"/>
        <link port="EastIn" relation="relation8"/>
        <link port="T-Intersection Right-Hand-Rule.carWEST" relation="relation10"/>
        <link port="T-Intersection Right-Hand-Rule.carEAST" relation="relation9"/>
        <link port="T-Intersection Right-Hand-Rule.carSOUTH" relation="relation2"/>
        <link port="T-Intersection Right-Hand-Rule.OWEST" relation="relation4"/>
        <link port="T-Intersection Right-Hand-Rule.OEAST" relation="relation5"/>
        <link port="T-Intersection Right-Hand-Rule.OSOUTH" relation="relation6"/>
        <link port="T-Intersection Right-Hand-Rule.display" relation="relation11"/>
        <link port="T-Intersection Right-Hand-Rule.trafficJamDetectorW" relation="relation13"/>
        <link port="T-Intersection Right-Hand-Rule.trafficJamDetectorE" relation="relation12"/>
        <link port="T-Intersection Right-Hand-Rule.trafficJamDetectorS" relation="relation14"/>
        <link port="setIndicatorWest.car" relation="relation7"/>
        <link port="setIndicatorWest.output" relation="relation10"/>
        <link port="setIndicatorSouth.car" relation="relation3"/>
        <link port="setIndicatorSouth.output" relation="relation2"/>
        <link port="setIndicatorEast.car" relation="relation8"/>
        <link port="setIndicatorEast.output" relation="relation9"/>
        <link port="TimedPlotter.input" relation="relation11"/>
        <link port="TimedPlotter2.input" relation="relation12"/>
        <link port="TimedPlotter2.input" relation="relation13"/>
        <link port="TimedPlotter2.input" relation="relation14"/>
    </entity>
    <entity name="Cross-Intersection(3)" class="ptolemy.actor.TypedCompositeActor">
        <property name="_location" class="ptolemy.kernel.util.Location" value="[220.0, 270.0]">
        </property>
        <property name="_windowProperties" class="ptolemy.actor.gui.WindowPropertiesAttribute" value="{bounds={114, 40, 928, 616}, maximized=false}">
        </property>
        <property name="_vergilSize" class="ptolemy.actor.gui.SizeAttribute" value="[700, 499]">
        </property>
        <property name="_vergilZoomFactor" class="ptolemy.data.expr.ExpertParameter" value="1.0">
        </property>
        <property name="_vergilCenter" class="ptolemy.data.expr.ExpertParameter" value="{383.6204427083333, 391.84049479166674}">
        </property>
        <property name="intersectionId" class="ptolemy.data.expr.Parameter" value="3">
        </property>
        <property name="SOUTH" class="ptolemy.data.expr.Parameter" value="5">
        </property>
        <property name="WEST" class="ptolemy.data.expr.Parameter" value="14">
        </property>
        <property name="EAST" class="ptolemy.data.expr.Parameter" value="4">
        </property>
        <property name="NORTH" class="ptolemy.data.expr.Parameter" value="2">
        </property>
        <port name="EastOut" class="ptolemy.actor.TypedIOPort">
            <property name="output"/>
            <property name="_cardinal" class="ptolemy.kernel.util.StringAttribute" value="EAST">
            </property>
            <property name="_showName" class="ptolemy.data.expr.SingletonParameter" value="false">
            </property>
            <property name="_location" class="ptolemy.kernel.util.Location" value="[425.0, 435.0]">
            </property>
        </port>
        <port name="WestIn" class="ptolemy.actor.TypedIOPort">
            <property name="input"/>
            <property name="_cardinal" class="ptolemy.kernel.util.StringAttribute" value="WEST">
            </property>
            <property name="_showName" class="ptolemy.data.expr.SingletonParameter" value="false">
            </property>
            <property name="_location" class="ptolemy.kernel.util.Location" value="[45.0, 385.0]">
            </property>
        </port>
        <port name="WestOut" class="ptolemy.actor.TypedIOPort">
            <property name="output"/>
            <property name="_cardinal" class="ptolemy.kernel.util.StringAttribute" value="WEST">
            </property>
            <property name="_showName" class="ptolemy.data.expr.SingletonParameter" value="false">
            </property>
            <property name="_location" class="ptolemy.kernel.util.Location" value="[195.0, 460.0]">
            </property>
        </port>
        <port name="SouthIn" class="ptolemy.actor.TypedIOPort">
            <property name="input"/>
            <property name="_cardinal" class="ptolemy.kernel.util.StringAttribute" value="SOUTH">
            </property>
            <property name="_showName" class="ptolemy.data.expr.SingletonParameter" value="false">
            </property>
            <property name="_location" class="ptolemy.kernel.util.Location" value="[135.0, 590.0]">
            </property>
        </port>
        <port name="SouthOut" class="ptolemy.actor.TypedIOPort">
            <property name="output"/>
            <property name="_cardinal" class="ptolemy.kernel.util.StringAttribute" value="SOUTH">
            </property>
            <property name="_showName" class="ptolemy.data.expr.SingletonParameter" value="false">
            </property>
            <property name="_location" class="ptolemy.kernel.util.Location" value="[435.0, 580.0]">
            </property>
        </port>
        <port name="EastIn" class="ptolemy.actor.TypedIOPort">
            <property name="input"/>
            <property name="_location" class="ptolemy.kernel.util.Location" value="[590.0, 415.0]">
            </property>
            <property name="_cardinal" class="ptolemy.kernel.util.StringAttribute" value="EAST">
            </property>
        </port>
        <port name="NorthIn" class="ptolemy.actor.TypedIOPort">
            <property name="input"/>
            <property name="_cardinal" class="ptolemy.kernel.util.StringAttribute" value="NORTH">
            </property>
            <property name="_location" class="ptolemy.kernel.util.Location" value="[300.0, 195.0]">
            </property>
        </port>
        <port name="NorthOut" class="ptolemy.actor.TypedIOPort">
            <property name="output"/>
            <property name="_cardinal" class="ptolemy.kernel.util.StringAttribute" value="NORTH">
            </property>
            <property name="_location" class="ptolemy.kernel.util.Location" value="[275.0, 265.0]">
            </property>
        </port>
        <entity name="T-Intersection Right-Hand-Rule" class="ptolemy.actor.lib.jjs.JavaScript">
            <property name="_windowProperties" class="ptolemy.actor.gui.WindowPropertiesAttribute">
            </property>
            <property name="_paneSize" class="ptolemy.actor.gui.SizeAttribute">
            </property>
            <property name="script" class="ptolemy.actor.parameters.PortParameter" value="	var QueueW = [];&#10;	var QueueE = [];&#10;	var QueueS = [];&#10;	var QueueN = [];&#10;	var carCount = 0; // indicates number of cars currently in the intersection&#10;	var countN = 0;&#10;	var countE = 0;&#10;	var countS = 0;&#10;	var countW = 0;&#10;	var date;&#10;&#10;// T-Intersection right-hand-rule&#10;//fires the car which has priority and lets the others wait&#10;exports.setup = function () {&#10;	//the Input-ports for the incoming cars&#10;    this.input('carWEST');&#10;    this.input('carEAST');&#10;    this.input('carSOUTH');&#10;    this.input('carNORTH');&#10;    //the Output-ports for the leaving cars&#10;    this.output('OWEST');&#10;    this.output('OEAST');&#10;    this.output('OSOUTH');&#10;    this.output('ONORTH');&#10;    this.output('trafficJamDetectorN');&#10;    this.output('trafficJamDetectorE');&#10;    this.output('trafficJamDetectorS');&#10;    this.output('trafficJamDetectorW');&#10;    this.output('Debug');&#10;}&#10;&#10;exports.initialize = function () {&#10;	//creates an Array that contains the cars that stand in an Intersection&#10;	//following Array positions are relevant: 0 = WEST, 1 = EAST and 2 = SOUTH&#10;	&#10;	this.addInputHandler('carWEST', function() {&#10;	QueueW.unshift(this.get('carWEST'));&#10;	carCount++;&#10;	countW++;&#10;	this.send('display', carCount);&#10;	this.send('trafficJamDetectorW', countW);&#10;	if(carCount == 1) {&#10;		setTimeout(right_hand_rule, 2000);&#10;	}&#10;	});&#10;	&#10;	this.addInputHandler('carEAST', function() {&#10;	QueueE.unshift(this.get('carEAST'));&#10;	carCount++;&#10;	countE++;&#10;	this.send('display', carCount);&#10;	this.send('trafficJamDetectorE', countE);&#10;	if(carCount == 1) {&#10;		setTimeout(right_hand_rule, 2000);&#10;	}&#10;	});&#10;	&#10;	this.addInputHandler('carSOUTH', function() {&#10;	QueueS.unshift(this.get('carSOUTH'));&#10;	carCount++;&#10;	countS++;&#10;	this.send('display', carCount);&#10;	this.send('trafficJamDetectorS', countS);&#10;	if(carCount == 1) {&#10;		setTimeout(right_hand_rule, 2000);&#10;	}&#10;	});&#10;	&#10;	this.addInputHandler('carNORTH', function() {&#10;	QueueN.unshift(this.get('carNORTH'));&#10;	carCount++;&#10;	countN++;&#10;	this.send('display', carCount);&#10;	this.send('trafficJamDetectorN', countN);&#10;	if(carCount == 1) {&#10;		setTimeout(right_hand_rule, 2000);&#10;	}&#10;	});&#10;}	&#10;	&#10;	function right_hand_rule() {&#10;		var SentW = false;&#10;		var SentE = false;&#10;		var SentS = false;&#10;		var SentN = false;&#10;		&#10;		//Debug&#10;		this.send('Debug',&quot;QueueW &quot; + QueueW.length);&#10;		this.send('Debug',&quot;QueueE &quot; + QueueE.length);&#10;		this.send('Debug',&quot;QueueS &quot; + QueueS.length);&#10;		this.send('Debug',&quot;QueueN &quot; + QueueN.length);&#10;		this.send('Debug', &quot;carCount &quot; + carCount);&#10;		&#10;		if(QueueW.length != 0) { // car from WEST&#10;			this.send('Debug',&quot;CarW &quot; + QueueW[QueueW.length - 1]);&#10;			if(QueueW[QueueW.length - 1].indicator == 0) { //WEST -&gt; STRAIGHT&#10;				if(QueueS.length != 0) { // car from SOUTH&#10;					//stop&#10;				} else { // no car from SOUTH&#10;					this.send('OEAST',QueueW[QueueW.length - 1]);&#10;					SentW = true;&#10;				}&#10;			}else if(QueueW[QueueW.length - 1].indicator == 1) { // WEST -&gt; RIGHT&#10;				this.send('OSOUTH',QueueW[QueueW.length - 1]);&#10;				SentW = true;&#10;			}else if(QueueW[QueueW.length - 1].indicator == -1) { // WEST -&gt; LEFT&#10;				if(QueueE.length != 0 &amp;&amp; QueueE[QueueE.length - 1].indicator == -1) { // car from EAST&#10;					this.send('ONORTH',QueueW[QueueW.length - 1]);&#10;					SentW = true;&#10;				} else if(QueueS.length != 0) { // car from SOUTH&#10;					// stop&#10;				} else {&#10;					this.send('ONORTH',QueueW[QueueW.length - 1]);&#10;					SentW = true;&#10;				}&#10;			}&#10;		}&#10;		&#10;		if(QueueE.length != 0) { // car from EAST&#10;			this.send('Debug',&quot;CarE &quot; + QueueE[QueueE.length - 1]);&#10;			if(QueueE[QueueE.length - 1].indicator == 0) { // EAST -&gt; STRAIGHT&#10;				if (QueueN.length != 0) { // car from NORTH&#10;					// stop&#10;				} else { // no car from NORTH&#10;					this.send('OWEST',QueueE[QueueE.length - 1]);&#10;					SentE = true;&#10;				}&#10;			}else if(QueueE[QueueE.length - 1].indicator == -1) { // EAST -&gt; LEFT&#10;				if(QueueW.length != 0 &amp;&amp; QueueW[QueueW.length - 1].indicator == -1) { // car from WEST&#10;					this.send('OSOUTH',QueueE[QueueE.length - 1]);&#10;					SentE = true;&#10;				} else if(QueueN.length != 0) { // car from NORTH&#10;					// stop&#10;				} else {&#10;					this.send('OSOUTH',QueueE[QueueE.length - 1]);&#10;					SentE = true;&#10;				}&#10;			} else if(QueueE[QueueE.length - 1].indicator == 1) { // EAST -&gt; RIGHT&#10;				this.send('ONORTH',QueueE[QueueE.length - 1]);&#10;				SentE = true;&#10;			}&#10;		}&#10;		&#10;		if(QueueS.length != 0) { // car from SOUTH&#10;				this.send('Debug',&quot;CarS &quot; + QueueS[QueueS.length - 1]);&#10;			if(QueueS[QueueS.length - 1].indicator == 1) { // SOUTH -&gt; RIGHT&#10;				this.send('OEAST',QueueS[QueueS.length - 1]);&#10;				SentS = true;&#10;			}else if(QueueS[QueueS.length - 1].indicator == -1) { // SOUTH -&gt; LEFT&#10;				if(QueueE.length != 0) { //car from EAST&#10;					//stop&#10;				}else if(QueueN.length != 0 &amp;&amp; QueueN[QueueN.length - 1].indicator == -1) { //car from NORTH&#10;					this.send('OWEST',QueueS[QueueS.length - 1]);&#10;					SentS = true;&#10;				} else {&#10;					this.send('OWEST',QueueS[QueueS.length - 1]);&#10;					SentS = true;&#10;				}&#10;			} else if (QueueS[QueueS.length - 1].indicator == 0) { //SOUTH -&gt; STRAIGHT&#10;				if (QueueE.length != 0) { // car from EAST&#10;					// stop&#10;				} else {&#10;					this.send('ONORTH',QueueS[QueueS.length - 1]);&#10;					SentS = true;&#10;				}&#10;			}&#10;		}&#10;		&#10;		if(QueueN.length != 0) { // car from NORTH		&#10;			this.send('Debug',&quot;CarN &quot; + QueueN[QueueN.length - 1]);&#10;			if(QueueN[QueueN.length - 1].indicator == 1) { // NORTH -&gt; RIGHT&#10;				this.send('OWEST',QueueN[QueueN.length - 1]);&#10;				SentN = true;&#10;			}else if(QueueN[QueueN.length - 1].indicator == -1) { // NORTH -&gt; LEFT&#10;				if(QueueW.length != 0) { //car from WEST&#10;					//stop&#10;				}else if(QueueS.length != 0 &amp;&amp; QueueS[QueueS.length - 1].indicator == -1) { //car from SOUTH&#10;					this.send('OEAST',QueueN[QueueN.length - 1]);&#10;					SentN = true;&#10;				} else {&#10;					this.send('OEAST',QueueN[QueueN.length - 1]);&#10;					SentN = true;&#10;				}&#10;			} else if (QueueN[QueueN.length - 1].indicator == 0) { //NORTH -&gt; STRAIGHT&#10;				if (QueueW.length != 0) { // car from WEST&#10;					// stop&#10;				} else {&#10;					this.send('OSOUTH',QueueN[QueueN.length - 1]);&#10;					SentN = true;&#10;				}&#10;			}&#10;		}&#10;		&#10;		if(SentW) {&#10;			QueueW.pop();&#10;			carCount--;&#10;			countW--;&#10;			this.send('display', carCount);&#10;			this.send('trafficJamDetectorW', countW);&#10;			}&#10;		&#10;		if(SentE) {&#10;			QueueE.pop();&#10;			carCount--;&#10;			countE--;&#10;			this.send('display', carCount);&#10;			this.send('trafficJamDetectorE', countE);&#10;		}&#10;		&#10;		if(SentS) {&#10;			QueueS.pop();&#10;			carCount--;&#10;			countS--;&#10;			this.send('display', carCount);&#10;			this.send('trafficJamDetectorS', countS);&#10;		}&#10;		&#10;		if(SentN) {&#10;			QueueN.pop();&#10;			carCount--;&#10;			countN--;&#10;			this.send('display', carCount);&#10;			this.send('trafficJamDetectorN', countN);&#10;		}&#10;		&#10;		//Special case if there is a car on each side of the intersection&#10;		if(!SentW &amp;&amp; !SentE &amp;&amp; !SentS &amp;&amp; !SentN) {&#10;			//0 = West, 1 = East, 2 = South, 3 = North&#10;			var random = Math.floor(Math.random() * 3);&#10;			&#10;			this.send('Debug',&quot;QueueW RAND &quot; + QueueW.length);&#10;			this.send('Debug',&quot;QueueE RAND &quot; + QueueE.length);&#10;			this.send('Debug',&quot;QueueS RAND &quot; + QueueS.length);&#10;			this.send('Debug',&quot;QueueN RAND &quot; + QueueN.length);&#10;			this.send('Debug', &quot;carCount RAND &quot; + carCount);&#10;			this.send('Debug', &quot;random numb: &quot; + random);&#10;			&#10;			if(random == 0) {&#10;				if(QueueW[QueueW.length - 1].indicator == 0) {&#10;					this.send('OEAST',QueueW[QueueW.length - 1]);&#10;				}&#10;				else if(QueueW[QueueW.length - 1].indicator == 1) {&#10;					this.send('OSOUTH',QueueW[QueueW.length - 1]);&#10;				}&#10;				else if(QueueW[QueueW.length - 1].indicator == -1) {&#10;					this.send('ONORTH',QueueW[QueueW.length - 1]);&#10;				}&#10;				&#10;				QueueW.pop();&#10;			    carCount--;&#10;			    countW--;&#10;			    this.send('display', carCount);&#10;			    this.send('trafficJamDetectorW', countW);&#10;			}&#10;			&#10;			else if(random == 1) {&#10;				if(QueueE[QueueE.length - 1].indicator == 0) {&#10;					this.send('OWEST',QueueE[QueueE.length - 1]);&#10;				}&#10;				else if(QueueE[QueueE.length - 1].indicator == 1) {&#10;					this.send('ONORTH',QueueE[QueueE.length - 1]);&#10;				}&#10;				else if(QueueE[QueueE.length - 1].indicator == -1) {&#10;					this.send('OSOUTH',QueueE[QueueE.length - 1]);&#10;				}&#10;				&#10;				QueueE.pop();&#10;			    carCount--;&#10;			    countE--;&#10;			    this.send('display', carCount);&#10;			    this.send('trafficJamDetectorE', countE);&#10;			}&#10;			&#10;			else if(random == 2) {&#10;				if(QueueS[QueueS.length - 1].indicator == 0) {&#10;					this.send('ONORTH',QueueS[QueueS.length - 1]);&#10;				}&#10;				else if(QueueS[QueueS.length - 1].indicator == 1) {&#10;					this.send('OEAST',QueueS[QueueS.length - 1]);&#10;				}&#10;				else if(QueueS[QueueS.length - 1].indicator == -1) {&#10;					this.send('OWEST',QueueS[QueueS.length - 1]);&#10;				}&#10;				&#10;				QueueS.pop();&#10;			    carCount--;&#10;			    countS--;&#10;			    this.send('display', carCount);&#10;			    this.send('trafficJamDetectorS', countS);&#10;			}&#10;			else if(random == 3) {&#10;				if(QueueN[QueueN.length - 1].indicator == 0) {&#10;					this.send('OSOUTH',QueueN[QueueN.length - 1]);&#10;				}&#10;				else if(QueueN[QueueN.length - 1].indicator == 1) {&#10;					this.send('OWEST',QueueN[QueueN.length - 1]);&#10;				}&#10;				else if(QueueN[QueueN.length - 1].indicator == -1) {&#10;					this.send('OEAST',QueueN[QueueN.length - 1]);&#10;				}&#10;				&#10;				QueueN.pop();&#10;			    carCount--;&#10;			    countN--;&#10;			    this.send('display', carCount);&#10;			    this.send('trafficJamDetectorN', countN);&#10;			}&#10;		}&#10;		&#10;		if(carCount != 0) {&#10;			setTimeout(right_hand_rule, 2000);&#10;		}&#10;	}&#10;&#10;">
                <property name="style" class="ptolemy.actor.gui.style.NoteStyle">
                    <property name="note" class="ptolemy.kernel.util.StringAttribute" value="NOTE: To see the script, invoke Open Actor">
                    </property>
                </property>
            </property>
            <property name="_tableauFactory" class="ptolemy.vergil.toolbox.TextEditorTableauFactory">
                <property name="attributeName" class="ptolemy.kernel.util.StringAttribute" value="script">
                </property>
                <property name="syntaxStyle" class="ptolemy.kernel.util.StringAttribute" value="text/javascript">
                </property>
            </property>
            <property name="_location" class="ptolemy.kernel.util.Location" value="[335.0, 395.0]">
            </property>
            <property name="_hideName" class="ptolemy.data.expr.SingletonParameter" value="true">
            </property>
            <port name="error" class="ptolemy.actor.TypedIOPort">
                <property name="output"/>
                <property name="_cardinal" class="ptolemy.kernel.util.StringAttribute" value="NORTH">
                </property>
                <property name="_hide" class="ptolemy.data.expr.SingletonParameter" value="true">
                </property>
            </port>
            <port name="script" class="ptolemy.actor.parameters.ParameterPort">
                <property name="input"/>
                <property name="_cardinal" class="ptolemy.kernel.util.StringAttribute" value="SOUTH">
                </property>
                <property name="_hide" class="ptolemy.data.expr.SingletonParameter" value="true">
                </property>
            </port>
            <port name="carWEST" class="ptolemy.actor.TypedIOPort">
                <property name="input"/>
                <property name="_cardinal" class="ptolemy.kernel.util.StringAttribute" value="WEST">
                </property>
            </port>
            <port name="carEAST" class="ptolemy.actor.TypedIOPort">
                <property name="input"/>
                <property name="_cardinal" class="ptolemy.kernel.util.StringAttribute" value="EAST">
                </property>
            </port>
            <port name="carSOUTH" class="ptolemy.actor.TypedIOPort">
                <property name="input"/>
                <property name="_cardinal" class="ptolemy.kernel.util.StringAttribute" value="SOUTH">
                </property>
            </port>
            <port name="OWEST" class="ptolemy.actor.TypedIOPort">
                <property name="output"/>
                <property name="_cardinal" class="ptolemy.kernel.util.StringAttribute" value="WEST">
                </property>
            </port>
            <port name="OEAST" class="ptolemy.actor.TypedIOPort">
                <property name="output"/>
                <property name="_cardinal" class="ptolemy.kernel.util.StringAttribute" value="EAST">
                </property>
            </port>
            <port name="OSOUTH" class="ptolemy.actor.TypedIOPort">
                <property name="output"/>
                <property name="_cardinal" class="ptolemy.kernel.util.StringAttribute" value="SOUTH">
                </property>
            </port>
            <port name="ONORTH" class="ptolemy.actor.TypedIOPort">
                <property name="output"/>
                <property name="_cardinal" class="ptolemy.kernel.util.StringAttribute" value="NORTH">
                </property>
            </port>
            <port name="carNORTH" class="ptolemy.actor.TypedIOPort">
                <property name="input"/>
                <property name="_cardinal" class="ptolemy.kernel.util.StringAttribute" value="NORTH">
                </property>
            </port>
            <port name="Debug" class="ptolemy.actor.TypedIOPort">
                <property name="output"/>
            </port>
            <port name="display" class="ptolemy.actor.TypedIOPort">
                <property name="output"/>
                <property name="_cardinal" class="ptolemy.kernel.util.StringAttribute" value="WEST">
                </property>
                <property name="_type" class="ptolemy.actor.TypeAttribute" value="double">
                </property>
            </port>
            <port name="trafficJamDetectorN" class="ptolemy.actor.TypedIOPort">
                <property name="output"/>
                <property name="_cardinal" class="ptolemy.kernel.util.StringAttribute" value="NORTH">
                </property>
                <property name="_type" class="ptolemy.actor.TypeAttribute" value="double">
                </property>
            </port>
            <port name="trafficJamDetectorE" class="ptolemy.actor.TypedIOPort">
                <property name="output"/>
                <property name="_cardinal" class="ptolemy.kernel.util.StringAttribute" value="EAST">
                </property>
                <property name="_type" class="ptolemy.actor.TypeAttribute" value="double">
                </property>
            </port>
            <port name="trafficJamDetectorS" class="ptolemy.actor.TypedIOPort">
                <property name="output"/>
                <property name="_type" class="ptolemy.actor.TypeAttribute" value="double">
                </property>
                <property name="_cardinal" class="ptolemy.kernel.util.StringAttribute" value="SOUTH">
                </property>
            </port>
            <port name="trafficJamDetectorW" class="ptolemy.actor.TypedIOPort">
                <property name="output"/>
                <property name="_type" class="ptolemy.actor.TypeAttribute" value="double">
                </property>
                <property name="_cardinal" class="ptolemy.kernel.util.StringAttribute" value="WEST">
                </property>
            </port>
        </entity>
        <entity name="setIndicatorWest" class="ptolemy.actor.lib.jjs.JavaScript">
            <property name="_windowProperties" class="ptolemy.actor.gui.WindowPropertiesAttribute">
            </property>
            <property name="_paneSize" class="ptolemy.actor.gui.SizeAttribute">
            </property>
            <property name="script" class="ptolemy.actor.parameters.PortParameter" value="//Sets the Indicator of a car coming from WEST&#10;//-1 is left, 0 is straight, 1 is right&#10;exports.setup = function () {&#10;    this.input('car');&#10;    &#10;    this.output('output');&#10;};&#10;&#10;exports.fire = function () {&#10;	carWest = this.get('car');&#10;	&#10;	if(carWest.roadMap[carWest.intersectionCount] == this.getParameter('SOUTH')) {&#10;		carWest.intersectionCount = carWest.intersectionCount + 1;&#10;		carWest.indicator = 1;&#10;		this.send('output', carWest);&#10;	}&#10;	else if(carWest.roadMap[carWest.intersectionCount] == this.getParameter('EAST')) {&#10;		carWest.intersectionCount = carWest.intersectionCount + 1;&#10;		carWest.indicator = 0;&#10;		this.send('output', carWest);&#10;	}&#10;	else if(carWest.roadMap[carWest.intersectionCount] == this.getParameter('NORTH')) {&#10;		carWest.intersectionCount = carWest.intersectionCount + 1;&#10;		carWest.indicator = -1;&#10;		this.send('output', carWest);&#10;	}&#10;};">
                <property name="style" class="ptolemy.actor.gui.style.NoteStyle">
                    <property name="note" class="ptolemy.kernel.util.StringAttribute" value="NOTE: To see the script, invoke Open Actor">
                    </property>
                </property>
            </property>
            <property name="_tableauFactory" class="ptolemy.vergil.toolbox.TextEditorTableauFactory">
                <property name="attributeName" class="ptolemy.kernel.util.StringAttribute" value="script">
                </property>
                <property name="syntaxStyle" class="ptolemy.kernel.util.StringAttribute" value="text/javascript">
                </property>
            </property>
            <property name="_location" class="ptolemy.kernel.util.Location" value="[125.734375, 384.53125]">
            </property>
            <property name="_icon" class="ptolemy.vergil.icon.EditorIcon">
                <property name="arc" class="ptolemy.vergil.kernel.attributes.ArcAttribute">
                    <property name="_location" class="ptolemy.kernel.util.Location" value="[3.0, 0.0]">
                    </property>
                    <property name="width" class="ptolemy.data.expr.Parameter" value="36.0">
                    </property>
                    <property name="height" class="ptolemy.data.expr.Parameter" value="32.0">
                    </property>
                    <property name="centered" class="ptolemy.data.expr.Parameter" value="true">
                    </property>
                    <property name="fillColor" class="ptolemy.actor.gui.ColorAttribute" value="{1.0,1.0,0.0,1.0}">
                    </property>
                </property>
                <property name="line" class="ptolemy.vergil.kernel.attributes.LineAttribute">
                    <property name="_location" class="ptolemy.kernel.util.Location" value="[9.0, -7.000000000000011]">
                    </property>
                    <property name="rotation" class="ptolemy.data.expr.Parameter" value="125.0">
                    </property>
                    <property name="x" class="ptolemy.data.expr.Parameter" value="5.0">
                    </property>
                    <property name="y" class="ptolemy.data.expr.Parameter" value="0.0">
                    </property>
                </property>
                <property name="line2" class="ptolemy.vergil.kernel.attributes.LineAttribute">
                    <property name="_location" class="ptolemy.kernel.util.Location" value="[13.0, -1.0000000000000284]">
                    </property>
                    <property name="rotation" class="ptolemy.data.expr.Parameter" value="100.0">
                    </property>
                    <property name="x" class="ptolemy.data.expr.Parameter" value="5.0">
                    </property>
                    <property name="y" class="ptolemy.data.expr.Parameter" value="0.0">
                    </property>
                </property>
                <property name="line3" class="ptolemy.vergil.kernel.attributes.LineAttribute">
                    <property name="_location" class="ptolemy.kernel.util.Location" value="[-2.0, -15.0]">
                    </property>
                    <property name="rotation" class="ptolemy.data.expr.Parameter" value="115.0">
                    </property>
                    <property name="x" class="ptolemy.data.expr.Parameter" value="5.0">
                    </property>
                    <property name="y" class="ptolemy.data.expr.Parameter" value="0.0">
                    </property>
                </property>
                <property name="line4" class="ptolemy.vergil.kernel.attributes.LineAttribute">
                    <property name="_location" class="ptolemy.kernel.util.Location" value="[20.0, 4.999999999999972]">
                    </property>
                    <property name="rotation" class="ptolemy.data.expr.Parameter" value="135.0">
                    </property>
                    <property name="x" class="ptolemy.data.expr.Parameter" value="5.0">
                    </property>
                    <property name="y" class="ptolemy.data.expr.Parameter" value="0.0">
                    </property>
                </property>
                <property name="line5" class="ptolemy.vergil.kernel.attributes.LineAttribute">
                    <property name="_location" class="ptolemy.kernel.util.Location" value="[5.0, -14.0]">
                    </property>
                    <property name="rotation" class="ptolemy.data.expr.Parameter" value="115.0">
                    </property>
                    <property name="x" class="ptolemy.data.expr.Parameter" value="5.0">
                    </property>
                    <property name="y" class="ptolemy.data.expr.Parameter" value="0.0">
                    </property>
                </property>
            </property>
            <property name="SOUTH" class="ptolemy.data.expr.Parameter" value="SOUTH">
            </property>
            <property name="NORTH" class="ptolemy.data.expr.Parameter" value="NORTH">
            </property>
            <property name="EAST" class="ptolemy.data.expr.Parameter" value="EAST">
            </property>
            <port name="car" class="ptolemy.actor.TypedIOPort">
                <property name="input"/>
            </port>
            <port name="output" class="ptolemy.actor.TypedIOPort">
                <property name="output"/>
            </port>
        </entity>
        <entity name="setIndicatorSouth" class="ptolemy.actor.lib.jjs.JavaScript">
            <property name="_windowProperties" class="ptolemy.actor.gui.WindowPropertiesAttribute">
            </property>
            <property name="_paneSize" class="ptolemy.actor.gui.SizeAttribute">
            </property>
            <property name="script" class="ptolemy.actor.parameters.PortParameter" value="//Sets the Indicator of a car coming from SOUTH&#10;//-1 is left, 0 is straight, 1 is right&#10;exports.setup = function () {&#10;    this.input('car');&#10;    &#10;    this.output('output');&#10;};&#10;&#10;exports.fire = function () {&#10;	carSouth = this.get('car');&#10;	&#10;	if(carSouth.roadMap[carSouth.intersectionCount] == this.getParameter('EAST')) {&#10;		carSouth.intersectionCount = carSouth.intersectionCount + 1;&#10;		carSouth.indicator = 1;&#10;		this.send('output', carSouth);&#10;	}&#10;	else if(carSouth.roadMap[carSouth.intersectionCount] == this.getParameter('WEST')) {&#10;		carSouth.intersectionCount = carSouth.intersectionCount + 1;&#10;		carSouth.indicator = -1;&#10;		this.send('output', carSouth);&#10;	}&#10;	else if(carSouth.roadMap[carSouth.intersectionCount] == this.getParameter('NORTH')) {&#10;		carSouth.intersectionCount = carSouth.intersectionCount + 1;&#10;		carSouth.indicator = 0;&#10;		this.send('output', carSouth);&#10;	}&#10;};">
                <property name="style" class="ptolemy.actor.gui.style.NoteStyle">
                    <property name="note" class="ptolemy.kernel.util.StringAttribute" value="NOTE: To see the script, invoke Open Actor">
                    </property>
                </property>
            </property>
            <property name="_tableauFactory" class="ptolemy.vergil.toolbox.TextEditorTableauFactory">
                <property name="attributeName" class="ptolemy.kernel.util.StringAttribute" value="script">
                </property>
                <property name="syntaxStyle" class="ptolemy.kernel.util.StringAttribute" value="text/javascript">
                </property>
            </property>
            <property name="_location" class="ptolemy.kernel.util.Location" value="[220.0, 590.0]">
            </property>
            <property name="_icon" class="ptolemy.vergil.icon.EditorIcon">
                <property name="arc" class="ptolemy.vergil.kernel.attributes.ArcAttribute">
                    <property name="_location" class="ptolemy.kernel.util.Location" value="[0.0, 1.0]">
                    </property>
                    <property name="width" class="ptolemy.data.expr.Parameter" value="36.0">
                    </property>
                    <property name="height" class="ptolemy.data.expr.Parameter" value="32.0">
                    </property>
                    <property name="centered" class="ptolemy.data.expr.Parameter" value="true">
                    </property>
                    <property name="fillColor" class="ptolemy.actor.gui.ColorAttribute" value="{1.0,1.0,0.0,1.0}">
                    </property>
                </property>
                <property name="line" class="ptolemy.vergil.kernel.attributes.LineAttribute">
                    <property name="_location" class="ptolemy.kernel.util.Location" value="[6.0, -6.000000000000016]">
                    </property>
                    <property name="rotation" class="ptolemy.data.expr.Parameter" value="125.0">
                    </property>
                    <property name="x" class="ptolemy.data.expr.Parameter" value="5.0">
                    </property>
                    <property name="y" class="ptolemy.data.expr.Parameter" value="0.0">
                    </property>
                </property>
                <property name="line2" class="ptolemy.vergil.kernel.attributes.LineAttribute">
                    <property name="_location" class="ptolemy.kernel.util.Location" value="[10.0, -3.019806626980426E-14]">
                    </property>
                    <property name="rotation" class="ptolemy.data.expr.Parameter" value="100.0">
                    </property>
                    <property name="x" class="ptolemy.data.expr.Parameter" value="5.0">
                    </property>
                    <property name="y" class="ptolemy.data.expr.Parameter" value="0.0">
                    </property>
                </property>
                <property name="line3" class="ptolemy.vergil.kernel.attributes.LineAttribute">
                    <property name="_location" class="ptolemy.kernel.util.Location" value="[-5.0, -14.000000000000002]">
                    </property>
                    <property name="rotation" class="ptolemy.data.expr.Parameter" value="115.0">
                    </property>
                    <property name="x" class="ptolemy.data.expr.Parameter" value="5.0">
                    </property>
                    <property name="y" class="ptolemy.data.expr.Parameter" value="0.0">
                    </property>
                </property>
                <property name="line4" class="ptolemy.vergil.kernel.attributes.LineAttribute">
                    <property name="_location" class="ptolemy.kernel.util.Location" value="[17.0, 5.999999999999972]">
                    </property>
                    <property name="rotation" class="ptolemy.data.expr.Parameter" value="135.0">
                    </property>
                    <property name="x" class="ptolemy.data.expr.Parameter" value="5.0">
                    </property>
                    <property name="y" class="ptolemy.data.expr.Parameter" value="0.0">
                    </property>
                </property>
                <property name="line5" class="ptolemy.vergil.kernel.attributes.LineAttribute">
                    <property name="_location" class="ptolemy.kernel.util.Location" value="[2.0, -13.000000000000002]">
                    </property>
                    <property name="rotation" class="ptolemy.data.expr.Parameter" value="115.0">
                    </property>
                    <property name="x" class="ptolemy.data.expr.Parameter" value="5.0">
                    </property>
                    <property name="y" class="ptolemy.data.expr.Parameter" value="0.0">
                    </property>
                </property>
            </property>
            <property name="WEST" class="ptolemy.data.expr.Parameter" value="WEST">
            </property>
            <property name="EAST" class="ptolemy.data.expr.Parameter" value="EAST">
            </property>
            <property name="NORTH" class="ptolemy.data.expr.Parameter" value="NORTH">
            </property>
            <port name="car" class="ptolemy.actor.TypedIOPort">
                <property name="input"/>
            </port>
            <port name="output" class="ptolemy.actor.TypedIOPort">
                <property name="output"/>
            </port>
        </entity>
        <entity name="setIndicatorEast" class="ptolemy.actor.lib.jjs.JavaScript">
            <property name="_windowProperties" class="ptolemy.actor.gui.WindowPropertiesAttribute">
            </property>
            <property name="_paneSize" class="ptolemy.actor.gui.SizeAttribute">
            </property>
            <property name="script" class="ptolemy.actor.parameters.PortParameter" value="//Sets the Indicator of a car coming from WEST&#10;//-1 is left, 0 is straight, 1 is right&#10;exports.setup = function () {&#10;    this.input('car');&#10;    &#10;    this.output('output');&#10;};&#10;&#10;exports.fire = function () {&#10;	carEast = this.get('car');&#10;	&#10;	if(carEast.roadMap[carEast.intersectionCount] == this.getParameter('SOUTH')) {&#10;		carEast.intersectionCount = carEast.intersectionCount + 1;&#10;		carEast.indicator = -1;&#10;		this.send('output', carEast);&#10;	}&#10;	else if(carEast.roadMap[carEast.intersectionCount] == this.getParameter('WEST')) {&#10;		carEast.intersectionCount = carEast.intersectionCount + 1;&#10;		carEast.indicator = 0;&#10;		this.send('output', carEast);&#10;	}&#10;	else if(carEast.roadMap[carEast.intersectionCount] == this.getParameter('NORTH')) {&#10;		carEast.intersectionCount = carEast.intersectionCount + 1;&#10;		carEast.indicator = 1;&#10;		this.send('output', carEast);&#10;	}&#10;};">
                <property name="style" class="ptolemy.actor.gui.style.NoteStyle">
                    <property name="note" class="ptolemy.kernel.util.StringAttribute" value="NOTE: To see the script, invoke Open Actor">
                    </property>
                </property>
            </property>
            <property name="_tableauFactory" class="ptolemy.vergil.toolbox.TextEditorTableauFactory">
                <property name="attributeName" class="ptolemy.kernel.util.StringAttribute" value="script">
                </property>
                <property name="syntaxStyle" class="ptolemy.kernel.util.StringAttribute" value="text/javascript">
                </property>
            </property>
            <property name="_location" class="ptolemy.kernel.util.Location" value="[485.0, 390.0]">
            </property>
            <property name="_icon" class="ptolemy.vergil.icon.EditorIcon">
                <property name="arc" class="ptolemy.vergil.kernel.attributes.ArcAttribute">
                    <property name="_location" class="ptolemy.kernel.util.Location" value="[0.0, 2.0]">
                    </property>
                    <property name="width" class="ptolemy.data.expr.Parameter" value="36.0">
                    </property>
                    <property name="height" class="ptolemy.data.expr.Parameter" value="32.0">
                    </property>
                    <property name="centered" class="ptolemy.data.expr.Parameter" value="true">
                    </property>
                    <property name="fillColor" class="ptolemy.actor.gui.ColorAttribute" value="{1.0,1.0,0.0,1.0}">
                    </property>
                </property>
                <property name="line" class="ptolemy.vergil.kernel.attributes.LineAttribute">
                    <property name="_location" class="ptolemy.kernel.util.Location" value="[6.0, -5.000000000000012]">
                    </property>
                    <property name="rotation" class="ptolemy.data.expr.Parameter" value="125.0">
                    </property>
                    <property name="x" class="ptolemy.data.expr.Parameter" value="5.0">
                    </property>
                    <property name="y" class="ptolemy.data.expr.Parameter" value="0.0">
                    </property>
                </property>
                <property name="line2" class="ptolemy.vergil.kernel.attributes.LineAttribute">
                    <property name="_location" class="ptolemy.kernel.util.Location" value="[10.0, 0.9999999999999698]">
                    </property>
                    <property name="rotation" class="ptolemy.data.expr.Parameter" value="100.0">
                    </property>
                    <property name="x" class="ptolemy.data.expr.Parameter" value="5.0">
                    </property>
                    <property name="y" class="ptolemy.data.expr.Parameter" value="0.0">
                    </property>
                </property>
                <property name="line3" class="ptolemy.vergil.kernel.attributes.LineAttribute">
                    <property name="_location" class="ptolemy.kernel.util.Location" value="[-5.0, -13.000000000000002]">
                    </property>
                    <property name="rotation" class="ptolemy.data.expr.Parameter" value="115.0">
                    </property>
                    <property name="x" class="ptolemy.data.expr.Parameter" value="5.0">
                    </property>
                    <property name="y" class="ptolemy.data.expr.Parameter" value="0.0">
                    </property>
                </property>
                <property name="line4" class="ptolemy.vergil.kernel.attributes.LineAttribute">
                    <property name="_location" class="ptolemy.kernel.util.Location" value="[17.0, 6.999999999999972]">
                    </property>
                    <property name="rotation" class="ptolemy.data.expr.Parameter" value="135.0">
                    </property>
                    <property name="x" class="ptolemy.data.expr.Parameter" value="5.0">
                    </property>
                    <property name="y" class="ptolemy.data.expr.Parameter" value="0.0">
                    </property>
                </property>
                <property name="line5" class="ptolemy.vergil.kernel.attributes.LineAttribute">
                    <property name="_location" class="ptolemy.kernel.util.Location" value="[2.0, -12.000000000000002]">
                    </property>
                    <property name="rotation" class="ptolemy.data.expr.Parameter" value="115.0">
                    </property>
                    <property name="x" class="ptolemy.data.expr.Parameter" value="5.0">
                    </property>
                    <property name="y" class="ptolemy.data.expr.Parameter" value="0.0">
                    </property>
                </property>
            </property>
            <property name="SOUTH" class="ptolemy.data.expr.Parameter" value="SOUTH">
            </property>
            <property name="WEST" class="ptolemy.data.expr.Parameter" value="WEST">
            </property>
            <property name="NORTH" class="ptolemy.data.expr.Parameter" value="NORTH">
            </property>
            <port name="car" class="ptolemy.actor.TypedIOPort">
                <property name="input"/>
                <property name="_cardinal" class="ptolemy.kernel.util.StringAttribute" value="EAST">
                </property>
            </port>
            <port name="output" class="ptolemy.actor.TypedIOPort">
                <property name="output"/>
                <property name="_cardinal" class="ptolemy.kernel.util.StringAttribute" value="WEST">
                </property>
            </port>
        </entity>
        <entity name="setIndicatorNorth" class="ptolemy.actor.lib.jjs.JavaScript">
            <property name="_windowProperties" class="ptolemy.actor.gui.WindowPropertiesAttribute">
            </property>
            <property name="_paneSize" class="ptolemy.actor.gui.SizeAttribute">
            </property>
            <property name="script" class="ptolemy.actor.parameters.PortParameter" value="//Sets the Indicator of a car coming from WEST&#10;//-1 is left, 0 is straight, 1 is right&#10;exports.setup = function () {&#10;    this.input('car');&#10;    &#10;    this.output('output');&#10;};&#10;&#10;exports.fire = function () {&#10;	carNorth = this.get('car');&#10;	&#10;	if(carNorth.roadMap[carNorth.intersectionCount] == this.getParameter('SOUTH')) {&#10;		carNorth.intersectionCount = carNorth.intersectionCount + 1;&#10;		carNorth.indicator = 0;&#10;		this.send('output', carNorth);&#10;	}&#10;	else if(carNorth.roadMap[carNorth.intersectionCount] == this.getParameter('EAST')) {&#10;		carNorth.intersectionCount = carNorth.intersectionCount + 1;&#10;		carNorth.indicator = -1;&#10;		this.send('output', carNorth);&#10;	}&#10;	else if(carNorth.roadMap[carNorth.intersectionCount] == this.getParameter('WEST')) {&#10;		carNorth.intersectionCount = carNorth.intersectionCount + 1;&#10;		carNorth.indicator = 1;&#10;		this.send('output', carNorth);&#10;	}&#10;};">
                <property name="style" class="ptolemy.actor.gui.style.NoteStyle">
                    <property name="note" class="ptolemy.kernel.util.StringAttribute" value="NOTE: To see the script, invoke Open Actor">
                    </property>
                </property>
            </property>
            <property name="_tableauFactory" class="ptolemy.vergil.toolbox.TextEditorTableauFactory">
                <property name="attributeName" class="ptolemy.kernel.util.StringAttribute" value="script">
                </property>
                <property name="syntaxStyle" class="ptolemy.kernel.util.StringAttribute" value="text/javascript">
                </property>
            </property>
            <property name="_location" class="ptolemy.kernel.util.Location" value="[330.0, 245.0]">
            </property>
            <property name="_icon" class="ptolemy.vergil.icon.EditorIcon">
                <property name="arc" class="ptolemy.vergil.kernel.attributes.ArcAttribute">
                    <property name="_location" class="ptolemy.kernel.util.Location" value="[3.0, 0.0]">
                    </property>
                    <property name="width" class="ptolemy.data.expr.Parameter" value="36.0">
                    </property>
                    <property name="height" class="ptolemy.data.expr.Parameter" value="32.0">
                    </property>
                    <property name="centered" class="ptolemy.data.expr.Parameter" value="true">
                    </property>
                    <property name="fillColor" class="ptolemy.actor.gui.ColorAttribute" value="{1.0,1.0,0.0,1.0}">
                    </property>
                </property>
                <property name="line" class="ptolemy.vergil.kernel.attributes.LineAttribute">
                    <property name="_location" class="ptolemy.kernel.util.Location" value="[9.0, -7.000000000000011]">
                    </property>
                    <property name="rotation" class="ptolemy.data.expr.Parameter" value="125.0">
                    </property>
                    <property name="x" class="ptolemy.data.expr.Parameter" value="5.0">
                    </property>
                    <property name="y" class="ptolemy.data.expr.Parameter" value="0.0">
                    </property>
                </property>
                <property name="line2" class="ptolemy.vergil.kernel.attributes.LineAttribute">
                    <property name="_location" class="ptolemy.kernel.util.Location" value="[13.0, -1.0000000000000284]">
                    </property>
                    <property name="rotation" class="ptolemy.data.expr.Parameter" value="100.0">
                    </property>
                    <property name="x" class="ptolemy.data.expr.Parameter" value="5.0">
                    </property>
                    <property name="y" class="ptolemy.data.expr.Parameter" value="0.0">
                    </property>
                </property>
                <property name="line3" class="ptolemy.vergil.kernel.attributes.LineAttribute">
                    <property name="_location" class="ptolemy.kernel.util.Location" value="[-2.0, -15.0]">
                    </property>
                    <property name="rotation" class="ptolemy.data.expr.Parameter" value="115.0">
                    </property>
                    <property name="x" class="ptolemy.data.expr.Parameter" value="5.0">
                    </property>
                    <property name="y" class="ptolemy.data.expr.Parameter" value="0.0">
                    </property>
                </property>
                <property name="line4" class="ptolemy.vergil.kernel.attributes.LineAttribute">
                    <property name="_location" class="ptolemy.kernel.util.Location" value="[20.0, 4.999999999999972]">
                    </property>
                    <property name="rotation" class="ptolemy.data.expr.Parameter" value="135.0">
                    </property>
                    <property name="x" class="ptolemy.data.expr.Parameter" value="5.0">
                    </property>
                    <property name="y" class="ptolemy.data.expr.Parameter" value="0.0">
                    </property>
                </property>
                <property name="line5" class="ptolemy.vergil.kernel.attributes.LineAttribute">
                    <property name="_location" class="ptolemy.kernel.util.Location" value="[5.0, -14.0]">
                    </property>
                    <property name="rotation" class="ptolemy.data.expr.Parameter" value="115.0">
                    </property>
                    <property name="x" class="ptolemy.data.expr.Parameter" value="5.0">
                    </property>
                    <property name="y" class="ptolemy.data.expr.Parameter" value="0.0">
                    </property>
                </property>
            </property>
            <property name="SOUTH" class="ptolemy.data.expr.Parameter" value="SOUTH">
            </property>
            <property name="_rotatePorts" class="ptolemy.data.expr.Parameter" value="90">
            </property>
            <property name="WEST" class="ptolemy.data.expr.Parameter" value="WEST">
            </property>
            <property name="EAST" class="ptolemy.data.expr.Parameter" value="EAST">
            </property>
            <port name="car" class="ptolemy.actor.TypedIOPort">
                <property name="input"/>
            </port>
            <port name="output" class="ptolemy.actor.TypedIOPort">
                <property name="output"/>
            </port>
        </entity>
        <entity name="Display" class="ptolemy.actor.lib.gui.Display">
            <display name="Debug"/>
            <property name="_windowProperties" class="ptolemy.actor.gui.WindowPropertiesAttribute" value="{bounds={521, 738, 359, 246}, maximized=false}">
            </property>
            <property name="_paneSize" class="ptolemy.actor.gui.SizeAttribute" value="[343, 186]">
            </property>
            <property name="_location" class="ptolemy.kernel.util.Location" value="[410.0, 525.0]">
            </property>
        </entity>
        <entity name="TimedPlotter2" class="ptolemy.actor.lib.gui.TimedPlotter">
            <property name="legend" class="ptolemy.kernel.util.StringAttribute" value="carCount">
            </property>
            <property name="_windowProperties" class="ptolemy.actor.gui.WindowPropertiesAttribute" value="{bounds={34, 273, 642, 334}, maximized=false}">
            </property>
            <property name="_plotSize" class="ptolemy.actor.gui.SizeAttribute" value="[626, 274]">
            </property>
            <property name="_location" class="ptolemy.kernel.util.Location" value="[270.0, 500.0]">
            </property>
            <configure>
<?plotml <!DOCTYPE plot PUBLIC "-//UC Berkeley//DTD PlotML 1//EN"
"http://ptolemy.eecs.berkeley.edu/xml/dtd/PlotML_1.dtd">
<plot>
<title>TimedPlotter</title>
<xLabel></xLabel>
<yLabel></yLabel>
<xRange min="1.7976931348623157E308" max="-1.7976931348623157E308"/>
<yRange min="1.7976931348623157E308" max="-1.7976931348623157E308"/>
</plot>?>
            </configure>
        </entity>
        <entity name="TimedPlotter" class="ptolemy.actor.lib.gui.TimedPlotter">
            <property name="legend" class="ptolemy.kernel.util.StringAttribute" value="traffic_North, traffic_East, traffic_South, traffic_West">
            </property>
            <property name="_windowProperties" class="ptolemy.actor.gui.WindowPropertiesAttribute" value="{bounds={180, 318, 642, 334}, maximized=false}">
            </property>
            <property name="_plotSize" class="ptolemy.actor.gui.SizeAttribute" value="[626, 274]">
            </property>
            <property name="_location" class="ptolemy.kernel.util.Location" value="[580.0, 495.0]">
            </property>
            <configure>
<?plotml <!DOCTYPE plot PUBLIC "-//UC Berkeley//DTD PlotML 1//EN"
"http://ptolemy.eecs.berkeley.edu/xml/dtd/PlotML_1.dtd">
<plot>
<title>TimedPlotter</title>
<xLabel></xLabel>
<yLabel></yLabel>
<xRange min="1.7976931348623157E308" max="-1.7976931348623157E308"/>
<yRange min="1.7976931348623157E308" max="-1.7976931348623157E308"/>
</plot>?>
            </configure>
        </entity>
        <relation name="relation4" class="ptolemy.actor.TypedIORelation">
        </relation>
        <relation name="relation5" class="ptolemy.actor.TypedIORelation">
        </relation>
        <relation name="relation6" class="ptolemy.actor.TypedIORelation">
        </relation>
        <relation name="relation7" class="ptolemy.actor.TypedIORelation">
        </relation>
        <relation name="relation2" class="ptolemy.actor.TypedIORelation">
        </relation>
        <relation name="relation3" class="ptolemy.actor.TypedIORelation">
        </relation>
        <relation name="relation8" class="ptolemy.actor.TypedIORelation">
        </relation>
        <relation name="relation9" class="ptolemy.actor.TypedIORelation">
        </relation>
        <relation name="relation10" class="ptolemy.actor.TypedIORelation">
        </relation>
        <relation name="relation" class="ptolemy.actor.TypedIORelation">
        </relation>
        <relation name="relation11" class="ptolemy.actor.TypedIORelation">
        </relation>
        <relation name="relation12" class="ptolemy.actor.TypedIORelation">
        </relation>
        <relation name="relation13" class="ptolemy.actor.TypedIORelation">
        </relation>
        <relation name="relation14" class="ptolemy.actor.TypedIORelation">
        </relation>
        <relation name="relation15" class="ptolemy.actor.TypedIORelation">
        </relation>
        <relation name="relation16" class="ptolemy.actor.TypedIORelation">
        </relation>
        <relation name="relation17" class="ptolemy.actor.TypedIORelation">
        </relation>
        <link port="EastOut" relation="relation5"/>
        <link port="WestIn" relation="relation7"/>
        <link port="WestOut" relation="relation4"/>
        <link port="SouthIn" relation="relation3"/>
        <link port="SouthOut" relation="relation6"/>
        <link port="EastIn" relation="relation8"/>
        <link port="NorthIn" relation="relation11"/>
        <link port="NorthOut" relation="relation"/>
        <link port="T-Intersection Right-Hand-Rule.carWEST" relation="relation10"/>
        <link port="T-Intersection Right-Hand-Rule.carEAST" relation="relation9"/>
        <link port="T-Intersection Right-Hand-Rule.carSOUTH" relation="relation2"/>
        <link port="T-Intersection Right-Hand-Rule.OWEST" relation="relation4"/>
        <link port="T-Intersection Right-Hand-Rule.OEAST" relation="relation5"/>
        <link port="T-Intersection Right-Hand-Rule.OSOUTH" relation="relation6"/>
        <link port="T-Intersection Right-Hand-Rule.ONORTH" relation="relation"/>
        <link port="T-Intersection Right-Hand-Rule.carNORTH" relation="relation12"/>
        <link port="T-Intersection Right-Hand-Rule.display" relation="relation13"/>
        <link port="T-Intersection Right-Hand-Rule.trafficJamDetectorN" relation="relation14"/>
        <link port="T-Intersection Right-Hand-Rule.trafficJamDetectorE" relation="relation15"/>
        <link port="T-Intersection Right-Hand-Rule.trafficJamDetectorS" relation="relation16"/>
        <link port="T-Intersection Right-Hand-Rule.trafficJamDetectorW" relation="relation17"/>
        <link port="setIndicatorWest.car" relation="relation7"/>
        <link port="setIndicatorWest.output" relation="relation10"/>
        <link port="setIndicatorSouth.car" relation="relation3"/>
        <link port="setIndicatorSouth.output" relation="relation2"/>
        <link port="setIndicatorEast.car" relation="relation8"/>
        <link port="setIndicatorEast.output" relation="relation9"/>
        <link port="setIndicatorNorth.car" relation="relation11"/>
        <link port="setIndicatorNorth.output" relation="relation12"/>
        <link port="TimedPlotter2.input" relation="relation13"/>
        <link port="TimedPlotter.input" relation="relation14"/>
        <link port="TimedPlotter.input" relation="relation15"/>
        <link port="TimedPlotter.input" relation="relation16"/>
        <link port="TimedPlotter.input" relation="relation17"/>
    </entity>
    <entity name="CSVReader5" class="ptolemy.actor.lib.io.CSVReader">
        <property name="fileOrURL" class="ptolemy.actor.parameters.FilePortParameter" value="cars5.txt">
        </property>
        <property name="separator" class="ptolemy.data.expr.StringParameter" value="tab">
        </property>
        <property name="_location" class="ptolemy.kernel.util.Location" value="[-565.0, 70.0]">
        </property>
        <port name="output" class="ptolemy.actor.TypedIOPort">
            <property name="output"/>
            <property name="_type" class="ptolemy.actor.TypeAttribute" value="{carId = int, roadMap = arrayType(int), indicator = int}">
            </property>
        </port>
    </entity>
    <entity name="Counter5" class="ptolemy.actor.lib.Counter">
        <property name="_location" class="ptolemy.kernel.util.Location" value="[1061.625, 205.0]">
        </property>
    </entity>
    <entity name="Output 5" class="ptolemy.actor.lib.gui.MonitorValue">
        <doc>Monitor and display values</doc>
        <property name="displayWidth" class="ptolemy.data.expr.Parameter" value="20">
        </property>
        <property name="_icon" class="ptolemy.vergil.icon.UpdatedValueIcon">
            <property name="attributeName" class="ptolemy.kernel.util.StringAttribute" value="value">
            </property>
            <property name="displayWidth" class="ptolemy.data.expr.Parameter" value="displayWidth">
            </property>
        </property>
        <property name="_location" class="ptolemy.kernel.util.Location" value="[1217.875, 205.0]">
        </property>
    </entity>
    <entity name="Counter6" class="ptolemy.actor.lib.Counter">
        <property name="_location" class="ptolemy.kernel.util.Location" value="[-155.0, -75.0]">
        </property>
        <property name="_flipPortsHorizontal" class="ptolemy.data.expr.Parameter" value="true">
        </property>
    </entity>
    <entity name="Output 1" class="ptolemy.actor.lib.gui.MonitorValue">
        <doc>Monitor and display values</doc>
        <property name="displayWidth" class="ptolemy.data.expr.Parameter" value="20">
        </property>
        <property name="_icon" class="ptolemy.vergil.icon.UpdatedValueIcon">
            <property name="attributeName" class="ptolemy.kernel.util.StringAttribute" value="value">
            </property>
            <property name="displayWidth" class="ptolemy.data.expr.Parameter" value="displayWidth">
            </property>
        </property>
        <property name="_location" class="ptolemy.kernel.util.Location" value="[-315.0, -75.0]">
        </property>
        <property name="_flipPortsHorizontal" class="ptolemy.data.expr.Parameter" value="true">
        </property>
        <property name="_hideName" class="ptolemy.data.expr.SingletonParameter" value="false">
        </property>
    </entity>
    <entity name="Counter" class="ptolemy.actor.lib.Counter">
        <property name="_location" class="ptolemy.kernel.util.Location" value="[-560.0, 135.0]">
        </property>
        <property name="_flipPortsHorizontal" class="ptolemy.data.expr.Parameter" value="true">
        </property>
    </entity>
    <entity name="Output 2" class="ptolemy.actor.lib.gui.MonitorValue">
        <doc>Monitor and display values</doc>
        <property name="displayWidth" class="ptolemy.data.expr.Parameter" value="20">
        </property>
        <property name="_icon" class="ptolemy.vergil.icon.UpdatedValueIcon">
            <property name="attributeName" class="ptolemy.kernel.util.StringAttribute" value="value">
            </property>
            <property name="displayWidth" class="ptolemy.data.expr.Parameter" value="displayWidth">
            </property>
        </property>
        <property name="_location" class="ptolemy.kernel.util.Location" value="[-720.0, 135.0]">
        </property>
        <property name="_flipPortsHorizontal" class="ptolemy.data.expr.Parameter" value="true">
        </property>
    </entity>
    <entity name="Counter2" class="ptolemy.actor.lib.Counter">
        <property name="_location" class="ptolemy.kernel.util.Location" value="[-125.0, 350.0]">
        </property>
        <property name="_flipPortsHorizontal" class="ptolemy.data.expr.Parameter" value="true">
        </property>
    </entity>
    <entity name="Output 3" class="ptolemy.actor.lib.gui.MonitorValue">
        <doc>Monitor and display values</doc>
        <property name="displayWidth" class="ptolemy.data.expr.Parameter" value="20">
        </property>
        <property name="_icon" class="ptolemy.vergil.icon.UpdatedValueIcon">
            <property name="attributeName" class="ptolemy.kernel.util.StringAttribute" value="value">
            </property>
            <property name="displayWidth" class="ptolemy.data.expr.Parameter" value="displayWidth">
            </property>
        </property>
        <property name="_location" class="ptolemy.kernel.util.Location" value="[-280.0, 350.0]">
        </property>
        <property name="_flipPortsHorizontal" class="ptolemy.data.expr.Parameter" value="true">
        </property>
    </entity>
    <entity name="Counter3" class="ptolemy.actor.lib.Counter">
        <property name="_location" class="ptolemy.kernel.util.Location" value="[-510.0, 560.0]">
        </property>
        <property name="_flipPortsHorizontal" class="ptolemy.data.expr.Parameter" value="true">
        </property>
    </entity>
    <entity name="Output 4" class="ptolemy.actor.lib.gui.MonitorValue">
        <doc>Monitor and display values</doc>
        <property name="displayWidth" class="ptolemy.data.expr.Parameter" value="20">
        </property>
        <property name="_icon" class="ptolemy.vergil.icon.UpdatedValueIcon">
            <property name="attributeName" class="ptolemy.kernel.util.StringAttribute" value="value">
            </property>
            <property name="displayWidth" class="ptolemy.data.expr.Parameter" value="displayWidth">
            </property>
        </property>
        <property name="_location" class="ptolemy.kernel.util.Location" value="[-670.0, 560.0]">
        </property>
        <property name="_flipPortsHorizontal" class="ptolemy.data.expr.Parameter" value="true">
        </property>
    </entity>
    <entity name="T-Intersection (2)" class="ptolemy.actor.TypedCompositeActor">
        <property name="_location" class="ptolemy.kernel.util.Location" value="[-30.0, 75.0]">
        </property>
        <property name="_windowProperties" class="ptolemy.actor.gui.WindowPropertiesAttribute" value="{bounds={158, 84, 928, 616}, maximized=false}">
        </property>
        <property name="_vergilSize" class="ptolemy.actor.gui.SizeAttribute" value="[700, 499]">
        </property>
        <property name="_vergilZoomFactor" class="ptolemy.data.expr.ExpertParameter" value="1.0">
        </property>
        <property name="_vergilCenter" class="ptolemy.data.expr.ExpertParameter" value="{367.0, 482.609375}">
        </property>
        <property name="intersectionId" class="ptolemy.data.expr.Parameter" value="2">
        </property>
        <property name="SOUTH" class="ptolemy.data.expr.Parameter" value="3">
        </property>
        <property name="WEST" class="ptolemy.data.expr.Parameter" value="11">
        </property>
        <property name="EAST" class="ptolemy.data.expr.Parameter" value="1">
        </property>
        <port name="EastOut" class="ptolemy.actor.TypedIOPort">
            <property name="output"/>
            <property name="_cardinal" class="ptolemy.kernel.util.StringAttribute" value="EAST">
            </property>
            <property name="_showName" class="ptolemy.data.expr.SingletonParameter" value="false">
            </property>
            <property name="_location" class="ptolemy.kernel.util.Location" value="[425.0, 435.0]">
            </property>
        </port>
        <port name="WestIn" class="ptolemy.actor.TypedIOPort">
            <property name="input"/>
            <property name="_cardinal" class="ptolemy.kernel.util.StringAttribute" value="WEST">
            </property>
            <property name="_showName" class="ptolemy.data.expr.SingletonParameter" value="false">
            </property>
            <property name="_location" class="ptolemy.kernel.util.Location" value="[65.0, 380.0]">
            </property>
        </port>
        <port name="WestOut" class="ptolemy.actor.TypedIOPort">
            <property name="output"/>
            <property name="_cardinal" class="ptolemy.kernel.util.StringAttribute" value="WEST">
            </property>
            <property name="_showName" class="ptolemy.data.expr.SingletonParameter" value="false">
            </property>
            <property name="_location" class="ptolemy.kernel.util.Location" value="[230.0, 450.0]">
            </property>
        </port>
        <port name="SouthIn" class="ptolemy.actor.TypedIOPort">
            <property name="input"/>
            <property name="_cardinal" class="ptolemy.kernel.util.StringAttribute" value="SOUTH">
            </property>
            <property name="_showName" class="ptolemy.data.expr.SingletonParameter" value="false">
            </property>
            <property name="_location" class="ptolemy.kernel.util.Location" value="[45.0, 590.0]">
            </property>
            <property name="_type" class="ptolemy.actor.TypeAttribute" value="{carId = int, roadMap = arrayType(int), indicator = int}">
            </property>
        </port>
        <port name="SouthOut" class="ptolemy.actor.TypedIOPort">
            <property name="output"/>
            <property name="_cardinal" class="ptolemy.kernel.util.StringAttribute" value="SOUTH">
            </property>
            <property name="_showName" class="ptolemy.data.expr.SingletonParameter" value="false">
            </property>
            <property name="_location" class="ptolemy.kernel.util.Location" value="[435.0, 580.0]">
            </property>
            <property name="_type" class="ptolemy.actor.TypeAttribute" value="{carId = int, roadMap = arrayType(int), indicator = int}">
            </property>
        </port>
        <port name="EastIn" class="ptolemy.actor.TypedIOPort">
            <property name="input"/>
            <property name="_location" class="ptolemy.kernel.util.Location" value="[625.0, 415.0]">
            </property>
            <property name="_cardinal" class="ptolemy.kernel.util.StringAttribute" value="EAST">
            </property>
        </port>
        <entity name="T-Intersection Right-Hand-Rule" class="ptolemy.actor.lib.jjs.JavaScript">
            <property name="_windowProperties" class="ptolemy.actor.gui.WindowPropertiesAttribute">
            </property>
            <property name="_paneSize" class="ptolemy.actor.gui.SizeAttribute">
            </property>
            <property name="script" class="ptolemy.actor.parameters.PortParameter" value="	var QueueW = [];&#10;	var QueueE = [];&#10;	var QueueS = [];&#10;	var carCount = 0; // indicates number of cars currently in the intersection&#10;	var countW = 0;&#10;	var countE = 0;&#10;	var countS = 0;&#10;	var date;&#10;&#10;// T-Intersection right-hand-rule&#10;//fires the car which has priority and lets the others wait&#10;exports.setup = function () {&#10;	//the Input-ports for the incoming cars&#10;    this.input('carWEST');&#10;    this.input('carEAST');&#10;    this.input('carSOUTH');&#10;    //the Output-ports for the leaving cars&#10;    this.output('OWEST');&#10;    this.output('OEAST');&#10;    this.output('OSOUTH');&#10;    this.output('Debug');&#10;    this.output('display');&#10;    this.output('trafficJamDetectorW');&#10;    this.output('trafficJamDetectorE');&#10;    this.output('trafficJamDetectorS');&#10;}&#10;&#10;exports.initialize = function () {&#10;	//creates an Array that contains the cars that stand in an Intersection&#10;	&#10;	this.addInputHandler('carWEST', function() {&#10;		QueueW.unshift(this.get('carWEST'));&#10;		carCount++;&#10;		countW++;&#10;		this.send('display', carCount);&#10;		this.send('trafficJamDetectorW', countW);&#10;		if(carCount == 1) {&#10;			setTimeout(right_hand_rule, 2000);&#10;		}&#10;	});&#10;	&#10;	this.addInputHandler('carEAST', function() {&#10;		QueueE.unshift(this.get('carEAST'));&#10;		carCount++;&#10;		countE++;&#10;		this.send('display', carCount);&#10;		this.send('trafficJamDetectorE', countE);&#10;		if(carCount == 1) {&#10;			setTimeout(right_hand_rule, 2000);&#10;		}&#10;	});&#10;	&#10;	this.addInputHandler('carSOUTH', function() {&#10;		QueueS.unshift(this.get('carSOUTH'));&#10;		carCount++;&#10;		countS++;&#10;		this.send('display', carCount);&#10;		this.send('trafficJamDetectorS', countS);&#10;		if(carCount == 1) {&#10;			setTimeout(right_hand_rule, 2000);&#10;		}&#10;	});&#10;	&#10;}&#10;	&#10;	function right_hand_rule() {&#10;		var SentW = false;&#10;		var SentE = false;&#10;		var SentS = false;&#10;		&#10;		//Debug&#10;		this.send('Debug',&quot;QueueW &quot; + QueueW.length);&#10;		this.send('Debug',&quot;QueueE &quot; + QueueE.length);&#10;		this.send('Debug',&quot;QueueS &quot; + QueueS.length);&#10;		this.send('Debug', &quot;carCount &quot; + carCount);&#10;&#10;			if(QueueW.length != 0) {&#10;				if(QueueW[QueueW.length - 1].indicator == 0) {&#10;					if(QueueS.length != 0) {&#10;						//stop&#10;					}else if(QueueS.length == 0) {&#10;						this.send('OEAST',QueueW[QueueW.length - 1]);&#10;						SentW = true;&#10;					}&#10;				}else if(QueueW[QueueW.length - 1].indicator == 1) {&#10;					this.send('OSOUTH',QueueW[QueueW.length - 1]);&#10;					SentW = true;&#10;				}&#10;			}&#10;			&#10;			if(QueueE.length != 0) {&#10;				if(QueueE[QueueE.length - 1].indicator == 0) {&#10;					this.send('OWEST',QueueE[QueueE.length - 1]);&#10;					SentE = true;&#10;				}else if(QueueE[QueueE.length - 1].indicator == -1) {&#10;					if(QueueW.length != 0) {&#10;						//stop&#10;					}else if(QueueW.length == 0) {&#10;						this.send('OSOUTH',QueueE[QueueE.length - 1]);&#10;						SentE = true;&#10;					}&#10;				}&#10;			}&#10;			&#10;			if(QueueS.length != 0) {&#10;				if(QueueS[QueueS.length - 1].indicator == 1) {&#10;					this.send('OEAST',QueueS[QueueS.length - 1]);&#10;					SentS = true;&#10;				}else if(QueueS[QueueS.length - 1].indicator == -1) {&#10;					if(QueueE.length != 0) {&#10;						//stop&#10;					}else if(QueueE.length == 0) {&#10;						this.send('OWEST',QueueS[QueueS.length - 1]);&#10;						SentS = true;&#10;					}&#10;				}&#10;			}&#10;			&#10;			if(SentW) {&#10;				QueueW.pop();&#10;				carCount--;&#10;				countW--;&#10;				this.send('display', carCount);&#10;				this.send('trafficJamDetectorW', countW);&#10;			}&#10;			&#10;			if(SentE) {&#10;				QueueE.pop();&#10;				carCount--;&#10;				countE--;&#10;				this.send('display', carCount);&#10;				this.send('trafficJamDetectorE', countE);&#10;			}&#10;			&#10;			if(SentS) {&#10;				QueueS.pop();&#10;				carCount--;&#10;				countS--;&#10;				this.send('display', carCount);&#10;				this.send('trafficJamDetectorS', countS);&#10;			}&#10;			&#10;			if(carCount != 0) {&#10;				setTimeout(right_hand_rule, 2000);&#10;			}&#10;	}&#10;">
                <property name="style" class="ptolemy.actor.gui.style.NoteStyle">
                    <property name="note" class="ptolemy.kernel.util.StringAttribute" value="NOTE: To see the script, invoke Open Actor">
                    </property>
                </property>
            </property>
            <property name="_tableauFactory" class="ptolemy.vergil.toolbox.TextEditorTableauFactory">
                <property name="attributeName" class="ptolemy.kernel.util.StringAttribute" value="script">
                </property>
                <property name="syntaxStyle" class="ptolemy.kernel.util.StringAttribute" value="text/javascript">
                </property>
            </property>
            <property name="_location" class="ptolemy.kernel.util.Location" value="{335.0, 395.0}">
            </property>
            <property name="_hideName" class="ptolemy.data.expr.SingletonParameter" value="true">
            </property>
            <port name="error" class="ptolemy.actor.TypedIOPort">
                <property name="output"/>
                <property name="_cardinal" class="ptolemy.kernel.util.StringAttribute" value="NORTH">
                </property>
            </port>
            <port name="script" class="ptolemy.actor.parameters.ParameterPort">
                <property name="input"/>
                <property name="_cardinal" class="ptolemy.kernel.util.StringAttribute" value="NORTH">
                </property>
            </port>
            <port name="carWEST" class="ptolemy.actor.TypedIOPort">
                <property name="input"/>
                <property name="_cardinal" class="ptolemy.kernel.util.StringAttribute" value="WEST">
                </property>
            </port>
            <port name="carEAST" class="ptolemy.actor.TypedIOPort">
                <property name="input"/>
                <property name="_cardinal" class="ptolemy.kernel.util.StringAttribute" value="EAST">
                </property>
            </port>
            <port name="carSOUTH" class="ptolemy.actor.TypedIOPort">
                <property name="input"/>
                <property name="_cardinal" class="ptolemy.kernel.util.StringAttribute" value="SOUTH">
                </property>
            </port>
            <port name="OWEST" class="ptolemy.actor.TypedIOPort">
                <property name="output"/>
                <property name="_cardinal" class="ptolemy.kernel.util.StringAttribute" value="WEST">
                </property>
            </port>
            <port name="OEAST" class="ptolemy.actor.TypedIOPort">
                <property name="output"/>
                <property name="_cardinal" class="ptolemy.kernel.util.StringAttribute" value="EAST">
                </property>
            </port>
            <port name="OSOUTH" class="ptolemy.actor.TypedIOPort">
                <property name="output"/>
                <property name="_cardinal" class="ptolemy.kernel.util.StringAttribute" value="SOUTH">
                </property>
            </port>
            <port name="Debug" class="ptolemy.actor.TypedIOPort">
                <property name="output"/>
            </port>
            <port name="display" class="ptolemy.actor.TypedIOPort">
                <property name="output"/>
                <property name="_cardinal" class="ptolemy.kernel.util.StringAttribute" value="NORTH">
                </property>
                <property name="_type" class="ptolemy.actor.TypeAttribute" value="double">
                </property>
            </port>
            <port name="trafficJamDetectorW" class="ptolemy.actor.TypedIOPort">
                <property name="output"/>
                <property name="_type" class="ptolemy.actor.TypeAttribute" value="double">
                </property>
                <property name="_cardinal" class="ptolemy.kernel.util.StringAttribute" value="WEST">
                </property>
            </port>
            <port name="trafficJamDetectorE" class="ptolemy.actor.TypedIOPort">
                <property name="output"/>
                <property name="_type" class="ptolemy.actor.TypeAttribute" value="double">
                </property>
                <property name="_cardinal" class="ptolemy.kernel.util.StringAttribute" value="EAST">
                </property>
            </port>
            <port name="trafficJamDetectorS" class="ptolemy.actor.TypedIOPort">
                <property name="output"/>
                <property name="_type" class="ptolemy.actor.TypeAttribute" value="double">
                </property>
                <property name="_cardinal" class="ptolemy.kernel.util.StringAttribute" value="SOUTH">
                </property>
            </port>
        </entity>
        <entity name="setIndicatorWest" class="ptolemy.actor.lib.jjs.JavaScript">
            <property name="_windowProperties" class="ptolemy.actor.gui.WindowPropertiesAttribute">
            </property>
            <property name="_paneSize" class="ptolemy.actor.gui.SizeAttribute">
            </property>
            <property name="script" class="ptolemy.actor.parameters.PortParameter" value="//Sets the Indicator of a car coming from WEST&#10;// increases the intersection counter by 1&#10;//-1 is left, 0 is straight, 1 is right&#10;exports.setup = function () {&#10;    this.input('car');&#10;    &#10;    this.output('output');&#10;};&#10;&#10;exports.fire = function () {&#10;	carWest = this.get('car');&#10;	&#10;	if(carWest.roadMap[carWest.intersectionCount] == this.getParameter('SOUTH')) {&#10;		carWest.intersectionCount = carWest.intersectionCount + 1;&#10;		carWest.indicator = 1;&#10;		this.send('output', carWest);&#10;	}&#10;	else if(carWest.roadMap[carWest.intersectionCount] == this.getParameter('EAST')) {&#10;		carWest.intersectionCount = carWest.intersectionCount + 1;&#10;		carWest.indicator = 0;&#10;		this.send('output', carWest);&#10;	}&#10;};">
                <property name="style" class="ptolemy.actor.gui.style.NoteStyle">
                    <property name="note" class="ptolemy.kernel.util.StringAttribute" value="NOTE: To see the script, invoke Open Actor">
                    </property>
                </property>
            </property>
            <property name="_tableauFactory" class="ptolemy.vergil.toolbox.TextEditorTableauFactory">
                <property name="attributeName" class="ptolemy.kernel.util.StringAttribute" value="script">
                </property>
                <property name="syntaxStyle" class="ptolemy.kernel.util.StringAttribute" value="text/javascript">
                </property>
            </property>
            <property name="_location" class="ptolemy.kernel.util.Location" value="[255.0, 380.0]">
            </property>
            <property name="_icon" class="ptolemy.vergil.icon.EditorIcon">
                <property name="arc" class="ptolemy.vergil.kernel.attributes.ArcAttribute">
                    <property name="_location" class="ptolemy.kernel.util.Location" value="[3.0, 0.0]">
                    </property>
                    <property name="width" class="ptolemy.data.expr.Parameter" value="36.0">
                    </property>
                    <property name="height" class="ptolemy.data.expr.Parameter" value="32.0">
                    </property>
                    <property name="centered" class="ptolemy.data.expr.Parameter" value="true">
                    </property>
                    <property name="fillColor" class="ptolemy.actor.gui.ColorAttribute" value="{1.0,1.0,0.0,1.0}">
                    </property>
                </property>
                <property name="line" class="ptolemy.vergil.kernel.attributes.LineAttribute">
                    <property name="_location" class="ptolemy.kernel.util.Location" value="[9.0, -7.000000000000011]">
                    </property>
                    <property name="rotation" class="ptolemy.data.expr.Parameter" value="125.0">
                    </property>
                    <property name="x" class="ptolemy.data.expr.Parameter" value="5.0">
                    </property>
                    <property name="y" class="ptolemy.data.expr.Parameter" value="0.0">
                    </property>
                </property>
                <property name="line2" class="ptolemy.vergil.kernel.attributes.LineAttribute">
                    <property name="_location" class="ptolemy.kernel.util.Location" value="[13.0, -1.0000000000000284]">
                    </property>
                    <property name="rotation" class="ptolemy.data.expr.Parameter" value="100.0">
                    </property>
                    <property name="x" class="ptolemy.data.expr.Parameter" value="5.0">
                    </property>
                    <property name="y" class="ptolemy.data.expr.Parameter" value="0.0">
                    </property>
                </property>
                <property name="line3" class="ptolemy.vergil.kernel.attributes.LineAttribute">
                    <property name="_location" class="ptolemy.kernel.util.Location" value="[-2.0, -15.0]">
                    </property>
                    <property name="rotation" class="ptolemy.data.expr.Parameter" value="115.0">
                    </property>
                    <property name="x" class="ptolemy.data.expr.Parameter" value="5.0">
                    </property>
                    <property name="y" class="ptolemy.data.expr.Parameter" value="0.0">
                    </property>
                </property>
                <property name="line4" class="ptolemy.vergil.kernel.attributes.LineAttribute">
                    <property name="_location" class="ptolemy.kernel.util.Location" value="[20.0, 4.999999999999972]">
                    </property>
                    <property name="rotation" class="ptolemy.data.expr.Parameter" value="135.0">
                    </property>
                    <property name="x" class="ptolemy.data.expr.Parameter" value="5.0">
                    </property>
                    <property name="y" class="ptolemy.data.expr.Parameter" value="0.0">
                    </property>
                </property>
                <property name="line5" class="ptolemy.vergil.kernel.attributes.LineAttribute">
                    <property name="_location" class="ptolemy.kernel.util.Location" value="[5.0, -14.0]">
                    </property>
                    <property name="rotation" class="ptolemy.data.expr.Parameter" value="115.0">
                    </property>
                    <property name="x" class="ptolemy.data.expr.Parameter" value="5.0">
                    </property>
                    <property name="y" class="ptolemy.data.expr.Parameter" value="0.0">
                    </property>
                </property>
            </property>
            <property name="SOUTH" class="ptolemy.data.expr.Parameter" value="SOUTH">
            </property>
            <property name="EAST" class="ptolemy.data.expr.Parameter" value="EAST">
            </property>
            <port name="car" class="ptolemy.actor.TypedIOPort">
                <property name="input"/>
            </port>
            <port name="output" class="ptolemy.actor.TypedIOPort">
                <property name="output"/>
            </port>
        </entity>
        <entity name="setIndicatorSouth" class="ptolemy.actor.lib.jjs.JavaScript">
            <property name="_windowProperties" class="ptolemy.actor.gui.WindowPropertiesAttribute">
            </property>
            <property name="_paneSize" class="ptolemy.actor.gui.SizeAttribute">
            </property>
            <property name="script" class="ptolemy.actor.parameters.PortParameter" value="//Sets the Indicator of a car coming from WEST&#10;// increases the intersection counter by 1&#10;//-1 is left, 0 is straight, 1 is right&#10;exports.setup = function () {&#10;    this.input('car');&#10;    &#10;    this.output('output');&#10;};&#10;&#10;exports.fire = function () {&#10;	carSouth = this.get('car');&#10;	&#10;	if(carSouth.roadMap[carSouth.intersectionCount] == this.getParameter('EAST')) {&#10;		carSouth.intersectionCount = carSouth.intersectionCount + 1;&#10;		carSouth.indicator = 1;&#10;		this.send('output', carSouth);&#10;	}&#10;	else if(carSouth.roadMap[carSouth.intersectionCount] == this.getParameter('WEST')) {&#10;		carSouth.intersectionCount = carSouth.intersectionCount + 1;&#10;		carSouth.indicator = -1;&#10;		this.send('output', carSouth);&#10;	}&#10;};">
                <property name="style" class="ptolemy.actor.gui.style.NoteStyle">
                    <property name="note" class="ptolemy.kernel.util.StringAttribute" value="NOTE: To see the script, invoke Open Actor">
                    </property>
                </property>
            </property>
            <property name="_tableauFactory" class="ptolemy.vergil.toolbox.TextEditorTableauFactory">
                <property name="attributeName" class="ptolemy.kernel.util.StringAttribute" value="script">
                </property>
                <property name="syntaxStyle" class="ptolemy.kernel.util.StringAttribute" value="text/javascript">
                </property>
            </property>
            <property name="_location" class="ptolemy.kernel.util.Location" value="[290.0, 590.0]">
            </property>
            <property name="_icon" class="ptolemy.vergil.icon.EditorIcon">
                <property name="arc" class="ptolemy.vergil.kernel.attributes.ArcAttribute">
                    <property name="_location" class="ptolemy.kernel.util.Location" value="[0.0, 1.0]">
                    </property>
                    <property name="width" class="ptolemy.data.expr.Parameter" value="36.0">
                    </property>
                    <property name="height" class="ptolemy.data.expr.Parameter" value="32.0">
                    </property>
                    <property name="centered" class="ptolemy.data.expr.Parameter" value="true">
                    </property>
                    <property name="fillColor" class="ptolemy.actor.gui.ColorAttribute" value="{1.0,1.0,0.0,1.0}">
                    </property>
                </property>
                <property name="line" class="ptolemy.vergil.kernel.attributes.LineAttribute">
                    <property name="_location" class="ptolemy.kernel.util.Location" value="[6.0, -6.000000000000016]">
                    </property>
                    <property name="rotation" class="ptolemy.data.expr.Parameter" value="125.0">
                    </property>
                    <property name="x" class="ptolemy.data.expr.Parameter" value="5.0">
                    </property>
                    <property name="y" class="ptolemy.data.expr.Parameter" value="0.0">
                    </property>
                </property>
                <property name="line2" class="ptolemy.vergil.kernel.attributes.LineAttribute">
                    <property name="_location" class="ptolemy.kernel.util.Location" value="[10.0, -3.019806626980426E-14]">
                    </property>
                    <property name="rotation" class="ptolemy.data.expr.Parameter" value="100.0">
                    </property>
                    <property name="x" class="ptolemy.data.expr.Parameter" value="5.0">
                    </property>
                    <property name="y" class="ptolemy.data.expr.Parameter" value="0.0">
                    </property>
                </property>
                <property name="line3" class="ptolemy.vergil.kernel.attributes.LineAttribute">
                    <property name="_location" class="ptolemy.kernel.util.Location" value="[-5.0, -14.000000000000002]">
                    </property>
                    <property name="rotation" class="ptolemy.data.expr.Parameter" value="115.0">
                    </property>
                    <property name="x" class="ptolemy.data.expr.Parameter" value="5.0">
                    </property>
                    <property name="y" class="ptolemy.data.expr.Parameter" value="0.0">
                    </property>
                </property>
                <property name="line4" class="ptolemy.vergil.kernel.attributes.LineAttribute">
                    <property name="_location" class="ptolemy.kernel.util.Location" value="[17.0, 5.999999999999972]">
                    </property>
                    <property name="rotation" class="ptolemy.data.expr.Parameter" value="135.0">
                    </property>
                    <property name="x" class="ptolemy.data.expr.Parameter" value="5.0">
                    </property>
                    <property name="y" class="ptolemy.data.expr.Parameter" value="0.0">
                    </property>
                </property>
                <property name="line5" class="ptolemy.vergil.kernel.attributes.LineAttribute">
                    <property name="_location" class="ptolemy.kernel.util.Location" value="[2.0, -13.000000000000002]">
                    </property>
                    <property name="rotation" class="ptolemy.data.expr.Parameter" value="115.0">
                    </property>
                    <property name="x" class="ptolemy.data.expr.Parameter" value="5.0">
                    </property>
                    <property name="y" class="ptolemy.data.expr.Parameter" value="0.0">
                    </property>
                </property>
            </property>
            <property name="WEST" class="ptolemy.data.expr.Parameter" value="WEST">
            </property>
            <property name="EAST" class="ptolemy.data.expr.Parameter" value="EAST">
            </property>
            <port name="car" class="ptolemy.actor.TypedIOPort">
                <property name="input"/>
            </port>
            <port name="output" class="ptolemy.actor.TypedIOPort">
                <property name="output"/>
            </port>
        </entity>
        <entity name="setIndicatorEast" class="ptolemy.actor.lib.jjs.JavaScript">
            <property name="_windowProperties" class="ptolemy.actor.gui.WindowPropertiesAttribute">
            </property>
            <property name="_paneSize" class="ptolemy.actor.gui.SizeAttribute">
            </property>
            <property name="script" class="ptolemy.actor.parameters.PortParameter" value="//Sets the Indicator of a car coming from WEST&#10;// increases the intersection counter by 1&#10;//-1 is left, 0 is straight, 1 is right&#10;exports.setup = function () {&#10;    this.input('car');&#10;    &#10;    this.output('output');&#10;};&#10;&#10;exports.fire = function () {&#10;	carEast = this.get('car');&#10;	&#10;	if(carEast.roadMap[carEast.intersectionCount] == this.getParameter('SOUTH')) {&#10;		carEast.intersectionCount = carEast.intersectionCount + 1;&#10;		carEast.indicator = -1;&#10;		this.send('output', carEast);&#10;	}&#10;	else if(carEast.roadMap[carEast.intersectionCount] == this.getParameter('WEST')) {&#10;		carEast.intersectionCount = carEast.intersectionCount + 1;&#10;		carEast.indicator = 0;&#10;		this.send('output', carEast);&#10;	}&#10;};">
                <property name="style" class="ptolemy.actor.gui.style.NoteStyle">
                    <property name="note" class="ptolemy.kernel.util.StringAttribute" value="NOTE: To see the script, invoke Open Actor">
                    </property>
                </property>
            </property>
            <property name="_tableauFactory" class="ptolemy.vergil.toolbox.TextEditorTableauFactory">
                <property name="attributeName" class="ptolemy.kernel.util.StringAttribute" value="script">
                </property>
                <property name="syntaxStyle" class="ptolemy.kernel.util.StringAttribute" value="text/javascript">
                </property>
            </property>
            <property name="_location" class="ptolemy.kernel.util.Location" value="[430.0, 385.0]">
            </property>
            <property name="_icon" class="ptolemy.vergil.icon.EditorIcon">
                <property name="arc" class="ptolemy.vergil.kernel.attributes.ArcAttribute">
                    <property name="_location" class="ptolemy.kernel.util.Location" value="[0.0, 2.0]">
                    </property>
                    <property name="width" class="ptolemy.data.expr.Parameter" value="36.0">
                    </property>
                    <property name="height" class="ptolemy.data.expr.Parameter" value="32.0">
                    </property>
                    <property name="centered" class="ptolemy.data.expr.Parameter" value="true">
                    </property>
                    <property name="fillColor" class="ptolemy.actor.gui.ColorAttribute" value="{1.0,1.0,0.0,1.0}">
                    </property>
                </property>
                <property name="line" class="ptolemy.vergil.kernel.attributes.LineAttribute">
                    <property name="_location" class="ptolemy.kernel.util.Location" value="[6.0, -5.000000000000012]">
                    </property>
                    <property name="rotation" class="ptolemy.data.expr.Parameter" value="125.0">
                    </property>
                    <property name="x" class="ptolemy.data.expr.Parameter" value="5.0">
                    </property>
                    <property name="y" class="ptolemy.data.expr.Parameter" value="0.0">
                    </property>
                </property>
                <property name="line2" class="ptolemy.vergil.kernel.attributes.LineAttribute">
                    <property name="_location" class="ptolemy.kernel.util.Location" value="[10.0, 0.9999999999999698]">
                    </property>
                    <property name="rotation" class="ptolemy.data.expr.Parameter" value="100.0">
                    </property>
                    <property name="x" class="ptolemy.data.expr.Parameter" value="5.0">
                    </property>
                    <property name="y" class="ptolemy.data.expr.Parameter" value="0.0">
                    </property>
                </property>
                <property name="line3" class="ptolemy.vergil.kernel.attributes.LineAttribute">
                    <property name="_location" class="ptolemy.kernel.util.Location" value="[-5.0, -13.000000000000002]">
                    </property>
                    <property name="rotation" class="ptolemy.data.expr.Parameter" value="115.0">
                    </property>
                    <property name="x" class="ptolemy.data.expr.Parameter" value="5.0">
                    </property>
                    <property name="y" class="ptolemy.data.expr.Parameter" value="0.0">
                    </property>
                </property>
                <property name="line4" class="ptolemy.vergil.kernel.attributes.LineAttribute">
                    <property name="_location" class="ptolemy.kernel.util.Location" value="[17.0, 6.999999999999972]">
                    </property>
                    <property name="rotation" class="ptolemy.data.expr.Parameter" value="135.0">
                    </property>
                    <property name="x" class="ptolemy.data.expr.Parameter" value="5.0">
                    </property>
                    <property name="y" class="ptolemy.data.expr.Parameter" value="0.0">
                    </property>
                </property>
                <property name="line5" class="ptolemy.vergil.kernel.attributes.LineAttribute">
                    <property name="_location" class="ptolemy.kernel.util.Location" value="[2.0, -12.000000000000002]">
                    </property>
                    <property name="rotation" class="ptolemy.data.expr.Parameter" value="115.0">
                    </property>
                    <property name="x" class="ptolemy.data.expr.Parameter" value="5.0">
                    </property>
                    <property name="y" class="ptolemy.data.expr.Parameter" value="0.0">
                    </property>
                </property>
            </property>
            <property name="SOUTH" class="ptolemy.data.expr.Parameter" value="SOUTH">
            </property>
            <property name="WEST" class="ptolemy.data.expr.Parameter" value="WEST">
            </property>
            <port name="car" class="ptolemy.actor.TypedIOPort">
                <property name="input"/>
                <property name="_cardinal" class="ptolemy.kernel.util.StringAttribute" value="EAST">
                </property>
            </port>
            <port name="output" class="ptolemy.actor.TypedIOPort">
                <property name="output"/>
                <property name="_cardinal" class="ptolemy.kernel.util.StringAttribute" value="WEST">
                </property>
            </port>
        </entity>
        <entity name="Debug" class="ptolemy.actor.lib.gui.Display">
            <property name="_windowProperties" class="ptolemy.actor.gui.WindowPropertiesAttribute" value="{bounds={34, 663, 359, 246}, maximized=false}">
            </property>
            <property name="_paneSize" class="ptolemy.actor.gui.SizeAttribute" value="[343, 186]">
            </property>
            <property name="_location" class="ptolemy.kernel.util.Location" value="[420.8919219970703, 517.3632659912109]">
            </property>
        </entity>
        <entity name="TimedPlotter" class="ptolemy.actor.lib.gui.TimedPlotter">
            <property name="legend" class="ptolemy.kernel.util.StringAttribute" value="carCount">
            </property>
            <property name="_windowProperties" class="ptolemy.actor.gui.WindowPropertiesAttribute" value="{bounds={395, 329, 642, 334}, maximized=false}">
            </property>
            <property name="_plotSize" class="ptolemy.actor.gui.SizeAttribute" value="[626, 274]">
            </property>
            <property name="useLocalTime" class="ptolemy.data.expr.Parameter" value="false">
            </property>
            <property name="_location" class="ptolemy.kernel.util.Location" value="[415.0, 305.0]">
            </property>
            <configure>
<?plotml <!DOCTYPE plot PUBLIC "-//UC Berkeley//DTD PlotML 1//EN"
"http://ptolemy.eecs.berkeley.edu/xml/dtd/PlotML_1.dtd">
<plot>
<title>TimedPlotter</title>
<xLabel></xLabel>
<yLabel></yLabel>
<xRange min="1.7976931348623157E308" max="-1.7976931348623157E308"/>
<yRange min="1.7976931348623157E308" max="-1.7976931348623157E308"/>
</plot>?>
            </configure>
        </entity>
        <entity name="TimedPlotter2" class="ptolemy.actor.lib.gui.TimedPlotter">
            <property name="legend" class="ptolemy.kernel.util.StringAttribute" value="traffic_East, traffic_West, traffic_South">
            </property>
            <property name="_windowProperties" class="ptolemy.actor.gui.WindowPropertiesAttribute" value="{bounds={0, 12, 1347, 350}, maximized=false}">
            </property>
            <property name="_plotSize" class="ptolemy.actor.gui.SizeAttribute" value="[1331, 290]">
            </property>
            <property name="disconnectGraphOnAbsentValue" class="ptolemy.data.expr.Parameter" value="false">
            </property>
            <property name="useLocalTime" class="ptolemy.data.expr.Parameter" value="false">
            </property>
            <property name="_location" class="ptolemy.kernel.util.Location" value="[575.0, 605.0]">
            </property>
            <configure>
<?plotml <!DOCTYPE plot PUBLIC "-//UC Berkeley//DTD PlotML 1//EN"
"http://ptolemy.eecs.berkeley.edu/xml/dtd/PlotML_1.dtd">
<plot>
<title>TimedPlotter</title>
<xLabel></xLabel>
<yLabel></yLabel>
<xRange min="1.7976931348623157E308" max="-1.7976931348623157E308"/>
<yRange min="1.7976931348623157E308" max="-1.7976931348623157E308"/>
</plot>?>
            </configure>
        </entity>
        <relation name="relation4" class="ptolemy.actor.TypedIORelation">
        </relation>
        <relation name="relation5" class="ptolemy.actor.TypedIORelation">
        </relation>
        <relation name="relation6" class="ptolemy.actor.TypedIORelation">
        </relation>
        <relation name="relation" class="ptolemy.actor.TypedIORelation">
            <vertex name="vertex" value="{0.0, 0.0}">
            </vertex>
        </relation>
        <relation name="relation2" class="ptolemy.actor.TypedIORelation">
        </relation>
        <relation name="relation9" class="ptolemy.actor.TypedIORelation">
        </relation>
        <relation name="relation10" class="ptolemy.actor.TypedIORelation">
        </relation>
        <relation name="relation7" class="ptolemy.actor.TypedIORelation">
        </relation>
        <relation name="relation3" class="ptolemy.actor.TypedIORelation">
        </relation>
        <relation name="relation8" class="ptolemy.actor.TypedIORelation">
        </relation>
        <relation name="relation11" class="ptolemy.actor.TypedIORelation">
        </relation>
        <relation name="relation12" class="ptolemy.actor.TypedIORelation">
        </relation>
        <relation name="relation13" class="ptolemy.actor.TypedIORelation">
        </relation>
        <relation name="relation14" class="ptolemy.actor.TypedIORelation">
        </relation>
        <link port="EastOut" relation="relation5"/>
        <link port="WestIn" relation="relation7"/>
        <link port="WestOut" relation="relation4"/>
        <link port="SouthIn" relation="relation3"/>
        <link port="SouthOut" relation="relation6"/>
        <link port="EastIn" relation="relation8"/>
        <link port="T-Intersection Right-Hand-Rule.carWEST" relation="relation10"/>
        <link port="T-Intersection Right-Hand-Rule.carEAST" relation="relation9"/>
        <link port="T-Intersection Right-Hand-Rule.carSOUTH" relation="relation2"/>
        <link port="T-Intersection Right-Hand-Rule.OWEST" relation="relation4"/>
        <link port="T-Intersection Right-Hand-Rule.OEAST" relation="relation5"/>
        <link port="T-Intersection Right-Hand-Rule.OSOUTH" relation="relation6"/>
        <link port="T-Intersection Right-Hand-Rule.display" relation="relation11"/>
        <link port="T-Intersection Right-Hand-Rule.trafficJamDetectorW" relation="relation13"/>
        <link port="T-Intersection Right-Hand-Rule.trafficJamDetectorE" relation="relation12"/>
        <link port="T-Intersection Right-Hand-Rule.trafficJamDetectorS" relation="relation14"/>
        <link port="setIndicatorWest.car" relation="relation7"/>
        <link port="setIndicatorWest.output" relation="relation10"/>
        <link port="setIndicatorSouth.car" relation="relation3"/>
        <link port="setIndicatorSouth.output" relation="relation2"/>
        <link port="setIndicatorEast.car" relation="relation8"/>
        <link port="setIndicatorEast.output" relation="relation9"/>
        <link port="TimedPlotter.input" relation="relation11"/>
        <link port="TimedPlotter2.input" relation="relation12"/>
        <link port="TimedPlotter2.input" relation="relation13"/>
        <link port="TimedPlotter2.input" relation="relation14"/>
    </entity>
    <entity name="T-Intersection (5)" class="ptolemy.actor.TypedCompositeActor">
        <property name="_location" class="ptolemy.kernel.util.Location" value="{-20.0, 490.0}">
        </property>
        <property name="_windowProperties" class="ptolemy.actor.gui.WindowPropertiesAttribute" value="{bounds={395, 139, 928, 616}, maximized=false}">
        </property>
        <property name="_vergilSize" class="ptolemy.actor.gui.SizeAttribute" value="[700, 499]">
        </property>
        <property name="_vergilZoomFactor" class="ptolemy.data.expr.ExpertParameter" value="1.0">
        </property>
        <property name="_vergilCenter" class="ptolemy.data.expr.ExpertParameter" value="{367.0, 482.609375}">
        </property>
        <property name="intersectionId" class="ptolemy.data.expr.Parameter" value="5">
        </property>
        <property name="SOUTH" class="ptolemy.data.expr.Parameter" value="4">
        </property>
        <property name="WEST" class="ptolemy.data.expr.Parameter" value="13">
        </property>
        <property name="EAST" class="ptolemy.data.expr.Parameter" value="3">
        </property>
        <port name="EastOut" class="ptolemy.actor.TypedIOPort">
            <property name="output"/>
            <property name="_cardinal" class="ptolemy.kernel.util.StringAttribute" value="EAST">
            </property>
            <property name="_showName" class="ptolemy.data.expr.SingletonParameter" value="false">
            </property>
            <property name="_location" class="ptolemy.kernel.util.Location" value="[425.0, 435.0]">
            </property>
        </port>
        <port name="WestIn" class="ptolemy.actor.TypedIOPort">
            <property name="input"/>
            <property name="_cardinal" class="ptolemy.kernel.util.StringAttribute" value="WEST">
            </property>
            <property name="_showName" class="ptolemy.data.expr.SingletonParameter" value="false">
            </property>
            <property name="_location" class="ptolemy.kernel.util.Location" value="[65.0, 380.0]">
            </property>
        </port>
        <port name="WestOut" class="ptolemy.actor.TypedIOPort">
            <property name="output"/>
            <property name="_cardinal" class="ptolemy.kernel.util.StringAttribute" value="WEST">
            </property>
            <property name="_showName" class="ptolemy.data.expr.SingletonParameter" value="false">
            </property>
            <property name="_location" class="ptolemy.kernel.util.Location" value="[230.0, 450.0]">
            </property>
        </port>
        <port name="SouthIn" class="ptolemy.actor.TypedIOPort">
            <property name="input"/>
            <property name="_cardinal" class="ptolemy.kernel.util.StringAttribute" value="SOUTH">
            </property>
            <property name="_showName" class="ptolemy.data.expr.SingletonParameter" value="false">
            </property>
            <property name="_location" class="ptolemy.kernel.util.Location" value="[45.0, 590.0]">
            </property>
        </port>
        <port name="SouthOut" class="ptolemy.actor.TypedIOPort">
            <property name="output"/>
            <property name="_cardinal" class="ptolemy.kernel.util.StringAttribute" value="SOUTH">
            </property>
            <property name="_showName" class="ptolemy.data.expr.SingletonParameter" value="false">
            </property>
            <property name="_location" class="ptolemy.kernel.util.Location" value="[435.0, 580.0]">
            </property>
        </port>
        <port name="EastIn" class="ptolemy.actor.TypedIOPort">
            <property name="input"/>
            <property name="_location" class="ptolemy.kernel.util.Location" value="[625.0, 415.0]">
            </property>
            <property name="_cardinal" class="ptolemy.kernel.util.StringAttribute" value="EAST">
            </property>
        </port>
        <entity name="T-Intersection Right-Hand-Rule" class="ptolemy.actor.lib.jjs.JavaScript">
            <property name="_windowProperties" class="ptolemy.actor.gui.WindowPropertiesAttribute">
            </property>
            <property name="_paneSize" class="ptolemy.actor.gui.SizeAttribute">
            </property>
            <property name="script" class="ptolemy.actor.parameters.PortParameter" value="	var QueueW = [];&#10;	var QueueE = [];&#10;	var QueueS = [];&#10;	var carCount = 0; // indicates number of cars currently in the intersection&#10;	var countW = 0;&#10;	var countE = 0;&#10;	var countS = 0;&#10;	var date;&#10;&#10;// T-Intersection right-hand-rule&#10;//fires the car which has priority and lets the others wait&#10;exports.setup = function () {&#10;	//the Input-ports for the incoming cars&#10;    this.input('carWEST');&#10;    this.input('carEAST');&#10;    this.input('carSOUTH');&#10;    //the Output-ports for the leaving cars&#10;    this.output('OWEST');&#10;    this.output('OEAST');&#10;    this.output('OSOUTH');&#10;    this.output('Debug');&#10;    this.output('display');&#10;    this.output('trafficJamDetectorW');&#10;    this.output('trafficJamDetectorE');&#10;    this.output('trafficJamDetectorS');&#10;}&#10;&#10;exports.initialize = function () {&#10;	//creates an Array that contains the cars that stand in an Intersection&#10;	&#10;	this.addInputHandler('carWEST', function() {&#10;		QueueW.unshift(this.get('carWEST'));&#10;		carCount++;&#10;		countW++;&#10;		this.send('display', carCount);&#10;		this.send('trafficJamDetectorW', countW);&#10;		if(carCount == 1) {&#10;			setTimeout(right_hand_rule, 2000);&#10;		}&#10;	});&#10;	&#10;	this.addInputHandler('carEAST', function() {&#10;		QueueE.unshift(this.get('carEAST'));&#10;		carCount++;&#10;		countE++;&#10;		this.send('display', carCount);&#10;		this.send('trafficJamDetectorE', countE);&#10;		if(carCount == 1) {&#10;			setTimeout(right_hand_rule, 2000);&#10;		}&#10;	});&#10;	&#10;	this.addInputHandler('carSOUTH', function() {&#10;		QueueS.unshift(this.get('carSOUTH'));&#10;		carCount++;&#10;		countS++;&#10;		this.send('display', carCount);&#10;		this.send('trafficJamDetectorS', countS);&#10;		if(carCount == 1) {&#10;			setTimeout(right_hand_rule, 2000);&#10;		}&#10;	});&#10;	&#10;}&#10;	&#10;	function right_hand_rule() {&#10;		var SentW = false;&#10;		var SentE = false;&#10;		var SentS = false;&#10;		&#10;		//Debug&#10;		this.send('Debug',&quot;QueueW &quot; + QueueW.length);&#10;		this.send('Debug',&quot;QueueE &quot; + QueueE.length);&#10;		this.send('Debug',&quot;QueueS &quot; + QueueS.length);&#10;		this.send('Debug', &quot;carCount &quot; + carCount);&#10;&#10;			if(QueueW.length != 0) {&#10;				if(QueueW[QueueW.length - 1].indicator == 0) {&#10;					if(QueueS.length != 0) {&#10;						//stop&#10;					}else if(QueueS.length == 0) {&#10;						this.send('OEAST',QueueW[QueueW.length - 1]);&#10;						SentW = true;&#10;					}&#10;				}else if(QueueW[QueueW.length - 1].indicator == 1) {&#10;					this.send('OSOUTH',QueueW[QueueW.length - 1]);&#10;					SentW = true;&#10;				}&#10;			}&#10;			&#10;			if(QueueE.length != 0) {&#10;				if(QueueE[QueueE.length - 1].indicator == 0) {&#10;					this.send('OWEST',QueueE[QueueE.length - 1]);&#10;					SentE = true;&#10;				}else if(QueueE[QueueE.length - 1].indicator == -1) {&#10;					if(QueueW.length != 0) {&#10;						//stop&#10;					}else if(QueueW.length == 0) {&#10;						this.send('OSOUTH',QueueE[QueueE.length - 1]);&#10;						SentE = true;&#10;					}&#10;				}&#10;			}&#10;			&#10;			if(QueueS.length != 0) {&#10;				if(QueueS[QueueS.length - 1].indicator == 1) {&#10;					this.send('OEAST',QueueS[QueueS.length - 1]);&#10;					SentS = true;&#10;				}else if(QueueS[QueueS.length - 1].indicator == -1) {&#10;					if(QueueE.length != 0) {&#10;						//stop&#10;					}else if(QueueE.length == 0) {&#10;						this.send('OWEST',QueueS[QueueS.length - 1]);&#10;						SentS = true;&#10;					}&#10;				}&#10;			}&#10;			&#10;			if(SentW) {&#10;				QueueW.pop();&#10;				carCount--;&#10;				countW--;&#10;				this.send('display', carCount);&#10;				this.send('trafficJamDetectorW', countW);&#10;			}&#10;			&#10;			if(SentE) {&#10;				QueueE.pop();&#10;				carCount--;&#10;				countE--;&#10;				this.send('display', carCount);&#10;				this.send('trafficJamDetectorE', countE);&#10;			}&#10;			&#10;			if(SentS) {&#10;				QueueS.pop();&#10;				carCount--;&#10;				countS--;&#10;				this.send('display', carCount);&#10;				this.send('trafficJamDetectorS', countS);&#10;			}&#10;			&#10;			if(carCount != 0) {&#10;				setTimeout(right_hand_rule, 2000);&#10;			}&#10;	}&#10;">
                <property name="style" class="ptolemy.actor.gui.style.NoteStyle">
                    <property name="note" class="ptolemy.kernel.util.StringAttribute" value="NOTE: To see the script, invoke Open Actor">
                    </property>
                </property>
            </property>
            <property name="_tableauFactory" class="ptolemy.vergil.toolbox.TextEditorTableauFactory">
                <property name="attributeName" class="ptolemy.kernel.util.StringAttribute" value="script">
                </property>
                <property name="syntaxStyle" class="ptolemy.kernel.util.StringAttribute" value="text/javascript">
                </property>
            </property>
            <property name="_location" class="ptolemy.kernel.util.Location" value="{335.0, 395.0}">
            </property>
            <property name="_hideName" class="ptolemy.data.expr.SingletonParameter" value="true">
            </property>
            <port name="error" class="ptolemy.actor.TypedIOPort">
                <property name="output"/>
                <property name="_cardinal" class="ptolemy.kernel.util.StringAttribute" value="NORTH">
                </property>
            </port>
            <port name="script" class="ptolemy.actor.parameters.ParameterPort">
                <property name="input"/>
                <property name="_cardinal" class="ptolemy.kernel.util.StringAttribute" value="NORTH">
                </property>
            </port>
            <port name="carWEST" class="ptolemy.actor.TypedIOPort">
                <property name="input"/>
                <property name="_cardinal" class="ptolemy.kernel.util.StringAttribute" value="WEST">
                </property>
            </port>
            <port name="carEAST" class="ptolemy.actor.TypedIOPort">
                <property name="input"/>
                <property name="_cardinal" class="ptolemy.kernel.util.StringAttribute" value="EAST">
                </property>
            </port>
            <port name="carSOUTH" class="ptolemy.actor.TypedIOPort">
                <property name="input"/>
                <property name="_cardinal" class="ptolemy.kernel.util.StringAttribute" value="SOUTH">
                </property>
            </port>
            <port name="OWEST" class="ptolemy.actor.TypedIOPort">
                <property name="output"/>
                <property name="_cardinal" class="ptolemy.kernel.util.StringAttribute" value="WEST">
                </property>
            </port>
            <port name="OEAST" class="ptolemy.actor.TypedIOPort">
                <property name="output"/>
                <property name="_cardinal" class="ptolemy.kernel.util.StringAttribute" value="EAST">
                </property>
            </port>
            <port name="OSOUTH" class="ptolemy.actor.TypedIOPort">
                <property name="output"/>
                <property name="_cardinal" class="ptolemy.kernel.util.StringAttribute" value="SOUTH">
                </property>
            </port>
            <port name="Debug" class="ptolemy.actor.TypedIOPort">
                <property name="output"/>
            </port>
            <port name="display" class="ptolemy.actor.TypedIOPort">
                <property name="output"/>
                <property name="_cardinal" class="ptolemy.kernel.util.StringAttribute" value="NORTH">
                </property>
                <property name="_type" class="ptolemy.actor.TypeAttribute" value="double">
                </property>
            </port>
            <port name="trafficJamDetectorW" class="ptolemy.actor.TypedIOPort">
                <property name="output"/>
                <property name="_type" class="ptolemy.actor.TypeAttribute" value="double">
                </property>
                <property name="_cardinal" class="ptolemy.kernel.util.StringAttribute" value="WEST">
                </property>
            </port>
            <port name="trafficJamDetectorE" class="ptolemy.actor.TypedIOPort">
                <property name="output"/>
                <property name="_type" class="ptolemy.actor.TypeAttribute" value="double">
                </property>
                <property name="_cardinal" class="ptolemy.kernel.util.StringAttribute" value="EAST">
                </property>
            </port>
            <port name="trafficJamDetectorS" class="ptolemy.actor.TypedIOPort">
                <property name="output"/>
                <property name="_type" class="ptolemy.actor.TypeAttribute" value="double">
                </property>
                <property name="_cardinal" class="ptolemy.kernel.util.StringAttribute" value="SOUTH">
                </property>
            </port>
        </entity>
        <entity name="setIndicatorWest" class="ptolemy.actor.lib.jjs.JavaScript">
            <property name="_windowProperties" class="ptolemy.actor.gui.WindowPropertiesAttribute">
            </property>
            <property name="_paneSize" class="ptolemy.actor.gui.SizeAttribute">
            </property>
            <property name="script" class="ptolemy.actor.parameters.PortParameter" value="//Sets the Indicator of a car coming from WEST&#10;// increases the intersection counter by 1&#10;//-1 is left, 0 is straight, 1 is right&#10;exports.setup = function () {&#10;    this.input('car');&#10;    &#10;    this.output('output');&#10;};&#10;&#10;exports.fire = function () {&#10;	carWest = this.get('car');&#10;	&#10;	if(carWest.roadMap[carWest.intersectionCount] == this.getParameter('SOUTH')) {&#10;		carWest.intersectionCount = carWest.intersectionCount + 1;&#10;		carWest.indicator = 1;&#10;		this.send('output', carWest);&#10;	}&#10;	else if(carWest.roadMap[carWest.intersectionCount] == this.getParameter('EAST')) {&#10;		carWest.intersectionCount = carWest.intersectionCount + 1;&#10;		carWest.indicator = 0;&#10;		this.send('output', carWest);&#10;	}&#10;};">
                <property name="style" class="ptolemy.actor.gui.style.NoteStyle">
                    <property name="note" class="ptolemy.kernel.util.StringAttribute" value="NOTE: To see the script, invoke Open Actor">
                    </property>
                </property>
            </property>
            <property name="_tableauFactory" class="ptolemy.vergil.toolbox.TextEditorTableauFactory">
                <property name="attributeName" class="ptolemy.kernel.util.StringAttribute" value="script">
                </property>
                <property name="syntaxStyle" class="ptolemy.kernel.util.StringAttribute" value="text/javascript">
                </property>
            </property>
            <property name="_location" class="ptolemy.kernel.util.Location" value="[255.0, 380.0]">
            </property>
            <property name="_icon" class="ptolemy.vergil.icon.EditorIcon">
                <property name="arc" class="ptolemy.vergil.kernel.attributes.ArcAttribute">
                    <property name="_location" class="ptolemy.kernel.util.Location" value="[3.0, 0.0]">
                    </property>
                    <property name="width" class="ptolemy.data.expr.Parameter" value="36.0">
                    </property>
                    <property name="height" class="ptolemy.data.expr.Parameter" value="32.0">
                    </property>
                    <property name="centered" class="ptolemy.data.expr.Parameter" value="true">
                    </property>
                    <property name="fillColor" class="ptolemy.actor.gui.ColorAttribute" value="{1.0,1.0,0.0,1.0}">
                    </property>
                </property>
                <property name="line" class="ptolemy.vergil.kernel.attributes.LineAttribute">
                    <property name="_location" class="ptolemy.kernel.util.Location" value="[9.0, -7.000000000000011]">
                    </property>
                    <property name="rotation" class="ptolemy.data.expr.Parameter" value="125.0">
                    </property>
                    <property name="x" class="ptolemy.data.expr.Parameter" value="5.0">
                    </property>
                    <property name="y" class="ptolemy.data.expr.Parameter" value="0.0">
                    </property>
                </property>
                <property name="line2" class="ptolemy.vergil.kernel.attributes.LineAttribute">
                    <property name="_location" class="ptolemy.kernel.util.Location" value="[13.0, -1.0000000000000284]">
                    </property>
                    <property name="rotation" class="ptolemy.data.expr.Parameter" value="100.0">
                    </property>
                    <property name="x" class="ptolemy.data.expr.Parameter" value="5.0">
                    </property>
                    <property name="y" class="ptolemy.data.expr.Parameter" value="0.0">
                    </property>
                </property>
                <property name="line3" class="ptolemy.vergil.kernel.attributes.LineAttribute">
                    <property name="_location" class="ptolemy.kernel.util.Location" value="[-2.0, -15.0]">
                    </property>
                    <property name="rotation" class="ptolemy.data.expr.Parameter" value="115.0">
                    </property>
                    <property name="x" class="ptolemy.data.expr.Parameter" value="5.0">
                    </property>
                    <property name="y" class="ptolemy.data.expr.Parameter" value="0.0">
                    </property>
                </property>
                <property name="line4" class="ptolemy.vergil.kernel.attributes.LineAttribute">
                    <property name="_location" class="ptolemy.kernel.util.Location" value="[20.0, 4.999999999999972]">
                    </property>
                    <property name="rotation" class="ptolemy.data.expr.Parameter" value="135.0">
                    </property>
                    <property name="x" class="ptolemy.data.expr.Parameter" value="5.0">
                    </property>
                    <property name="y" class="ptolemy.data.expr.Parameter" value="0.0">
                    </property>
                </property>
                <property name="line5" class="ptolemy.vergil.kernel.attributes.LineAttribute">
                    <property name="_location" class="ptolemy.kernel.util.Location" value="[5.0, -14.0]">
                    </property>
                    <property name="rotation" class="ptolemy.data.expr.Parameter" value="115.0">
                    </property>
                    <property name="x" class="ptolemy.data.expr.Parameter" value="5.0">
                    </property>
                    <property name="y" class="ptolemy.data.expr.Parameter" value="0.0">
                    </property>
                </property>
            </property>
            <property name="SOUTH" class="ptolemy.data.expr.Parameter" value="SOUTH">
            </property>
            <property name="EAST" class="ptolemy.data.expr.Parameter" value="EAST">
            </property>
            <port name="car" class="ptolemy.actor.TypedIOPort">
                <property name="input"/>
            </port>
            <port name="output" class="ptolemy.actor.TypedIOPort">
                <property name="output"/>
            </port>
        </entity>
        <entity name="setIndicatorSouth" class="ptolemy.actor.lib.jjs.JavaScript">
            <property name="_windowProperties" class="ptolemy.actor.gui.WindowPropertiesAttribute">
            </property>
            <property name="_paneSize" class="ptolemy.actor.gui.SizeAttribute">
            </property>
            <property name="script" class="ptolemy.actor.parameters.PortParameter" value="//Sets the Indicator of a car coming from WEST&#10;// increases the intersection counter by 1&#10;//-1 is left, 0 is straight, 1 is right&#10;exports.setup = function () {&#10;    this.input('car');&#10;    &#10;    this.output('output');&#10;};&#10;&#10;exports.fire = function () {&#10;	carSouth = this.get('car');&#10;	&#10;	if(carSouth.roadMap[carSouth.intersectionCount] == this.getParameter('EAST')) {&#10;		carSouth.intersectionCount = carSouth.intersectionCount + 1;&#10;		carSouth.indicator = 1;&#10;		this.send('output', carSouth);&#10;	}&#10;	else if(carSouth.roadMap[carSouth.intersectionCount] == this.getParameter('WEST')) {&#10;		carSouth.intersectionCount = carSouth.intersectionCount + 1;&#10;		carSouth.indicator = -1;&#10;		this.send('output', carSouth);&#10;	}&#10;};">
                <property name="style" class="ptolemy.actor.gui.style.NoteStyle">
                    <property name="note" class="ptolemy.kernel.util.StringAttribute" value="NOTE: To see the script, invoke Open Actor">
                    </property>
                </property>
            </property>
            <property name="_tableauFactory" class="ptolemy.vergil.toolbox.TextEditorTableauFactory">
                <property name="attributeName" class="ptolemy.kernel.util.StringAttribute" value="script">
                </property>
                <property name="syntaxStyle" class="ptolemy.kernel.util.StringAttribute" value="text/javascript">
                </property>
            </property>
            <property name="_location" class="ptolemy.kernel.util.Location" value="[290.0, 590.0]">
            </property>
            <property name="_icon" class="ptolemy.vergil.icon.EditorIcon">
                <property name="arc" class="ptolemy.vergil.kernel.attributes.ArcAttribute">
                    <property name="_location" class="ptolemy.kernel.util.Location" value="[0.0, 1.0]">
                    </property>
                    <property name="width" class="ptolemy.data.expr.Parameter" value="36.0">
                    </property>
                    <property name="height" class="ptolemy.data.expr.Parameter" value="32.0">
                    </property>
                    <property name="centered" class="ptolemy.data.expr.Parameter" value="true">
                    </property>
                    <property name="fillColor" class="ptolemy.actor.gui.ColorAttribute" value="{1.0,1.0,0.0,1.0}">
                    </property>
                </property>
                <property name="line" class="ptolemy.vergil.kernel.attributes.LineAttribute">
                    <property name="_location" class="ptolemy.kernel.util.Location" value="[6.0, -6.000000000000016]">
                    </property>
                    <property name="rotation" class="ptolemy.data.expr.Parameter" value="125.0">
                    </property>
                    <property name="x" class="ptolemy.data.expr.Parameter" value="5.0">
                    </property>
                    <property name="y" class="ptolemy.data.expr.Parameter" value="0.0">
                    </property>
                </property>
                <property name="line2" class="ptolemy.vergil.kernel.attributes.LineAttribute">
                    <property name="_location" class="ptolemy.kernel.util.Location" value="[10.0, -3.019806626980426E-14]">
                    </property>
                    <property name="rotation" class="ptolemy.data.expr.Parameter" value="100.0">
                    </property>
                    <property name="x" class="ptolemy.data.expr.Parameter" value="5.0">
                    </property>
                    <property name="y" class="ptolemy.data.expr.Parameter" value="0.0">
                    </property>
                </property>
                <property name="line3" class="ptolemy.vergil.kernel.attributes.LineAttribute">
                    <property name="_location" class="ptolemy.kernel.util.Location" value="[-5.0, -14.000000000000002]">
                    </property>
                    <property name="rotation" class="ptolemy.data.expr.Parameter" value="115.0">
                    </property>
                    <property name="x" class="ptolemy.data.expr.Parameter" value="5.0">
                    </property>
                    <property name="y" class="ptolemy.data.expr.Parameter" value="0.0">
                    </property>
                </property>
                <property name="line4" class="ptolemy.vergil.kernel.attributes.LineAttribute">
                    <property name="_location" class="ptolemy.kernel.util.Location" value="[17.0, 5.999999999999972]">
                    </property>
                    <property name="rotation" class="ptolemy.data.expr.Parameter" value="135.0">
                    </property>
                    <property name="x" class="ptolemy.data.expr.Parameter" value="5.0">
                    </property>
                    <property name="y" class="ptolemy.data.expr.Parameter" value="0.0">
                    </property>
                </property>
                <property name="line5" class="ptolemy.vergil.kernel.attributes.LineAttribute">
                    <property name="_location" class="ptolemy.kernel.util.Location" value="[2.0, -13.000000000000002]">
                    </property>
                    <property name="rotation" class="ptolemy.data.expr.Parameter" value="115.0">
                    </property>
                    <property name="x" class="ptolemy.data.expr.Parameter" value="5.0">
                    </property>
                    <property name="y" class="ptolemy.data.expr.Parameter" value="0.0">
                    </property>
                </property>
            </property>
            <property name="WEST" class="ptolemy.data.expr.Parameter" value="WEST">
            </property>
            <property name="EAST" class="ptolemy.data.expr.Parameter" value="EAST">
            </property>
            <port name="car" class="ptolemy.actor.TypedIOPort">
                <property name="input"/>
            </port>
            <port name="output" class="ptolemy.actor.TypedIOPort">
                <property name="output"/>
            </port>
        </entity>
        <entity name="setIndicatorEast" class="ptolemy.actor.lib.jjs.JavaScript">
            <property name="_windowProperties" class="ptolemy.actor.gui.WindowPropertiesAttribute">
            </property>
            <property name="_paneSize" class="ptolemy.actor.gui.SizeAttribute">
            </property>
            <property name="script" class="ptolemy.actor.parameters.PortParameter" value="//Sets the Indicator of a car coming from WEST&#10;// increases the intersection counter by 1&#10;//-1 is left, 0 is straight, 1 is right&#10;exports.setup = function () {&#10;    this.input('car');&#10;    &#10;    this.output('output');&#10;};&#10;&#10;exports.fire = function () {&#10;	carEast = this.get('car');&#10;	&#10;	if(carEast.roadMap[carEast.intersectionCount] == this.getParameter('SOUTH')) {&#10;		carEast.intersectionCount = carEast.intersectionCount + 1;&#10;		carEast.indicator = -1;&#10;		this.send('output', carEast);&#10;	}&#10;	else if(carEast.roadMap[carEast.intersectionCount] == this.getParameter('WEST')) {&#10;		carEast.intersectionCount = carEast.intersectionCount + 1;&#10;		carEast.indicator = 0;&#10;		this.send('output', carEast);&#10;	}&#10;};">
                <property name="style" class="ptolemy.actor.gui.style.NoteStyle">
                    <property name="note" class="ptolemy.kernel.util.StringAttribute" value="NOTE: To see the script, invoke Open Actor">
                    </property>
                </property>
            </property>
            <property name="_tableauFactory" class="ptolemy.vergil.toolbox.TextEditorTableauFactory">
                <property name="attributeName" class="ptolemy.kernel.util.StringAttribute" value="script">
                </property>
                <property name="syntaxStyle" class="ptolemy.kernel.util.StringAttribute" value="text/javascript">
                </property>
            </property>
            <property name="_location" class="ptolemy.kernel.util.Location" value="[430.0, 385.0]">
            </property>
            <property name="_icon" class="ptolemy.vergil.icon.EditorIcon">
                <property name="arc" class="ptolemy.vergil.kernel.attributes.ArcAttribute">
                    <property name="_location" class="ptolemy.kernel.util.Location" value="[0.0, 2.0]">
                    </property>
                    <property name="width" class="ptolemy.data.expr.Parameter" value="36.0">
                    </property>
                    <property name="height" class="ptolemy.data.expr.Parameter" value="32.0">
                    </property>
                    <property name="centered" class="ptolemy.data.expr.Parameter" value="true">
                    </property>
                    <property name="fillColor" class="ptolemy.actor.gui.ColorAttribute" value="{1.0,1.0,0.0,1.0}">
                    </property>
                </property>
                <property name="line" class="ptolemy.vergil.kernel.attributes.LineAttribute">
                    <property name="_location" class="ptolemy.kernel.util.Location" value="[6.0, -5.000000000000012]">
                    </property>
                    <property name="rotation" class="ptolemy.data.expr.Parameter" value="125.0">
                    </property>
                    <property name="x" class="ptolemy.data.expr.Parameter" value="5.0">
                    </property>
                    <property name="y" class="ptolemy.data.expr.Parameter" value="0.0">
                    </property>
                </property>
                <property name="line2" class="ptolemy.vergil.kernel.attributes.LineAttribute">
                    <property name="_location" class="ptolemy.kernel.util.Location" value="[10.0, 0.9999999999999698]">
                    </property>
                    <property name="rotation" class="ptolemy.data.expr.Parameter" value="100.0">
                    </property>
                    <property name="x" class="ptolemy.data.expr.Parameter" value="5.0">
                    </property>
                    <property name="y" class="ptolemy.data.expr.Parameter" value="0.0">
                    </property>
                </property>
                <property name="line3" class="ptolemy.vergil.kernel.attributes.LineAttribute">
                    <property name="_location" class="ptolemy.kernel.util.Location" value="[-5.0, -13.000000000000002]">
                    </property>
                    <property name="rotation" class="ptolemy.data.expr.Parameter" value="115.0">
                    </property>
                    <property name="x" class="ptolemy.data.expr.Parameter" value="5.0">
                    </property>
                    <property name="y" class="ptolemy.data.expr.Parameter" value="0.0">
                    </property>
                </property>
                <property name="line4" class="ptolemy.vergil.kernel.attributes.LineAttribute">
                    <property name="_location" class="ptolemy.kernel.util.Location" value="[17.0, 6.999999999999972]">
                    </property>
                    <property name="rotation" class="ptolemy.data.expr.Parameter" value="135.0">
                    </property>
                    <property name="x" class="ptolemy.data.expr.Parameter" value="5.0">
                    </property>
                    <property name="y" class="ptolemy.data.expr.Parameter" value="0.0">
                    </property>
                </property>
                <property name="line5" class="ptolemy.vergil.kernel.attributes.LineAttribute">
                    <property name="_location" class="ptolemy.kernel.util.Location" value="[2.0, -12.000000000000002]">
                    </property>
                    <property name="rotation" class="ptolemy.data.expr.Parameter" value="115.0">
                    </property>
                    <property name="x" class="ptolemy.data.expr.Parameter" value="5.0">
                    </property>
                    <property name="y" class="ptolemy.data.expr.Parameter" value="0.0">
                    </property>
                </property>
            </property>
            <property name="SOUTH" class="ptolemy.data.expr.Parameter" value="SOUTH">
            </property>
            <property name="WEST" class="ptolemy.data.expr.Parameter" value="WEST">
            </property>
            <port name="car" class="ptolemy.actor.TypedIOPort">
                <property name="input"/>
                <property name="_cardinal" class="ptolemy.kernel.util.StringAttribute" value="EAST">
                </property>
            </port>
            <port name="output" class="ptolemy.actor.TypedIOPort">
                <property name="output"/>
                <property name="_cardinal" class="ptolemy.kernel.util.StringAttribute" value="WEST">
                </property>
            </port>
        </entity>
        <entity name="Debug" class="ptolemy.actor.lib.gui.Display">
            <property name="_windowProperties" class="ptolemy.actor.gui.WindowPropertiesAttribute" value="{bounds={34, 663, 359, 246}, maximized=false}">
            </property>
            <property name="_paneSize" class="ptolemy.actor.gui.SizeAttribute" value="[343, 186]">
            </property>
            <property name="_location" class="ptolemy.kernel.util.Location" value="[420.8919219970703, 517.3632659912109]">
            </property>
        </entity>
        <entity name="TimedPlotter" class="ptolemy.actor.lib.gui.TimedPlotter">
            <property name="legend" class="ptolemy.kernel.util.StringAttribute" value="carCount">
            </property>
            <property name="_windowProperties" class="ptolemy.actor.gui.WindowPropertiesAttribute" value="{bounds={395, 329, 642, 334}, maximized=false}">
            </property>
            <property name="_plotSize" class="ptolemy.actor.gui.SizeAttribute" value="[626, 274]">
            </property>
            <property name="useLocalTime" class="ptolemy.data.expr.Parameter" value="false">
            </property>
            <property name="_location" class="ptolemy.kernel.util.Location" value="[415.0, 305.0]">
            </property>
            <configure>
<?plotml <!DOCTYPE plot PUBLIC "-//UC Berkeley//DTD PlotML 1//EN"
"http://ptolemy.eecs.berkeley.edu/xml/dtd/PlotML_1.dtd">
<plot>
<title>TimedPlotter</title>
<xLabel></xLabel>
<yLabel></yLabel>
<xRange min="1.7976931348623157E308" max="-1.7976931348623157E308"/>
<yRange min="1.7976931348623157E308" max="-1.7976931348623157E308"/>
</plot>?>
            </configure>
        </entity>
        <entity name="TimedPlotter2" class="ptolemy.actor.lib.gui.TimedPlotter">
            <property name="legend" class="ptolemy.kernel.util.StringAttribute" value="traffic_East, traffic_West, traffic_South">
            </property>
            <property name="_windowProperties" class="ptolemy.actor.gui.WindowPropertiesAttribute" value="{bounds={0, 12, 1347, 350}, maximized=false}">
            </property>
            <property name="_plotSize" class="ptolemy.actor.gui.SizeAttribute" value="[1331, 290]">
            </property>
            <property name="disconnectGraphOnAbsentValue" class="ptolemy.data.expr.Parameter" value="false">
            </property>
            <property name="useLocalTime" class="ptolemy.data.expr.Parameter" value="false">
            </property>
            <property name="_location" class="ptolemy.kernel.util.Location" value="[575.0, 605.0]">
            </property>
            <configure>
<?plotml <!DOCTYPE plot PUBLIC "-//UC Berkeley//DTD PlotML 1//EN"
"http://ptolemy.eecs.berkeley.edu/xml/dtd/PlotML_1.dtd">
<plot>
<title>TimedPlotter</title>
<xLabel></xLabel>
<yLabel></yLabel>
<xRange min="1.7976931348623157E308" max="-1.7976931348623157E308"/>
<yRange min="1.7976931348623157E308" max="-1.7976931348623157E308"/>
</plot>?>
            </configure>
        </entity>
        <relation name="relation4" class="ptolemy.actor.TypedIORelation">
        </relation>
        <relation name="relation5" class="ptolemy.actor.TypedIORelation">
        </relation>
        <relation name="relation6" class="ptolemy.actor.TypedIORelation">
        </relation>
        <relation name="relation" class="ptolemy.actor.TypedIORelation">
            <vertex name="vertex" value="{0.0, 0.0}">
            </vertex>
        </relation>
        <relation name="relation2" class="ptolemy.actor.TypedIORelation">
        </relation>
        <relation name="relation9" class="ptolemy.actor.TypedIORelation">
        </relation>
        <relation name="relation10" class="ptolemy.actor.TypedIORelation">
        </relation>
        <relation name="relation7" class="ptolemy.actor.TypedIORelation">
        </relation>
        <relation name="relation3" class="ptolemy.actor.TypedIORelation">
        </relation>
        <relation name="relation8" class="ptolemy.actor.TypedIORelation">
        </relation>
        <relation name="relation11" class="ptolemy.actor.TypedIORelation">
        </relation>
        <relation name="relation12" class="ptolemy.actor.TypedIORelation">
        </relation>
        <relation name="relation13" class="ptolemy.actor.TypedIORelation">
        </relation>
        <relation name="relation14" class="ptolemy.actor.TypedIORelation">
        </relation>
        <link port="EastOut" relation="relation5"/>
        <link port="WestIn" relation="relation7"/>
        <link port="WestOut" relation="relation4"/>
        <link port="SouthIn" relation="relation3"/>
        <link port="SouthOut" relation="relation6"/>
        <link port="EastIn" relation="relation8"/>
        <link port="T-Intersection Right-Hand-Rule.carWEST" relation="relation10"/>
        <link port="T-Intersection Right-Hand-Rule.carEAST" relation="relation9"/>
        <link port="T-Intersection Right-Hand-Rule.carSOUTH" relation="relation2"/>
        <link port="T-Intersection Right-Hand-Rule.OWEST" relation="relation4"/>
        <link port="T-Intersection Right-Hand-Rule.OEAST" relation="relation5"/>
        <link port="T-Intersection Right-Hand-Rule.OSOUTH" relation="relation6"/>
        <link port="T-Intersection Right-Hand-Rule.display" relation="relation11"/>
        <link port="T-Intersection Right-Hand-Rule.trafficJamDetectorW" relation="relation13"/>
        <link port="T-Intersection Right-Hand-Rule.trafficJamDetectorE" relation="relation12"/>
        <link port="T-Intersection Right-Hand-Rule.trafficJamDetectorS" relation="relation14"/>
        <link port="setIndicatorWest.car" relation="relation7"/>
        <link port="setIndicatorWest.output" relation="relation10"/>
        <link port="setIndicatorSouth.car" relation="relation3"/>
        <link port="setIndicatorSouth.output" relation="relation2"/>
        <link port="setIndicatorEast.car" relation="relation8"/>
        <link port="setIndicatorEast.output" relation="relation9"/>
        <link port="TimedPlotter.input" relation="relation11"/>
        <link port="TimedPlotter2.input" relation="relation12"/>
        <link port="TimedPlotter2.input" relation="relation13"/>
        <link port="TimedPlotter2.input" relation="relation14"/>
    </entity>
    <entity name="Cross-Intersection(4)" class="ptolemy.actor.TypedCompositeActor">
        <property name="_location" class="ptolemy.kernel.util.Location" value="[625.0, 265.0]">
        </property>
        <property name="_windowProperties" class="ptolemy.actor.gui.WindowPropertiesAttribute" value="{bounds={114, 40, 928, 616}, maximized=false}">
        </property>
        <property name="_vergilSize" class="ptolemy.actor.gui.SizeAttribute" value="[700, 499]">
        </property>
        <property name="_vergilZoomFactor" class="ptolemy.data.expr.ExpertParameter" value="1.0">
        </property>
        <property name="_vergilCenter" class="ptolemy.data.expr.ExpertParameter" value="{383.6204427083333, 391.84049479166674}">
        </property>
        <property name="intersectionId" class="ptolemy.data.expr.Parameter" value="4">
        </property>
        <property name="SOUTH" class="ptolemy.data.expr.Parameter" value="5">
        </property>
        <property name="WEST" class="ptolemy.data.expr.Parameter" value="3">
        </property>
        <property name="EAST" class="ptolemy.data.expr.Parameter" value="12">
        </property>
        <property name="NORTH" class="ptolemy.data.expr.Parameter" value="1">
        </property>
        <port name="EastOut" class="ptolemy.actor.TypedIOPort">
            <property name="output"/>
            <property name="_cardinal" class="ptolemy.kernel.util.StringAttribute" value="EAST">
            </property>
            <property name="_showName" class="ptolemy.data.expr.SingletonParameter" value="false">
            </property>
            <property name="_location" class="ptolemy.kernel.util.Location" value="[425.0, 435.0]">
            </property>
        </port>
        <port name="WestIn" class="ptolemy.actor.TypedIOPort">
            <property name="input"/>
            <property name="_cardinal" class="ptolemy.kernel.util.StringAttribute" value="WEST">
            </property>
            <property name="_showName" class="ptolemy.data.expr.SingletonParameter" value="false">
            </property>
            <property name="_location" class="ptolemy.kernel.util.Location" value="[45.0, 385.0]">
            </property>
        </port>
        <port name="WestOut" class="ptolemy.actor.TypedIOPort">
            <property name="output"/>
            <property name="_cardinal" class="ptolemy.kernel.util.StringAttribute" value="WEST">
            </property>
            <property name="_showName" class="ptolemy.data.expr.SingletonParameter" value="false">
            </property>
            <property name="_location" class="ptolemy.kernel.util.Location" value="[195.0, 460.0]">
            </property>
        </port>
        <port name="SouthIn" class="ptolemy.actor.TypedIOPort">
            <property name="input"/>
            <property name="_cardinal" class="ptolemy.kernel.util.StringAttribute" value="SOUTH">
            </property>
            <property name="_showName" class="ptolemy.data.expr.SingletonParameter" value="false">
            </property>
            <property name="_location" class="ptolemy.kernel.util.Location" value="[135.0, 590.0]">
            </property>
        </port>
        <port name="SouthOut" class="ptolemy.actor.TypedIOPort">
            <property name="output"/>
            <property name="_cardinal" class="ptolemy.kernel.util.StringAttribute" value="SOUTH">
            </property>
            <property name="_showName" class="ptolemy.data.expr.SingletonParameter" value="false">
            </property>
            <property name="_location" class="ptolemy.kernel.util.Location" value="[435.0, 580.0]">
            </property>
        </port>
        <port name="EastIn" class="ptolemy.actor.TypedIOPort">
            <property name="input"/>
            <property name="_location" class="ptolemy.kernel.util.Location" value="[590.0, 415.0]">
            </property>
            <property name="_cardinal" class="ptolemy.kernel.util.StringAttribute" value="EAST">
            </property>
        </port>
        <port name="NorthIn" class="ptolemy.actor.TypedIOPort">
            <property name="input"/>
            <property name="_cardinal" class="ptolemy.kernel.util.StringAttribute" value="NORTH">
            </property>
            <property name="_location" class="ptolemy.kernel.util.Location" value="[300.0, 195.0]">
            </property>
        </port>
        <port name="NorthOut" class="ptolemy.actor.TypedIOPort">
            <property name="output"/>
            <property name="_cardinal" class="ptolemy.kernel.util.StringAttribute" value="NORTH">
            </property>
            <property name="_location" class="ptolemy.kernel.util.Location" value="[275.0, 265.0]">
            </property>
        </port>
        <entity name="T-Intersection Right-Hand-Rule" class="ptolemy.actor.lib.jjs.JavaScript">
            <property name="_windowProperties" class="ptolemy.actor.gui.WindowPropertiesAttribute">
            </property>
            <property name="_paneSize" class="ptolemy.actor.gui.SizeAttribute">
            </property>
            <property name="script" class="ptolemy.actor.parameters.PortParameter" value="	var QueueW = [];&#10;	var QueueE = [];&#10;	var QueueS = [];&#10;	var QueueN = [];&#10;	var carCount = 0; // indicates number of cars currently in the intersection&#10;	var countN = 0;&#10;	var countE = 0;&#10;	var countS = 0;&#10;	var countW = 0;&#10;	var date;&#10;&#10;// T-Intersection right-hand-rule&#10;//fires the car which has priority and lets the others wait&#10;exports.setup = function () {&#10;	//the Input-ports for the incoming cars&#10;    this.input('carWEST');&#10;    this.input('carEAST');&#10;    this.input('carSOUTH');&#10;    this.input('carNORTH');&#10;    //the Output-ports for the leaving cars&#10;    this.output('OWEST');&#10;    this.output('OEAST');&#10;    this.output('OSOUTH');&#10;    this.output('ONORTH');&#10;    this.output('trafficJamDetectorN');&#10;    this.output('trafficJamDetectorE');&#10;    this.output('trafficJamDetectorS');&#10;    this.output('trafficJamDetectorW');&#10;    this.output('Debug');&#10;}&#10;&#10;exports.initialize = function () {&#10;	//creates an Array that contains the cars that stand in an Intersection&#10;	//following Array positions are relevant: 0 = WEST, 1 = EAST and 2 = SOUTH&#10;	&#10;	this.addInputHandler('carWEST', function() {&#10;	QueueW.unshift(this.get('carWEST'));&#10;	carCount++;&#10;	countW++;&#10;	this.send('display', carCount);&#10;	this.send('trafficJamDetectorW', countW);&#10;	if(carCount == 1) {&#10;		setTimeout(right_hand_rule, 2000);&#10;	}&#10;	});&#10;	&#10;	this.addInputHandler('carEAST', function() {&#10;	QueueE.unshift(this.get('carEAST'));&#10;	carCount++;&#10;	countE++;&#10;	this.send('display', carCount);&#10;	this.send('trafficJamDetectorE', countE);&#10;	if(carCount == 1) {&#10;		setTimeout(right_hand_rule, 2000);&#10;	}&#10;	});&#10;	&#10;	this.addInputHandler('carSOUTH', function() {&#10;	QueueS.unshift(this.get('carSOUTH'));&#10;	carCount++;&#10;	countS++;&#10;	this.send('display', carCount);&#10;	this.send('trafficJamDetectorS', countS);&#10;	if(carCount == 1) {&#10;		setTimeout(right_hand_rule, 2000);&#10;	}&#10;	});&#10;	&#10;	this.addInputHandler('carNORTH', function() {&#10;	QueueN.unshift(this.get('carNORTH'));&#10;	carCount++;&#10;	countN++;&#10;	this.send('display', carCount);&#10;	this.send('trafficJamDetectorN', countN);&#10;	if(carCount == 1) {&#10;		setTimeout(right_hand_rule, 2000);&#10;	}&#10;	});&#10;}	&#10;	&#10;	function right_hand_rule() {&#10;		var SentW = false;&#10;		var SentE = false;&#10;		var SentS = false;&#10;		var SentN = false;&#10;		&#10;		//Debug&#10;		this.send('Debug',&quot;QueueW &quot; + QueueW.length);&#10;		this.send('Debug',&quot;QueueE &quot; + QueueE.length);&#10;		this.send('Debug',&quot;QueueS &quot; + QueueS.length);&#10;		this.send('Debug',&quot;QueueN &quot; + QueueN.length);&#10;		this.send('Debug', &quot;carCount &quot; + carCount);&#10;		&#10;		if(QueueW.length != 0) { // car from WEST&#10;			this.send('Debug',&quot;CarW &quot; + QueueW[QueueW.length - 1]);&#10;			if(QueueW[QueueW.length - 1].indicator == 0) { //WEST -&gt; STRAIGHT&#10;				if(QueueS.length != 0) { // car from SOUTH&#10;					//stop&#10;				} else { // no car from SOUTH&#10;					this.send('OEAST',QueueW[QueueW.length - 1]);&#10;					SentW = true;&#10;				}&#10;			}else if(QueueW[QueueW.length - 1].indicator == 1) { // WEST -&gt; RIGHT&#10;				this.send('OSOUTH',QueueW[QueueW.length - 1]);&#10;				SentW = true;&#10;			}else if(QueueW[QueueW.length - 1].indicator == -1) { // WEST -&gt; LEFT&#10;				if(QueueE.length != 0 &amp;&amp; QueueE[QueueE.length - 1].indicator == -1) { // car from EAST&#10;					this.send('ONORTH',QueueW[QueueW.length - 1]);&#10;					SentW = true;&#10;				} else if(QueueS.length != 0) { // car from SOUTH&#10;					// stop&#10;				} else {&#10;					this.send('ONORTH',QueueW[QueueW.length - 1]);&#10;					SentW = true;&#10;				}&#10;			}&#10;		}&#10;		&#10;		if(QueueE.length != 0) { // car from EAST&#10;			this.send('Debug',&quot;CarE &quot; + QueueE[QueueE.length - 1]);&#10;			if(QueueE[QueueE.length - 1].indicator == 0) { // EAST -&gt; STRAIGHT&#10;				if (QueueN.length != 0) { // car from NORTH&#10;					// stop&#10;				} else { // no car from NORTH&#10;					this.send('OWEST',QueueE[QueueE.length - 1]);&#10;					SentE = true;&#10;				}&#10;			}else if(QueueE[QueueE.length - 1].indicator == -1) { // EAST -&gt; LEFT&#10;				if(QueueW.length != 0 &amp;&amp; QueueW[QueueW.length - 1].indicator == -1) { // car from WEST&#10;					this.send('OSOUTH',QueueE[QueueE.length - 1]);&#10;					SentE = true;&#10;				} else if(QueueN.length != 0) { // car from NORTH&#10;					// stop&#10;				} else {&#10;					this.send('OSOUTH',QueueE[QueueE.length - 1]);&#10;					SentE = true;&#10;				}&#10;			} else if(QueueE[QueueE.length - 1].indicator == 1) { // EAST -&gt; RIGHT&#10;				this.send('ONORTH',QueueE[QueueE.length - 1]);&#10;				SentE = true;&#10;			}&#10;		}&#10;		&#10;		if(QueueS.length != 0) { // car from SOUTH&#10;				this.send('Debug',&quot;CarS &quot; + QueueS[QueueS.length - 1]);&#10;			if(QueueS[QueueS.length - 1].indicator == 1) { // SOUTH -&gt; RIGHT&#10;				this.send('OEAST',QueueS[QueueS.length - 1]);&#10;				SentS = true;&#10;			}else if(QueueS[QueueS.length - 1].indicator == -1) { // SOUTH -&gt; LEFT&#10;				if(QueueE.length != 0) { //car from EAST&#10;					//stop&#10;				}else if(QueueN.length != 0 &amp;&amp; QueueN[QueueN.length - 1].indicator == -1) { //car from NORTH&#10;					this.send('OWEST',QueueS[QueueS.length - 1]);&#10;					SentS = true;&#10;				} else {&#10;					this.send('OWEST',QueueS[QueueS.length - 1]);&#10;					SentS = true;&#10;				}&#10;			} else if (QueueS[QueueS.length - 1].indicator == 0) { //SOUTH -&gt; STRAIGHT&#10;				if (QueueE.length != 0) { // car from EAST&#10;					// stop&#10;				} else {&#10;					this.send('ONORTH',QueueS[QueueS.length - 1]);&#10;					SentS = true;&#10;				}&#10;			}&#10;		}&#10;		&#10;		if(QueueN.length != 0) { // car from NORTH		&#10;			this.send('Debug',&quot;CarN &quot; + QueueN[QueueN.length - 1]);&#10;			if(QueueN[QueueN.length - 1].indicator == 1) { // NORTH -&gt; RIGHT&#10;				this.send('OWEST',QueueN[QueueN.length - 1]);&#10;				SentN = true;&#10;			}else if(QueueN[QueueN.length - 1].indicator == -1) { // NORTH -&gt; LEFT&#10;				if(QueueW.length != 0) { //car from WEST&#10;					//stop&#10;				}else if(QueueS.length != 0 &amp;&amp; QueueS[QueueS.length - 1].indicator == -1) { //car from SOUTH&#10;					this.send('OEAST',QueueN[QueueN.length - 1]);&#10;					SentN = true;&#10;				} else {&#10;					this.send('OEAST',QueueN[QueueN.length - 1]);&#10;					SentN = true;&#10;				}&#10;			} else if (QueueN[QueueN.length - 1].indicator == 0) { //NORTH -&gt; STRAIGHT&#10;				if (QueueW.length != 0) { // car from WEST&#10;					// stop&#10;				} else {&#10;					this.send('OSOUTH',QueueN[QueueN.length - 1]);&#10;					SentN = true;&#10;				}&#10;			}&#10;		}&#10;		&#10;		if(SentW) {&#10;			QueueW.pop();&#10;			carCount--;&#10;			countW--;&#10;			this.send('display', carCount);&#10;			this.send('trafficJamDetectorW', countW);&#10;			}&#10;		&#10;		if(SentE) {&#10;			QueueE.pop();&#10;			carCount--;&#10;			countE--;&#10;			this.send('display', carCount);&#10;			this.send('trafficJamDetectorE', countE);&#10;		}&#10;		&#10;		if(SentS) {&#10;			QueueS.pop();&#10;			carCount--;&#10;			countS--;&#10;			this.send('display', carCount);&#10;			this.send('trafficJamDetectorS', countS);&#10;		}&#10;		&#10;		if(SentN) {&#10;			QueueN.pop();&#10;			carCount--;&#10;			countN--;&#10;			this.send('display', carCount);&#10;			this.send('trafficJamDetectorN', countN);&#10;		}&#10;		&#10;		//Special case if there is a car on each side of the intersection&#10;		if(!SentW &amp;&amp; !SentE &amp;&amp; !SentS &amp;&amp; !SentN) {&#10;			//0 = West, 1 = East, 2 = South, 3 = North&#10;			var random = Math.floor(Math.random() * 3);&#10;			&#10;			this.send('Debug',&quot;QueueW RAND &quot; + QueueW.length);&#10;			this.send('Debug',&quot;QueueE RAND &quot; + QueueE.length);&#10;			this.send('Debug',&quot;QueueS RAND &quot; + QueueS.length);&#10;			this.send('Debug',&quot;QueueN RAND &quot; + QueueN.length);&#10;			this.send('Debug', &quot;carCount RAND &quot; + carCount);&#10;			this.send('Debug', &quot;random numb: &quot; + random);&#10;			&#10;			if(random == 0) {&#10;				if(QueueW[QueueW.length - 1].indicator == 0) {&#10;					this.send('OEAST',QueueW[QueueW.length - 1]);&#10;				}&#10;				else if(QueueW[QueueW.length - 1].indicator == 1) {&#10;					this.send('OSOUTH',QueueW[QueueW.length - 1]);&#10;				}&#10;				else if(QueueW[QueueW.length - 1].indicator == -1) {&#10;					this.send('ONORTH',QueueW[QueueW.length - 1]);&#10;				}&#10;				&#10;				QueueW.pop();&#10;			    carCount--;&#10;			    countW--;&#10;			    this.send('display', carCount);&#10;			    this.send('trafficJamDetectorW', countW);&#10;			}&#10;			&#10;			else if(random == 1) {&#10;				if(QueueE[QueueE.length - 1].indicator == 0) {&#10;					this.send('OWEST',QueueE[QueueE.length - 1]);&#10;				}&#10;				else if(QueueE[QueueE.length - 1].indicator == 1) {&#10;					this.send('ONORTH',QueueE[QueueE.length - 1]);&#10;				}&#10;				else if(QueueE[QueueE.length - 1].indicator == -1) {&#10;					this.send('OSOUTH',QueueE[QueueE.length - 1]);&#10;				}&#10;				&#10;				QueueE.pop();&#10;			    carCount--;&#10;			    countE--;&#10;			    this.send('display', carCount);&#10;			    this.send('trafficJamDetectorE', countE);&#10;			}&#10;			&#10;			else if(random == 2) {&#10;				if(QueueS[QueueS.length - 1].indicator == 0) {&#10;					this.send('ONORTH',QueueS[QueueS.length - 1]);&#10;				}&#10;				else if(QueueS[QueueS.length - 1].indicator == 1) {&#10;					this.send('OEAST',QueueS[QueueS.length - 1]);&#10;				}&#10;				else if(QueueS[QueueS.length - 1].indicator == -1) {&#10;					this.send('OWEST',QueueS[QueueS.length - 1]);&#10;				}&#10;				&#10;				QueueS.pop();&#10;			    carCount--;&#10;			    countS--;&#10;			    this.send('display', carCount);&#10;			    this.send('trafficJamDetectorS', countS);&#10;			}&#10;			else if(random == 3) {&#10;				if(QueueN[QueueN.length - 1].indicator == 0) {&#10;					this.send('OSOUTH',QueueN[QueueN.length - 1]);&#10;				}&#10;				else if(QueueN[QueueN.length - 1].indicator == 1) {&#10;					this.send('OWEST',QueueN[QueueN.length - 1]);&#10;				}&#10;				else if(QueueN[QueueN.length - 1].indicator == -1) {&#10;					this.send('OEAST',QueueN[QueueN.length - 1]);&#10;				}&#10;				&#10;				QueueN.pop();&#10;			    carCount--;&#10;			    countN--;&#10;			    this.send('display', carCount);&#10;			    this.send('trafficJamDetectorN', countN);&#10;			}&#10;		}&#10;		&#10;		if(carCount != 0) {&#10;			setTimeout(right_hand_rule, 2000);&#10;		}&#10;	}&#10;&#10;">
                <property name="style" class="ptolemy.actor.gui.style.NoteStyle">
                    <property name="note" class="ptolemy.kernel.util.StringAttribute" value="NOTE: To see the script, invoke Open Actor">
                    </property>
                </property>
            </property>
            <property name="_tableauFactory" class="ptolemy.vergil.toolbox.TextEditorTableauFactory">
                <property name="attributeName" class="ptolemy.kernel.util.StringAttribute" value="script">
                </property>
                <property name="syntaxStyle" class="ptolemy.kernel.util.StringAttribute" value="text/javascript">
                </property>
            </property>
            <property name="_location" class="ptolemy.kernel.util.Location" value="[335.0, 395.0]">
            </property>
            <property name="_hideName" class="ptolemy.data.expr.SingletonParameter" value="true">
            </property>
            <port name="error" class="ptolemy.actor.TypedIOPort">
                <property name="output"/>
                <property name="_cardinal" class="ptolemy.kernel.util.StringAttribute" value="NORTH">
                </property>
                <property name="_hide" class="ptolemy.data.expr.SingletonParameter" value="true">
                </property>
            </port>
            <port name="script" class="ptolemy.actor.parameters.ParameterPort">
                <property name="input"/>
                <property name="_cardinal" class="ptolemy.kernel.util.StringAttribute" value="SOUTH">
                </property>
                <property name="_hide" class="ptolemy.data.expr.SingletonParameter" value="true">
                </property>
            </port>
            <port name="carWEST" class="ptolemy.actor.TypedIOPort">
                <property name="input"/>
                <property name="_cardinal" class="ptolemy.kernel.util.StringAttribute" value="WEST">
                </property>
            </port>
            <port name="carEAST" class="ptolemy.actor.TypedIOPort">
                <property name="input"/>
                <property name="_cardinal" class="ptolemy.kernel.util.StringAttribute" value="EAST">
                </property>
            </port>
            <port name="carSOUTH" class="ptolemy.actor.TypedIOPort">
                <property name="input"/>
                <property name="_cardinal" class="ptolemy.kernel.util.StringAttribute" value="SOUTH">
                </property>
            </port>
            <port name="OWEST" class="ptolemy.actor.TypedIOPort">
                <property name="output"/>
                <property name="_cardinal" class="ptolemy.kernel.util.StringAttribute" value="WEST">
                </property>
            </port>
            <port name="OEAST" class="ptolemy.actor.TypedIOPort">
                <property name="output"/>
                <property name="_cardinal" class="ptolemy.kernel.util.StringAttribute" value="EAST">
                </property>
            </port>
            <port name="OSOUTH" class="ptolemy.actor.TypedIOPort">
                <property name="output"/>
                <property name="_cardinal" class="ptolemy.kernel.util.StringAttribute" value="SOUTH">
                </property>
            </port>
            <port name="ONORTH" class="ptolemy.actor.TypedIOPort">
                <property name="output"/>
                <property name="_cardinal" class="ptolemy.kernel.util.StringAttribute" value="NORTH">
                </property>
            </port>
            <port name="carNORTH" class="ptolemy.actor.TypedIOPort">
                <property name="input"/>
                <property name="_cardinal" class="ptolemy.kernel.util.StringAttribute" value="NORTH">
                </property>
            </port>
            <port name="Debug" class="ptolemy.actor.TypedIOPort">
                <property name="output"/>
            </port>
            <port name="display" class="ptolemy.actor.TypedIOPort">
                <property name="output"/>
                <property name="_cardinal" class="ptolemy.kernel.util.StringAttribute" value="WEST">
                </property>
                <property name="_type" class="ptolemy.actor.TypeAttribute" value="double">
                </property>
            </port>
            <port name="trafficJamDetectorN" class="ptolemy.actor.TypedIOPort">
                <property name="output"/>
                <property name="_cardinal" class="ptolemy.kernel.util.StringAttribute" value="NORTH">
                </property>
                <property name="_type" class="ptolemy.actor.TypeAttribute" value="double">
                </property>
            </port>
            <port name="trafficJamDetectorE" class="ptolemy.actor.TypedIOPort">
                <property name="output"/>
                <property name="_cardinal" class="ptolemy.kernel.util.StringAttribute" value="EAST">
                </property>
                <property name="_type" class="ptolemy.actor.TypeAttribute" value="double">
                </property>
            </port>
            <port name="trafficJamDetectorS" class="ptolemy.actor.TypedIOPort">
                <property name="output"/>
                <property name="_type" class="ptolemy.actor.TypeAttribute" value="double">
                </property>
                <property name="_cardinal" class="ptolemy.kernel.util.StringAttribute" value="SOUTH">
                </property>
            </port>
            <port name="trafficJamDetectorW" class="ptolemy.actor.TypedIOPort">
                <property name="output"/>
                <property name="_type" class="ptolemy.actor.TypeAttribute" value="double">
                </property>
                <property name="_cardinal" class="ptolemy.kernel.util.StringAttribute" value="WEST">
                </property>
            </port>
        </entity>
        <entity name="setIndicatorWest" class="ptolemy.actor.lib.jjs.JavaScript">
            <property name="_windowProperties" class="ptolemy.actor.gui.WindowPropertiesAttribute">
            </property>
            <property name="_paneSize" class="ptolemy.actor.gui.SizeAttribute">
            </property>
            <property name="script" class="ptolemy.actor.parameters.PortParameter" value="//Sets the Indicator of a car coming from WEST&#10;//-1 is left, 0 is straight, 1 is right&#10;exports.setup = function () {&#10;    this.input('car');&#10;    &#10;    this.output('output');&#10;};&#10;&#10;exports.fire = function () {&#10;	carWest = this.get('car');&#10;	&#10;	if(carWest.roadMap[carWest.intersectionCount] == this.getParameter('SOUTH')) {&#10;		carWest.intersectionCount = carWest.intersectionCount + 1;&#10;		carWest.indicator = 1;&#10;		this.send('output', carWest);&#10;	}&#10;	else if(carWest.roadMap[carWest.intersectionCount] == this.getParameter('EAST')) {&#10;		carWest.intersectionCount = carWest.intersectionCount + 1;&#10;		carWest.indicator = 0;&#10;		this.send('output', carWest);&#10;	}&#10;	else if(carWest.roadMap[carWest.intersectionCount] == this.getParameter('NORTH')) {&#10;		carWest.intersectionCount = carWest.intersectionCount + 1;&#10;		carWest.indicator = -1;&#10;		this.send('output', carWest);&#10;	}&#10;};">
                <property name="style" class="ptolemy.actor.gui.style.NoteStyle">
                    <property name="note" class="ptolemy.kernel.util.StringAttribute" value="NOTE: To see the script, invoke Open Actor">
                    </property>
                </property>
            </property>
            <property name="_tableauFactory" class="ptolemy.vergil.toolbox.TextEditorTableauFactory">
                <property name="attributeName" class="ptolemy.kernel.util.StringAttribute" value="script">
                </property>
                <property name="syntaxStyle" class="ptolemy.kernel.util.StringAttribute" value="text/javascript">
                </property>
            </property>
            <property name="_location" class="ptolemy.kernel.util.Location" value="[125.734375, 384.53125]">
            </property>
            <property name="_icon" class="ptolemy.vergil.icon.EditorIcon">
                <property name="arc" class="ptolemy.vergil.kernel.attributes.ArcAttribute">
                    <property name="_location" class="ptolemy.kernel.util.Location" value="[3.0, 0.0]">
                    </property>
                    <property name="width" class="ptolemy.data.expr.Parameter" value="36.0">
                    </property>
                    <property name="height" class="ptolemy.data.expr.Parameter" value="32.0">
                    </property>
                    <property name="centered" class="ptolemy.data.expr.Parameter" value="true">
                    </property>
                    <property name="fillColor" class="ptolemy.actor.gui.ColorAttribute" value="{1.0,1.0,0.0,1.0}">
                    </property>
                </property>
                <property name="line" class="ptolemy.vergil.kernel.attributes.LineAttribute">
                    <property name="_location" class="ptolemy.kernel.util.Location" value="[9.0, -7.000000000000011]">
                    </property>
                    <property name="rotation" class="ptolemy.data.expr.Parameter" value="125.0">
                    </property>
                    <property name="x" class="ptolemy.data.expr.Parameter" value="5.0">
                    </property>
                    <property name="y" class="ptolemy.data.expr.Parameter" value="0.0">
                    </property>
                </property>
                <property name="line2" class="ptolemy.vergil.kernel.attributes.LineAttribute">
                    <property name="_location" class="ptolemy.kernel.util.Location" value="[13.0, -1.0000000000000284]">
                    </property>
                    <property name="rotation" class="ptolemy.data.expr.Parameter" value="100.0">
                    </property>
                    <property name="x" class="ptolemy.data.expr.Parameter" value="5.0">
                    </property>
                    <property name="y" class="ptolemy.data.expr.Parameter" value="0.0">
                    </property>
                </property>
                <property name="line3" class="ptolemy.vergil.kernel.attributes.LineAttribute">
                    <property name="_location" class="ptolemy.kernel.util.Location" value="[-2.0, -15.0]">
                    </property>
                    <property name="rotation" class="ptolemy.data.expr.Parameter" value="115.0">
                    </property>
                    <property name="x" class="ptolemy.data.expr.Parameter" value="5.0">
                    </property>
                    <property name="y" class="ptolemy.data.expr.Parameter" value="0.0">
                    </property>
                </property>
                <property name="line4" class="ptolemy.vergil.kernel.attributes.LineAttribute">
                    <property name="_location" class="ptolemy.kernel.util.Location" value="[20.0, 4.999999999999972]">
                    </property>
                    <property name="rotation" class="ptolemy.data.expr.Parameter" value="135.0">
                    </property>
                    <property name="x" class="ptolemy.data.expr.Parameter" value="5.0">
                    </property>
                    <property name="y" class="ptolemy.data.expr.Parameter" value="0.0">
                    </property>
                </property>
                <property name="line5" class="ptolemy.vergil.kernel.attributes.LineAttribute">
                    <property name="_location" class="ptolemy.kernel.util.Location" value="[5.0, -14.0]">
                    </property>
                    <property name="rotation" class="ptolemy.data.expr.Parameter" value="115.0">
                    </property>
                    <property name="x" class="ptolemy.data.expr.Parameter" value="5.0">
                    </property>
                    <property name="y" class="ptolemy.data.expr.Parameter" value="0.0">
                    </property>
                </property>
            </property>
            <property name="SOUTH" class="ptolemy.data.expr.Parameter" value="SOUTH">
            </property>
            <property name="NORTH" class="ptolemy.data.expr.Parameter" value="NORTH">
            </property>
            <property name="EAST" class="ptolemy.data.expr.Parameter" value="EAST">
            </property>
            <port name="car" class="ptolemy.actor.TypedIOPort">
                <property name="input"/>
            </port>
            <port name="output" class="ptolemy.actor.TypedIOPort">
                <property name="output"/>
            </port>
        </entity>
        <entity name="setIndicatorSouth" class="ptolemy.actor.lib.jjs.JavaScript">
            <property name="_windowProperties" class="ptolemy.actor.gui.WindowPropertiesAttribute">
            </property>
            <property name="_paneSize" class="ptolemy.actor.gui.SizeAttribute">
            </property>
            <property name="script" class="ptolemy.actor.parameters.PortParameter" value="//Sets the Indicator of a car coming from SOUTH&#10;//-1 is left, 0 is straight, 1 is right&#10;exports.setup = function () {&#10;    this.input('car');&#10;    &#10;    this.output('output');&#10;};&#10;&#10;exports.fire = function () {&#10;	carSouth = this.get('car');&#10;	&#10;	if(carSouth.roadMap[carSouth.intersectionCount] == this.getParameter('EAST')) {&#10;		carSouth.intersectionCount = carSouth.intersectionCount + 1;&#10;		carSouth.indicator = 1;&#10;		this.send('output', carSouth);&#10;	}&#10;	else if(carSouth.roadMap[carSouth.intersectionCount] == this.getParameter('WEST')) {&#10;		carSouth.intersectionCount = carSouth.intersectionCount + 1;&#10;		carSouth.indicator = -1;&#10;		this.send('output', carSouth);&#10;	}&#10;	else if(carSouth.roadMap[carSouth.intersectionCount] == this.getParameter('NORTH')) {&#10;		carSouth.intersectionCount = carSouth.intersectionCount + 1;&#10;		carSouth.indicator = 0;&#10;		this.send('output', carSouth);&#10;	}&#10;};">
                <property name="style" class="ptolemy.actor.gui.style.NoteStyle">
                    <property name="note" class="ptolemy.kernel.util.StringAttribute" value="NOTE: To see the script, invoke Open Actor">
                    </property>
                </property>
            </property>
            <property name="_tableauFactory" class="ptolemy.vergil.toolbox.TextEditorTableauFactory">
                <property name="attributeName" class="ptolemy.kernel.util.StringAttribute" value="script">
                </property>
                <property name="syntaxStyle" class="ptolemy.kernel.util.StringAttribute" value="text/javascript">
                </property>
            </property>
            <property name="_location" class="ptolemy.kernel.util.Location" value="[220.0, 590.0]">
            </property>
            <property name="_icon" class="ptolemy.vergil.icon.EditorIcon">
                <property name="arc" class="ptolemy.vergil.kernel.attributes.ArcAttribute">
                    <property name="_location" class="ptolemy.kernel.util.Location" value="[0.0, 1.0]">
                    </property>
                    <property name="width" class="ptolemy.data.expr.Parameter" value="36.0">
                    </property>
                    <property name="height" class="ptolemy.data.expr.Parameter" value="32.0">
                    </property>
                    <property name="centered" class="ptolemy.data.expr.Parameter" value="true">
                    </property>
                    <property name="fillColor" class="ptolemy.actor.gui.ColorAttribute" value="{1.0,1.0,0.0,1.0}">
                    </property>
                </property>
                <property name="line" class="ptolemy.vergil.kernel.attributes.LineAttribute">
                    <property name="_location" class="ptolemy.kernel.util.Location" value="[6.0, -6.000000000000016]">
                    </property>
                    <property name="rotation" class="ptolemy.data.expr.Parameter" value="125.0">
                    </property>
                    <property name="x" class="ptolemy.data.expr.Parameter" value="5.0">
                    </property>
                    <property name="y" class="ptolemy.data.expr.Parameter" value="0.0">
                    </property>
                </property>
                <property name="line2" class="ptolemy.vergil.kernel.attributes.LineAttribute">
                    <property name="_location" class="ptolemy.kernel.util.Location" value="[10.0, -3.019806626980426E-14]">
                    </property>
                    <property name="rotation" class="ptolemy.data.expr.Parameter" value="100.0">
                    </property>
                    <property name="x" class="ptolemy.data.expr.Parameter" value="5.0">
                    </property>
                    <property name="y" class="ptolemy.data.expr.Parameter" value="0.0">
                    </property>
                </property>
                <property name="line3" class="ptolemy.vergil.kernel.attributes.LineAttribute">
                    <property name="_location" class="ptolemy.kernel.util.Location" value="[-5.0, -14.000000000000002]">
                    </property>
                    <property name="rotation" class="ptolemy.data.expr.Parameter" value="115.0">
                    </property>
                    <property name="x" class="ptolemy.data.expr.Parameter" value="5.0">
                    </property>
                    <property name="y" class="ptolemy.data.expr.Parameter" value="0.0">
                    </property>
                </property>
                <property name="line4" class="ptolemy.vergil.kernel.attributes.LineAttribute">
                    <property name="_location" class="ptolemy.kernel.util.Location" value="[17.0, 5.999999999999972]">
                    </property>
                    <property name="rotation" class="ptolemy.data.expr.Parameter" value="135.0">
                    </property>
                    <property name="x" class="ptolemy.data.expr.Parameter" value="5.0">
                    </property>
                    <property name="y" class="ptolemy.data.expr.Parameter" value="0.0">
                    </property>
                </property>
                <property name="line5" class="ptolemy.vergil.kernel.attributes.LineAttribute">
                    <property name="_location" class="ptolemy.kernel.util.Location" value="[2.0, -13.000000000000002]">
                    </property>
                    <property name="rotation" class="ptolemy.data.expr.Parameter" value="115.0">
                    </property>
                    <property name="x" class="ptolemy.data.expr.Parameter" value="5.0">
                    </property>
                    <property name="y" class="ptolemy.data.expr.Parameter" value="0.0">
                    </property>
                </property>
            </property>
            <property name="WEST" class="ptolemy.data.expr.Parameter" value="WEST">
            </property>
            <property name="EAST" class="ptolemy.data.expr.Parameter" value="EAST">
            </property>
            <property name="NORTH" class="ptolemy.data.expr.Parameter" value="NORTH">
            </property>
            <port name="car" class="ptolemy.actor.TypedIOPort">
                <property name="input"/>
            </port>
            <port name="output" class="ptolemy.actor.TypedIOPort">
                <property name="output"/>
            </port>
        </entity>
        <entity name="setIndicatorEast" class="ptolemy.actor.lib.jjs.JavaScript">
            <property name="_windowProperties" class="ptolemy.actor.gui.WindowPropertiesAttribute">
            </property>
            <property name="_paneSize" class="ptolemy.actor.gui.SizeAttribute">
            </property>
            <property name="script" class="ptolemy.actor.parameters.PortParameter" value="//Sets the Indicator of a car coming from WEST&#10;//-1 is left, 0 is straight, 1 is right&#10;exports.setup = function () {&#10;    this.input('car');&#10;    &#10;    this.output('output');&#10;};&#10;&#10;exports.fire = function () {&#10;	carEast = this.get('car');&#10;	&#10;	if(carEast.roadMap[carEast.intersectionCount] == this.getParameter('SOUTH')) {&#10;		carEast.intersectionCount = carEast.intersectionCount + 1;&#10;		carEast.indicator = -1;&#10;		this.send('output', carEast);&#10;	}&#10;	else if(carEast.roadMap[carEast.intersectionCount] == this.getParameter('WEST')) {&#10;		carEast.intersectionCount = carEast.intersectionCount + 1;&#10;		carEast.indicator = 0;&#10;		this.send('output', carEast);&#10;	}&#10;	else if(carEast.roadMap[carEast.intersectionCount] == this.getParameter('NORTH')) {&#10;		carEast.intersectionCount = carEast.intersectionCount + 1;&#10;		carEast.indicator = 1;&#10;		this.send('output', carEast);&#10;	}&#10;};">
                <property name="style" class="ptolemy.actor.gui.style.NoteStyle">
                    <property name="note" class="ptolemy.kernel.util.StringAttribute" value="NOTE: To see the script, invoke Open Actor">
                    </property>
                </property>
            </property>
            <property name="_tableauFactory" class="ptolemy.vergil.toolbox.TextEditorTableauFactory">
                <property name="attributeName" class="ptolemy.kernel.util.StringAttribute" value="script">
                </property>
                <property name="syntaxStyle" class="ptolemy.kernel.util.StringAttribute" value="text/javascript">
                </property>
            </property>
            <property name="_location" class="ptolemy.kernel.util.Location" value="[485.0, 390.0]">
            </property>
            <property name="_icon" class="ptolemy.vergil.icon.EditorIcon">
                <property name="arc" class="ptolemy.vergil.kernel.attributes.ArcAttribute">
                    <property name="_location" class="ptolemy.kernel.util.Location" value="[0.0, 2.0]">
                    </property>
                    <property name="width" class="ptolemy.data.expr.Parameter" value="36.0">
                    </property>
                    <property name="height" class="ptolemy.data.expr.Parameter" value="32.0">
                    </property>
                    <property name="centered" class="ptolemy.data.expr.Parameter" value="true">
                    </property>
                    <property name="fillColor" class="ptolemy.actor.gui.ColorAttribute" value="{1.0,1.0,0.0,1.0}">
                    </property>
                </property>
                <property name="line" class="ptolemy.vergil.kernel.attributes.LineAttribute">
                    <property name="_location" class="ptolemy.kernel.util.Location" value="[6.0, -5.000000000000012]">
                    </property>
                    <property name="rotation" class="ptolemy.data.expr.Parameter" value="125.0">
                    </property>
                    <property name="x" class="ptolemy.data.expr.Parameter" value="5.0">
                    </property>
                    <property name="y" class="ptolemy.data.expr.Parameter" value="0.0">
                    </property>
                </property>
                <property name="line2" class="ptolemy.vergil.kernel.attributes.LineAttribute">
                    <property name="_location" class="ptolemy.kernel.util.Location" value="[10.0, 0.9999999999999698]">
                    </property>
                    <property name="rotation" class="ptolemy.data.expr.Parameter" value="100.0">
                    </property>
                    <property name="x" class="ptolemy.data.expr.Parameter" value="5.0">
                    </property>
                    <property name="y" class="ptolemy.data.expr.Parameter" value="0.0">
                    </property>
                </property>
                <property name="line3" class="ptolemy.vergil.kernel.attributes.LineAttribute">
                    <property name="_location" class="ptolemy.kernel.util.Location" value="[-5.0, -13.000000000000002]">
                    </property>
                    <property name="rotation" class="ptolemy.data.expr.Parameter" value="115.0">
                    </property>
                    <property name="x" class="ptolemy.data.expr.Parameter" value="5.0">
                    </property>
                    <property name="y" class="ptolemy.data.expr.Parameter" value="0.0">
                    </property>
                </property>
                <property name="line4" class="ptolemy.vergil.kernel.attributes.LineAttribute">
                    <property name="_location" class="ptolemy.kernel.util.Location" value="[17.0, 6.999999999999972]">
                    </property>
                    <property name="rotation" class="ptolemy.data.expr.Parameter" value="135.0">
                    </property>
                    <property name="x" class="ptolemy.data.expr.Parameter" value="5.0">
                    </property>
                    <property name="y" class="ptolemy.data.expr.Parameter" value="0.0">
                    </property>
                </property>
                <property name="line5" class="ptolemy.vergil.kernel.attributes.LineAttribute">
                    <property name="_location" class="ptolemy.kernel.util.Location" value="[2.0, -12.000000000000002]">
                    </property>
                    <property name="rotation" class="ptolemy.data.expr.Parameter" value="115.0">
                    </property>
                    <property name="x" class="ptolemy.data.expr.Parameter" value="5.0">
                    </property>
                    <property name="y" class="ptolemy.data.expr.Parameter" value="0.0">
                    </property>
                </property>
            </property>
            <property name="SOUTH" class="ptolemy.data.expr.Parameter" value="SOUTH">
            </property>
            <property name="WEST" class="ptolemy.data.expr.Parameter" value="WEST">
            </property>
            <property name="NORTH" class="ptolemy.data.expr.Parameter" value="NORTH">
            </property>
            <port name="car" class="ptolemy.actor.TypedIOPort">
                <property name="input"/>
                <property name="_cardinal" class="ptolemy.kernel.util.StringAttribute" value="EAST">
                </property>
            </port>
            <port name="output" class="ptolemy.actor.TypedIOPort">
                <property name="output"/>
                <property name="_cardinal" class="ptolemy.kernel.util.StringAttribute" value="WEST">
                </property>
            </port>
        </entity>
        <entity name="setIndicatorNorth" class="ptolemy.actor.lib.jjs.JavaScript">
            <property name="_windowProperties" class="ptolemy.actor.gui.WindowPropertiesAttribute">
            </property>
            <property name="_paneSize" class="ptolemy.actor.gui.SizeAttribute">
            </property>
            <property name="script" class="ptolemy.actor.parameters.PortParameter" value="//Sets the Indicator of a car coming from WEST&#10;//-1 is left, 0 is straight, 1 is right&#10;exports.setup = function () {&#10;    this.input('car');&#10;    &#10;    this.output('output');&#10;};&#10;&#10;exports.fire = function () {&#10;	carNorth = this.get('car');&#10;	&#10;	if(carNorth.roadMap[carNorth.intersectionCount] == this.getParameter('SOUTH')) {&#10;		carNorth.intersectionCount = carNorth.intersectionCount + 1;&#10;		carNorth.indicator = 0;&#10;		this.send('output', carNorth);&#10;	}&#10;	else if(carNorth.roadMap[carNorth.intersectionCount] == this.getParameter('EAST')) {&#10;		carNorth.intersectionCount = carNorth.intersectionCount + 1;&#10;		carNorth.indicator = -1;&#10;		this.send('output', carNorth);&#10;	}&#10;	else if(carNorth.roadMap[carNorth.intersectionCount] == this.getParameter('WEST')) {&#10;		carNorth.intersectionCount = carNorth.intersectionCount + 1;&#10;		carNorth.indicator = 1;&#10;		this.send('output', carNorth);&#10;	}&#10;};">
                <property name="style" class="ptolemy.actor.gui.style.NoteStyle">
                    <property name="note" class="ptolemy.kernel.util.StringAttribute" value="NOTE: To see the script, invoke Open Actor">
                    </property>
                </property>
            </property>
            <property name="_tableauFactory" class="ptolemy.vergil.toolbox.TextEditorTableauFactory">
                <property name="attributeName" class="ptolemy.kernel.util.StringAttribute" value="script">
                </property>
                <property name="syntaxStyle" class="ptolemy.kernel.util.StringAttribute" value="text/javascript">
                </property>
            </property>
            <property name="_location" class="ptolemy.kernel.util.Location" value="[330.0, 245.0]">
            </property>
            <property name="_icon" class="ptolemy.vergil.icon.EditorIcon">
                <property name="arc" class="ptolemy.vergil.kernel.attributes.ArcAttribute">
                    <property name="_location" class="ptolemy.kernel.util.Location" value="[3.0, 0.0]">
                    </property>
                    <property name="width" class="ptolemy.data.expr.Parameter" value="36.0">
                    </property>
                    <property name="height" class="ptolemy.data.expr.Parameter" value="32.0">
                    </property>
                    <property name="centered" class="ptolemy.data.expr.Parameter" value="true">
                    </property>
                    <property name="fillColor" class="ptolemy.actor.gui.ColorAttribute" value="{1.0,1.0,0.0,1.0}">
                    </property>
                </property>
                <property name="line" class="ptolemy.vergil.kernel.attributes.LineAttribute">
                    <property name="_location" class="ptolemy.kernel.util.Location" value="[9.0, -7.000000000000011]">
                    </property>
                    <property name="rotation" class="ptolemy.data.expr.Parameter" value="125.0">
                    </property>
                    <property name="x" class="ptolemy.data.expr.Parameter" value="5.0">
                    </property>
                    <property name="y" class="ptolemy.data.expr.Parameter" value="0.0">
                    </property>
                </property>
                <property name="line2" class="ptolemy.vergil.kernel.attributes.LineAttribute">
                    <property name="_location" class="ptolemy.kernel.util.Location" value="[13.0, -1.0000000000000284]">
                    </property>
                    <property name="rotation" class="ptolemy.data.expr.Parameter" value="100.0">
                    </property>
                    <property name="x" class="ptolemy.data.expr.Parameter" value="5.0">
                    </property>
                    <property name="y" class="ptolemy.data.expr.Parameter" value="0.0">
                    </property>
                </property>
                <property name="line3" class="ptolemy.vergil.kernel.attributes.LineAttribute">
                    <property name="_location" class="ptolemy.kernel.util.Location" value="[-2.0, -15.0]">
                    </property>
                    <property name="rotation" class="ptolemy.data.expr.Parameter" value="115.0">
                    </property>
                    <property name="x" class="ptolemy.data.expr.Parameter" value="5.0">
                    </property>
                    <property name="y" class="ptolemy.data.expr.Parameter" value="0.0">
                    </property>
                </property>
                <property name="line4" class="ptolemy.vergil.kernel.attributes.LineAttribute">
                    <property name="_location" class="ptolemy.kernel.util.Location" value="[20.0, 4.999999999999972]">
                    </property>
                    <property name="rotation" class="ptolemy.data.expr.Parameter" value="135.0">
                    </property>
                    <property name="x" class="ptolemy.data.expr.Parameter" value="5.0">
                    </property>
                    <property name="y" class="ptolemy.data.expr.Parameter" value="0.0">
                    </property>
                </property>
                <property name="line5" class="ptolemy.vergil.kernel.attributes.LineAttribute">
                    <property name="_location" class="ptolemy.kernel.util.Location" value="[5.0, -14.0]">
                    </property>
                    <property name="rotation" class="ptolemy.data.expr.Parameter" value="115.0">
                    </property>
                    <property name="x" class="ptolemy.data.expr.Parameter" value="5.0">
                    </property>
                    <property name="y" class="ptolemy.data.expr.Parameter" value="0.0">
                    </property>
                </property>
            </property>
            <property name="SOUTH" class="ptolemy.data.expr.Parameter" value="SOUTH">
            </property>
            <property name="_rotatePorts" class="ptolemy.data.expr.Parameter" value="90">
            </property>
            <property name="WEST" class="ptolemy.data.expr.Parameter" value="WEST">
            </property>
            <property name="EAST" class="ptolemy.data.expr.Parameter" value="EAST">
            </property>
            <port name="car" class="ptolemy.actor.TypedIOPort">
                <property name="input"/>
            </port>
            <port name="output" class="ptolemy.actor.TypedIOPort">
                <property name="output"/>
            </port>
        </entity>
        <entity name="Display" class="ptolemy.actor.lib.gui.Display">
            <display name="Debug"/>
            <property name="_windowProperties" class="ptolemy.actor.gui.WindowPropertiesAttribute" value="{bounds={521, 738, 359, 246}, maximized=false}">
            </property>
            <property name="_paneSize" class="ptolemy.actor.gui.SizeAttribute" value="[343, 186]">
            </property>
            <property name="_location" class="ptolemy.kernel.util.Location" value="[410.0, 525.0]">
            </property>
        </entity>
        <entity name="TimedPlotter2" class="ptolemy.actor.lib.gui.TimedPlotter">
            <property name="legend" class="ptolemy.kernel.util.StringAttribute" value="carCount">
            </property>
            <property name="_windowProperties" class="ptolemy.actor.gui.WindowPropertiesAttribute" value="{bounds={34, 273, 642, 334}, maximized=false}">
            </property>
            <property name="_plotSize" class="ptolemy.actor.gui.SizeAttribute" value="[626, 274]">
            </property>
            <property name="_location" class="ptolemy.kernel.util.Location" value="[270.0, 500.0]">
            </property>
            <configure>
<?plotml <!DOCTYPE plot PUBLIC "-//UC Berkeley//DTD PlotML 1//EN"
"http://ptolemy.eecs.berkeley.edu/xml/dtd/PlotML_1.dtd">
<plot>
<title>TimedPlotter</title>
<xLabel></xLabel>
<yLabel></yLabel>
<xRange min="1.7976931348623157E308" max="-1.7976931348623157E308"/>
<yRange min="1.7976931348623157E308" max="-1.7976931348623157E308"/>
</plot>?>
            </configure>
        </entity>
        <entity name="TimedPlotter" class="ptolemy.actor.lib.gui.TimedPlotter">
            <property name="legend" class="ptolemy.kernel.util.StringAttribute" value="traffic_North, traffic_East, traffic_South, traffic_West">
            </property>
            <property name="_windowProperties" class="ptolemy.actor.gui.WindowPropertiesAttribute" value="{bounds={148, 372, 642, 334}, maximized=false}">
            </property>
            <property name="_plotSize" class="ptolemy.actor.gui.SizeAttribute" value="[626, 274]">
            </property>
            <property name="_location" class="ptolemy.kernel.util.Location" value="[580.0, 495.0]">
            </property>
            <configure>
<?plotml <!DOCTYPE plot PUBLIC "-//UC Berkeley//DTD PlotML 1//EN"
"http://ptolemy.eecs.berkeley.edu/xml/dtd/PlotML_1.dtd">
<plot>
<title>TimedPlotter</title>
<xLabel></xLabel>
<yLabel></yLabel>
<xRange min="1.7976931348623157E308" max="-1.7976931348623157E308"/>
<yRange min="1.7976931348623157E308" max="-1.7976931348623157E308"/>
</plot>?>
            </configure>
        </entity>
        <relation name="relation4" class="ptolemy.actor.TypedIORelation">
        </relation>
        <relation name="relation5" class="ptolemy.actor.TypedIORelation">
        </relation>
        <relation name="relation6" class="ptolemy.actor.TypedIORelation">
        </relation>
        <relation name="relation7" class="ptolemy.actor.TypedIORelation">
        </relation>
        <relation name="relation2" class="ptolemy.actor.TypedIORelation">
        </relation>
        <relation name="relation3" class="ptolemy.actor.TypedIORelation">
        </relation>
        <relation name="relation8" class="ptolemy.actor.TypedIORelation">
        </relation>
        <relation name="relation9" class="ptolemy.actor.TypedIORelation">
        </relation>
        <relation name="relation10" class="ptolemy.actor.TypedIORelation">
        </relation>
        <relation name="relation" class="ptolemy.actor.TypedIORelation">
        </relation>
        <relation name="relation11" class="ptolemy.actor.TypedIORelation">
        </relation>
        <relation name="relation12" class="ptolemy.actor.TypedIORelation">
        </relation>
        <relation name="relation13" class="ptolemy.actor.TypedIORelation">
        </relation>
        <relation name="relation14" class="ptolemy.actor.TypedIORelation">
        </relation>
        <relation name="relation15" class="ptolemy.actor.TypedIORelation">
        </relation>
        <relation name="relation16" class="ptolemy.actor.TypedIORelation">
        </relation>
        <relation name="relation17" class="ptolemy.actor.TypedIORelation">
        </relation>
        <link port="EastOut" relation="relation5"/>
        <link port="WestIn" relation="relation7"/>
        <link port="WestOut" relation="relation4"/>
        <link port="SouthIn" relation="relation3"/>
        <link port="SouthOut" relation="relation6"/>
        <link port="EastIn" relation="relation8"/>
        <link port="NorthIn" relation="relation11"/>
        <link port="NorthOut" relation="relation"/>
        <link port="T-Intersection Right-Hand-Rule.carWEST" relation="relation10"/>
        <link port="T-Intersection Right-Hand-Rule.carEAST" relation="relation9"/>
        <link port="T-Intersection Right-Hand-Rule.carSOUTH" relation="relation2"/>
        <link port="T-Intersection Right-Hand-Rule.OWEST" relation="relation4"/>
        <link port="T-Intersection Right-Hand-Rule.OEAST" relation="relation5"/>
        <link port="T-Intersection Right-Hand-Rule.OSOUTH" relation="relation6"/>
        <link port="T-Intersection Right-Hand-Rule.ONORTH" relation="relation"/>
        <link port="T-Intersection Right-Hand-Rule.carNORTH" relation="relation12"/>
        <link port="T-Intersection Right-Hand-Rule.display" relation="relation13"/>
        <link port="T-Intersection Right-Hand-Rule.trafficJamDetectorN" relation="relation14"/>
        <link port="T-Intersection Right-Hand-Rule.trafficJamDetectorE" relation="relation15"/>
        <link port="T-Intersection Right-Hand-Rule.trafficJamDetectorS" relation="relation16"/>
        <link port="T-Intersection Right-Hand-Rule.trafficJamDetectorW" relation="relation17"/>
        <link port="setIndicatorWest.car" relation="relation7"/>
        <link port="setIndicatorWest.output" relation="relation10"/>
        <link port="setIndicatorSouth.car" relation="relation3"/>
        <link port="setIndicatorSouth.output" relation="relation2"/>
        <link port="setIndicatorEast.car" relation="relation8"/>
        <link port="setIndicatorEast.output" relation="relation9"/>
        <link port="setIndicatorNorth.car" relation="relation11"/>
        <link port="setIndicatorNorth.output" relation="relation12"/>
        <link port="TimedPlotter2.input" relation="relation13"/>
        <link port="TimedPlotter.input" relation="relation14"/>
        <link port="TimedPlotter.input" relation="relation15"/>
        <link port="TimedPlotter.input" relation="relation16"/>
        <link port="TimedPlotter.input" relation="relation17"/>
    </entity>
    <entity name="DiscreteClock" class="ptolemy.actor.lib.DiscreteClock">
        <property name="period" class="ptolemy.actor.parameters.PortParameter" value="3.0">
        </property>
        <doc>Create periodic timed events.</doc>
        <property name="_location" class="ptolemy.kernel.util.Location" value="[-485.0, 260.0]">
        </property>
    </entity>
    <entity name="DiscreteClock2" class="ptolemy.actor.lib.DiscreteClock">
        <property name="period" class="ptolemy.actor.parameters.PortParameter" value="3.0">
        </property>
        <doc>Create periodic timed events.</doc>
        <property name="_location" class="ptolemy.kernel.util.Location" value="{-436.6626884422091, -149.30032977386804}">
        </property>
    </entity>
    <entity name="DiscreteClock3" class="ptolemy.actor.lib.DiscreteClock">
        <property name="period" class="ptolemy.actor.parameters.PortParameter" value="3.0">
        </property>
        <doc>Create periodic timed events.</doc>
        <property name="_location" class="ptolemy.kernel.util.Location" value="{-680.4126884422083, 61.63717022613122}">
        </property>
    </entity>
    <entity name="DiscreteClock4" class="ptolemy.actor.lib.DiscreteClock">
        <property name="period" class="ptolemy.actor.parameters.PortParameter" value="3.0">
        </property>
        <doc>Create periodic timed events.</doc>
        <property name="_location" class="ptolemy.kernel.util.Location" value="{-642.9126884422084, 467.88717022612974}">
        </property>
    </entity>
    <entity name="DiscreteClock5" class="ptolemy.actor.lib.DiscreteClock">
        <property name="period" class="ptolemy.actor.parameters.PortParameter" value="3.0">
        </property>
        <doc>Create periodic timed events.</doc>
        <property name="_location" class="ptolemy.kernel.util.Location" value="[1219.0750628140697, 332.5756124371858]">
        </property>
        <property name="_flipPortsHorizontal" class="ptolemy.data.expr.Parameter" value="true">
        </property>
    </entity>
    <entity name="Road" class="ptolemy.actor.TypedCompositeActor">
        <property name="_location" class="ptolemy.kernel.util.Location" value="[-45.0, -140.0]">
        </property>
        <property name="_windowProperties" class="ptolemy.actor.gui.WindowPropertiesAttribute" value="{bounds={174, 129, 928, 617}, maximized=false}">
        </property>
        <property name="_vergilSize" class="ptolemy.actor.gui.SizeAttribute" value="[700, 500]">
        </property>
        <property name="_vergilZoomFactor" class="ptolemy.data.expr.ExpertParameter" value="1.0">
        </property>
        <property name="_vergilCenter" class="ptolemy.data.expr.ExpertParameter" value="{246.40059673366832, 253.38222361809045}">
        </property>
        <property name="_icon" class="ptolemy.vergil.icon.EditorIcon">
            <property name="rectangle" class="ptolemy.vergil.kernel.attributes.RectangleAttribute">
                <property name="_location" class="ptolemy.kernel.util.Location" value="{0, 0}">
                </property>
                <property name="width" class="ptolemy.data.expr.Parameter" value="60">
                </property>
                <property name="height" class="ptolemy.data.expr.Parameter" value="40">
                </property>
                <property name="centered" class="ptolemy.data.expr.Parameter" value="true">
                </property>
                <property name="fillColor" class="ptolemy.actor.gui.ColorAttribute" value="{1.0, 1.0, 1.0, 1.0}">
                </property>
            </property>
            <property name="Annotation" class="ptolemy.vergil.kernel.attributes.TextAttribute">
                <property name="textColor" class="ptolemy.actor.gui.ColorAttribute" value="{0.0, 0.0, 0.0, 1.0}">
                </property>
                <property name="text" class="ptolemy.kernel.util.StringAttribute" value="- - - - - -">
                </property>
                <property name="_location" class="ptolemy.kernel.util.Location" value="[-28.0, -4.0]">
                </property>
            </property>
            <property name="_windowProperties" class="ptolemy.actor.gui.WindowPropertiesAttribute" value="{bounds={219, 75, 928, 617}, maximized=false}">
            </property>
            <property name="_vergilSize" class="ptolemy.actor.gui.SizeAttribute" value="[700, 500]">
            </property>
            <property name="_vergilZoomFactor" class="ptolemy.data.expr.ExpertParameter" value="4.0">
            </property>
            <property name="_vergilCenter" class="ptolemy.data.expr.ExpertParameter" value="{12.5, 6.25}">
            </property>
        </property>
        <property name="streetLength" class="ptolemy.data.expr.Parameter" value="4">
        </property>
        <property name="duration" class="ptolemy.data.expr.Parameter" value="4">
        </property>
        <property name="analysisFlag" class="ptolemy.data.expr.Parameter" value="StreetPlotterFlag">
        </property>
        <port name="leftRightInput" class="ptolemy.actor.TypedIOPort">
            <property name="input"/>
            <property name="_location" class="ptolemy.kernel.util.Location" value="{15.0, 255.0}">
            </property>
            <property name="_cardinal" class="ptolemy.kernel.util.StringAttribute" value="WEST">
            </property>
        </port>
        <port name="leftRightOutput" class="ptolemy.actor.TypedIOPort">
            <property name="output"/>
            <property name="_location" class="ptolemy.kernel.util.Location" value="{355.0, 205.0}">
            </property>
            <property name="_cardinal" class="ptolemy.kernel.util.StringAttribute" value="EAST">
            </property>
        </port>
        <port name="rightLeftInput" class="ptolemy.actor.TypedIOPort">
            <property name="input"/>
            <property name="_location" class="ptolemy.kernel.util.Location" value="[490.0, 220.0]">
            </property>
            <property name="_cardinal" class="ptolemy.kernel.util.StringAttribute" value="EAST">
            </property>
        </port>
        <port name="rightLeftOutput" class="ptolemy.actor.TypedIOPort">
            <property name="output"/>
            <property name="_location" class="ptolemy.kernel.util.Location" value="[225.0, 350.0]">
            </property>
            <property name="_cardinal" class="ptolemy.kernel.util.StringAttribute" value="WEST">
            </property>
        </port>
        <entity name="TimeDelay" class="ptolemy.actor.lib.TimeDelay">
            <property name="delay" class="ptolemy.actor.parameters.PortParameter" value="1">
            </property>
            <property name="_location" class="ptolemy.kernel.util.Location" value="{145.0, 255.0}">
            </property>
            <port name="delay" class="ptolemy.actor.parameters.ParameterPort">
                <property name="input"/>
                <property name="_type" class="ptolemy.actor.TypeAttribute" value="double">
                </property>
            </port>
        </entity>
        <entity name="TimeDelay2" class="ptolemy.actor.lib.TimeDelay">
            <property name="delay" class="ptolemy.actor.parameters.PortParameter" value="1">
            </property>
            <property name="_location" class="ptolemy.kernel.util.Location" value="{385.0, 275.0}">
            </property>
            <property name="_flipPortsHorizontal" class="ptolemy.data.expr.Parameter" value="true">
            </property>
            <port name="delay" class="ptolemy.actor.parameters.ParameterPort">
                <property name="input"/>
                <property name="_type" class="ptolemy.actor.TypeAttribute" value="double">
                </property>
            </port>
        </entity>
        <entity name="Street2" class="ptolemy.actor.TypedCompositeActor">
            <property name="_location" class="ptolemy.kernel.util.Location" value="{270.0, 265.0}">
            </property>
            <property name="_icon" class="ptolemy.vergil.icon.EditorIcon">
                <property name="rectangle" class="ptolemy.vergil.kernel.attributes.RectangleAttribute">
                    <property name="_location" class="ptolemy.kernel.util.Location" value="-0.5, 0.5">
                    </property>
                    <property name="width" class="ptolemy.data.expr.Parameter" value="41.0">
                    </property>
                    <property name="height" class="ptolemy.data.expr.Parameter" value="21.0">
                    </property>
                    <property name="centered" class="ptolemy.data.expr.Parameter" value="true">
                    </property>
                    <property name="fillColor" class="ptolemy.actor.gui.ColorAttribute" value="{1.0, 1.0, 1.0, 1.0}">
                    </property>
                    <property name="_renderFirst" class="ptolemy.kernel.util.SingletonAttribute">
                    </property>
                </property>
                <property name="line" class="ptolemy.vergil.kernel.attributes.LineAttribute">
                    <property name="_location" class="ptolemy.kernel.util.Location" value="[-20.0, -10.0]">
                    </property>
                    <property name="x" class="ptolemy.data.expr.Parameter" value="40.0">
                    </property>
                    <property name="y" class="ptolemy.data.expr.Parameter" value="0.0">
                    </property>
                </property>
                <property name="line2" class="ptolemy.vergil.kernel.attributes.LineAttribute">
                    <property name="_location" class="ptolemy.kernel.util.Location" value="[-20.0, 11.0]">
                    </property>
                    <property name="x" class="ptolemy.data.expr.Parameter" value="40.0">
                    </property>
                    <property name="y" class="ptolemy.data.expr.Parameter" value="0.0">
                    </property>
                </property>
                <property name="Annotation" class="ptolemy.vergil.kernel.attributes.TextAttribute">
                    <property name="textColor" class="ptolemy.actor.gui.ColorAttribute" value="{0.0, 0.0, 0.0, 1.0}">
                    </property>
                    <property name="text" class="ptolemy.kernel.util.StringAttribute" value="- - - - -">
                    </property>
                    <property name="_location" class="ptolemy.kernel.util.Location" value="[-24.0, -4.0]">
                    </property>
                </property>
            </property>
            <property name="_windowProperties" class="ptolemy.actor.gui.WindowPropertiesAttribute" value="{bounds={610, 195, 928, 618}, maximized=false}">
            </property>
            <property name="_vergilSize" class="ptolemy.actor.gui.SizeAttribute" value="[700, 501]">
            </property>
            <property name="_vergilZoomFactor" class="ptolemy.data.expr.ExpertParameter" value="1.0">
            </property>
            <property name="_vergilCenter" class="ptolemy.data.expr.ExpertParameter" value="{265.8625157035176, 588.6470214997105}">
            </property>
            <property name="streetLength" class="ptolemy.data.expr.Parameter" value="streetLength">
            </property>
            <property name="analysisFlag" class="ptolemy.data.expr.Parameter" value="StreetPlotterFlag">
            </property>
            <property name="duration" class="ptolemy.data.expr.Parameter" value="duration">
            </property>
            <port name="left-right-input" class="ptolemy.actor.TypedIOPort">
                <property name="input"/>
                <property name="_cardinal" class="ptolemy.kernel.util.StringAttribute" value="WEST">
                </property>
                <property name="_location" class="ptolemy.kernel.util.Location" value="[10.0, 455.0]">
                </property>
                <property name="_type" class="ptolemy.actor.TypeAttribute" value="{carId = int, roadMap = arrayType(int), indicator = int, intersectionCount = int}">
                </property>
                <property name="_showName" class="ptolemy.data.expr.SingletonParameter" value="false">
                </property>
            </port>
            <port name="left-right-output" class="ptolemy.actor.TypedIOPort">
                <property name="output"/>
                <property name="_cardinal" class="ptolemy.kernel.util.StringAttribute" value="EAST">
                </property>
                <property name="_location" class="ptolemy.kernel.util.Location" value="[665.0, 435.0]">
                </property>
                <property name="_type" class="ptolemy.actor.TypeAttribute" value="{carId = int, roadMap = arrayType(int), indicator = int, intersectionCount = int}">
                </property>
                <property name="_showName" class="ptolemy.data.expr.SingletonParameter" value="false">
                </property>
            </port>
            <port name="right-left-input" class="ptolemy.actor.TypedIOPort">
                <property name="input"/>
                <property name="_cardinal" class="ptolemy.kernel.util.StringAttribute" value="EAST">
                </property>
                <property name="_location" class="ptolemy.kernel.util.Location" value="[10.0, 620.0]">
                </property>
                <property name="_type" class="ptolemy.actor.TypeAttribute" value="{carId = int, roadMap = arrayType(int), indicator = int, intersectionCount = int}">
                </property>
                <property name="_showName" class="ptolemy.data.expr.SingletonParameter" value="false">
                </property>
            </port>
            <port name="right-left-output" class="ptolemy.actor.TypedIOPort">
                <property name="output"/>
                <property name="_cardinal" class="ptolemy.kernel.util.StringAttribute" value="WEST">
                </property>
                <property name="_location" class="ptolemy.kernel.util.Location" value="[660.0, 600.0]">
                </property>
                <property name="_type" class="ptolemy.actor.TypeAttribute" value="{carId = int, roadMap = arrayType(int), indicator = int, intersectionCount = int}">
                </property>
                <property name="_showName" class="ptolemy.data.expr.SingletonParameter" value="false">
                </property>
            </port>
            <entity name="TimeDelay" class="ptolemy.actor.lib.TimeDelay">
                <property name="delay" class="ptolemy.actor.parameters.PortParameter" value="duration">
                </property>
                <property name="_location" class="ptolemy.kernel.util.Location" value="[370.0, 455.0]">
                </property>
            </entity>
            <entity name="TimeDelay2" class="ptolemy.actor.lib.TimeDelay">
                <property name="delay" class="ptolemy.actor.parameters.PortParameter" value="duration">
                </property>
                <property name="_location" class="ptolemy.kernel.util.Location" value="[385.0, 620.0]">
                </property>
            </entity>
            <entity name="counter" class="ptolemy.actor.lib.jjs.JavaScript">
                <property name="_windowProperties" class="ptolemy.actor.gui.WindowPropertiesAttribute">
                </property>
                <property name="_paneSize" class="ptolemy.actor.gui.SizeAttribute">
                </property>
                <property name="script" class="ptolemy.actor.parameters.PortParameter" value="// counter that simulates the street&#10;	var counter = 0;&#10;//queue to save the waiting cars&#10;	var queue = [];&#10;&#10;exports.setup = function () {&#10;	//the Input-ports for the incoming cars&#10;    this.input('input');&#10;    this.input('counter');&#10;    &#10;    //the Output-ports for the leaving cars&#10;    this.output('output');&#10;    this.output('display');&#10;    this.output('trigger');&#10;}&#10;&#10;exports.initialize = function () {&#10;	&#10;	this.addInputHandler('input', function() {&#10;		this.send('output', this.get('input'));&#10;	});&#10;	&#10;	this.addInputHandler('counter', function() {&#10;		counter = this.get('counter');&#10;		&#10;		if (this.getParameter('analysisFlag') == 1) {&#10;			this.send('display', counter);&#10;		}&#10;		&#10;		if (counter &lt; this.getParameter('streetLength')) {&#10;			this.send('trigger', true);&#10;		} else {&#10;			// do nothing, street is full&#10;		}&#10;		&#10;		/*&#10;		if (counter &gt; this.getParameter('streetLength')) {&#10;			this.send('trigger', (counter-this.getParameter('streetLength'))*3);&#10;		} else {&#10;			while (queue.length != 0) {&#10;				this.send('output', queue.pop());&#10;			}&#10;		}*/&#10;	});&#10;}">
                    <property name="style" class="ptolemy.actor.gui.style.NoteStyle">
                        <property name="note" class="ptolemy.kernel.util.StringAttribute" value="NOTE: To see the script, invoke Open Actor">
                        </property>
                    </property>
                </property>
                <property name="_tableauFactory" class="ptolemy.vergil.toolbox.TextEditorTableauFactory">
                    <property name="attributeName" class="ptolemy.kernel.util.StringAttribute" value="script">
                    </property>
                    <property name="syntaxStyle" class="ptolemy.kernel.util.StringAttribute" value="text/javascript">
                    </property>
                </property>
                <property name="_location" class="ptolemy.kernel.util.Location" value="[555.0, 455.0]">
                </property>
                <property name="_hideName" class="ptolemy.data.expr.SingletonParameter" value="true">
                </property>
                <property name="_flipPortsVertical" class="ptolemy.data.expr.Parameter" value="true">
                </property>
                <property name="analysisFlag" class="ptolemy.data.expr.Parameter" value="analysisFlag">
                </property>
                <property name="streetLength" class="ptolemy.data.expr.Parameter" value="streetLength">
                </property>
                <port name="input" class="ptolemy.actor.TypedIOPort">
                    <property name="input"/>
                </port>
                <port name="output" class="ptolemy.actor.TypedIOPort">
                    <property name="output"/>
                </port>
                <port name="display" class="ptolemy.actor.TypedIOPort">
                    <property name="output"/>
                    <property name="_cardinal" class="ptolemy.kernel.util.StringAttribute" value="NORTH">
                    </property>
                    <property name="_type" class="ptolemy.actor.TypeAttribute" value="double">
                    </property>
                </port>
                <port name="trigger" class="ptolemy.actor.TypedIOPort">
                    <property name="output"/>
                </port>
                <port name="counter" class="ptolemy.actor.TypedIOPort">
                    <property name="input"/>
                    <property name="_type" class="ptolemy.actor.TypeAttribute" value="double">
                    </property>
                </port>
            </entity>
            <entity name="TimedPlotter" class="ptolemy.actor.lib.gui.TimedPlotter">
                <property name="legend" class="ptolemy.kernel.util.StringAttribute" value="counter: left-right, counter: right-left">
                </property>
                <property name="_windowProperties" class="ptolemy.actor.gui.WindowPropertiesAttribute" value="{bounds={278, 130, 687, 497}, maximized=false}">
                </property>
                <property name="_plotSize" class="ptolemy.actor.gui.SizeAttribute" value="[671, 437]">
                </property>
                <property name="_location" class="ptolemy.kernel.util.Location" value="[600.0, 540.0]">
                </property>
                <configure>
<?plotml <!DOCTYPE plot PUBLIC "-//UC Berkeley//DTD PlotML 1//EN"
"http://ptolemy.eecs.berkeley.edu/xml/dtd/PlotML_1.dtd">
<plot>
<title>TimedPlotter</title>
<xLabel></xLabel>
<yLabel></yLabel>
<xRange min="1.7976931348623157E308" max="-1.7976931348623157E308"/>
<yRange min="1.7976931348623157E308" max="-1.7976931348623157E308"/>
</plot>?>
                </configure>
            </entity>
            <entity name="Counter" class="ptolemy.actor.lib.Counter">
                <property name="_location" class="ptolemy.kernel.util.Location" value="[440.66734313964844, 330.9227752685547]">
                </property>
            </entity>
            <entity name="Counter2" class="ptolemy.actor.lib.Counter">
                <property name="_location" class="ptolemy.kernel.util.Location" value="{444.3317368090452, 733.3371125801125}">
                </property>
            </entity>
            <entity name="counter3" class="ptolemy.actor.lib.jjs.JavaScript">
                <property name="_windowProperties" class="ptolemy.actor.gui.WindowPropertiesAttribute">
                </property>
                <property name="_paneSize" class="ptolemy.actor.gui.SizeAttribute">
                </property>
                <property name="script" class="ptolemy.actor.parameters.PortParameter" value="// counter that simulates the street&#10;	var counter = 0;&#10;//queue to save the waiting cars&#10;	var queue = [];&#10;&#10;exports.setup = function () {&#10;	//the Input-ports for the incoming cars&#10;    this.input('input');&#10;    this.input('counter');&#10;    &#10;    //the Output-ports for the leaving cars&#10;    this.output('output');&#10;    this.output('display');&#10;    this.output('trigger');&#10;}&#10;&#10;exports.initialize = function () {&#10;	&#10;	this.addInputHandler('input', function() {&#10;		this.send('output', this.get('input'));&#10;	});&#10;	&#10;	this.addInputHandler('counter', function() {&#10;		counter = this.get('counter');&#10;		&#10;		if (this.getParameter('analysisFlag') == 1) {&#10;			this.send('display', counter);&#10;		}&#10;		&#10;		if (counter &lt; this.getParameter('streetLength')) {&#10;			this.send('trigger', counter);&#10;		} else {&#10;			// do nothing, street is full&#10;		}&#10;		&#10;		/*&#10;		if (counter &gt; this.getParameter('streetLength')) {&#10;			this.send('trigger', (counter-this.getParameter('streetLength'))*3);&#10;		} else {&#10;			while (queue.length != 0) {&#10;				this.send('output', queue.pop());&#10;			}&#10;		}*/&#10;	});&#10;}">
                    <property name="style" class="ptolemy.actor.gui.style.NoteStyle">
                        <property name="note" class="ptolemy.kernel.util.StringAttribute" value="NOTE: To see the script, invoke Open Actor">
                        </property>
                    </property>
                </property>
                <property name="_tableauFactory" class="ptolemy.vergil.toolbox.TextEditorTableauFactory">
                    <property name="attributeName" class="ptolemy.kernel.util.StringAttribute" value="script">
                    </property>
                    <property name="syntaxStyle" class="ptolemy.kernel.util.StringAttribute" value="text/javascript">
                    </property>
                </property>
                <property name="_location" class="ptolemy.kernel.util.Location" value="[530.0, 600.0]">
                </property>
                <property name="_hideName" class="ptolemy.data.expr.SingletonParameter" value="true">
                </property>
                <property name="_flipPortsVertical" class="ptolemy.data.expr.Parameter" value="true">
                </property>
                <property name="analysisFlag" class="ptolemy.data.expr.Parameter" value="analysisFlag">
                </property>
                <property name="streetLength" class="ptolemy.data.expr.Parameter" value="streetLength">
                </property>
                <port name="input" class="ptolemy.actor.TypedIOPort">
                    <property name="input"/>
                </port>
                <port name="output" class="ptolemy.actor.TypedIOPort">
                    <property name="output"/>
                </port>
                <port name="display" class="ptolemy.actor.TypedIOPort">
                    <property name="output"/>
                    <property name="_cardinal" class="ptolemy.kernel.util.StringAttribute" value="NORTH">
                    </property>
                    <property name="_type" class="ptolemy.actor.TypeAttribute" value="double">
                    </property>
                </port>
                <port name="trigger" class="ptolemy.actor.TypedIOPort">
                    <property name="output"/>
                </port>
                <port name="counter" class="ptolemy.actor.TypedIOPort">
                    <property name="input"/>
                    <property name="_type" class="ptolemy.actor.TypeAttribute" value="double">
                    </property>
                </port>
            </entity>
            <entity name="Queue" class="ptolemy.domains.de.lib.Queue">
                <property name="capacity" class="ptolemy.data.expr.Parameter" value="10">
                </property>
                <property name="persistentTrigger" class="ptolemy.data.expr.Parameter" value="true">
                </property>
                <property name="_location" class="ptolemy.kernel.util.Location" value="[190.0, 455.0]">
                </property>
            </entity>
            <entity name="Queue2" class="ptolemy.domains.de.lib.Queue">
                <property name="_location" class="ptolemy.kernel.util.Location" value="{187.8914925102946, 620.4811694530187}">
                </property>
            </entity>
            <entity name="TimeDelay3" class="ptolemy.actor.lib.TimeDelay">
                <property name="delay" class="ptolemy.actor.parameters.PortParameter" value="1">
                </property>
                <property name="_location" class="ptolemy.kernel.util.Location" value="{267.3117148241206, 692.9343958715698}">
                </property>
                <property name="_flipPortsHorizontal" class="ptolemy.data.expr.Parameter" value="true">
                </property>
            </entity>
            <entity name="TimeDelay4" class="ptolemy.actor.lib.TimeDelay">
                <property name="delay" class="ptolemy.actor.parameters.PortParameter" value="1">
                </property>
                <property name="_location" class="ptolemy.kernel.util.Location" value="[270.0, 515.0]">
                </property>
                <property name="_flipPortsHorizontal" class="ptolemy.data.expr.Parameter" value="true">
                </property>
            </entity>
            <entity name="PoissonClock" class="ptolemy.actor.lib.PoissonClock">
                <property name="meanTime" class="ptolemy.data.expr.Parameter" value="0.5">
                </property>
                <property name="stopTime" class="ptolemy.data.expr.Parameter" value="1">
                </property>
                <property name="_location" class="ptolemy.kernel.util.Location" value="[20.0, 525.0]">
                </property>
            </entity>
            <entity name="PoissonClock2" class="ptolemy.actor.lib.PoissonClock">
                <property name="meanTime" class="ptolemy.data.expr.Parameter" value="0.5">
                </property>
                <property name="stopTime" class="ptolemy.data.expr.Parameter" value="1">
                </property>
                <property name="_location" class="ptolemy.kernel.util.Location" value="[10.0, 755.0]">
                </property>
            </entity>
            <entity name="JavaScript" class="ptolemy.actor.lib.jjs.JavaScript">
                <property name="_windowProperties" class="ptolemy.actor.gui.WindowPropertiesAttribute">
                </property>
                <property name="_paneSize" class="ptolemy.actor.gui.SizeAttribute">
                </property>
                <property name="script" class="ptolemy.actor.parameters.PortParameter" value="var queueSize = 0;&#10;&#10;exports.setup = function () {&#10;	//the Input-ports for the incoming cars&#10;    this.input('input');&#10;    this.input('clock');&#10;    &#10;    //the Output-ports for the leaving cars&#10;    this.output('output');&#10;}&#10;&#10;exports.initialize = function () {&#10;	&#10;	this.addInputHandler('input', function() {&#10;		queueSize = this.get('input');&#10;	});&#10;	&#10;	this.addInputHandler('clock', function() {&#10;		if(queueSize == 0) {&#10;			this.send('output', true);&#10;		}&#10;	});&#10;}">
                    <property name="style" class="ptolemy.actor.gui.style.NoteStyle">
                        <property name="note" class="ptolemy.kernel.util.StringAttribute" value="NOTE: To see the script, invoke Open Actor">
                        </property>
                    </property>
                </property>
                <property name="_tableauFactory" class="ptolemy.vergil.toolbox.TextEditorTableauFactory">
                    <property name="attributeName" class="ptolemy.kernel.util.StringAttribute" value="script">
                    </property>
                    <property name="syntaxStyle" class="ptolemy.kernel.util.StringAttribute" value="text/javascript">
                    </property>
                </property>
                <property name="_location" class="ptolemy.kernel.util.Location" value="[110.0, 755.0]">
                </property>
                <property name="_flipPortsHorizontal" class="ptolemy.data.expr.Parameter" value="false">
                </property>
                <port name="input" class="ptolemy.actor.TypedIOPort">
                    <property name="input"/>
                    <property name="defaultValue" class="ptolemy.data.expr.Parameter">
                    </property>
                    <property name="_cardinal" class="ptolemy.kernel.util.StringAttribute" value="NORTH">
                    </property>
                </port>
                <port name="output" class="ptolemy.actor.TypedIOPort">
                    <property name="output"/>
                    <property name="defaultValue" class="ptolemy.data.expr.Parameter">
                    </property>
                </port>
                <port name="clock" class="ptolemy.actor.TypedIOPort">
                    <property name="input"/>
                    <property name="defaultValue" class="ptolemy.data.expr.Parameter">
                    </property>
                </port>
            </entity>
            <entity name="JavaScript2" class="ptolemy.actor.lib.jjs.JavaScript">
                <property name="_windowProperties" class="ptolemy.actor.gui.WindowPropertiesAttribute">
                </property>
                <property name="_paneSize" class="ptolemy.actor.gui.SizeAttribute">
                </property>
                <property name="script" class="ptolemy.actor.parameters.PortParameter" value="var queueSize = 0;&#10;&#10;exports.setup = function () {&#10;	//the Input-ports for the incoming cars&#10;    this.input('input');&#10;    this.input('clock');&#10;    &#10;    //the Output-ports for the leaving cars&#10;    this.output('output');&#10;}&#10;&#10;exports.initialize = function () {&#10;	&#10;	this.addInputHandler('input', function() {&#10;		queueSize = this.get('input');&#10;	});&#10;	&#10;	this.addInputHandler('clock', function() {&#10;		if(queueSize == 0) {&#10;			this.send('output', true);&#10;		}&#10;	});&#10;}">
                    <property name="style" class="ptolemy.actor.gui.style.NoteStyle">
                        <property name="note" class="ptolemy.kernel.util.StringAttribute" value="NOTE: To see the script, invoke Open Actor">
                        </property>
                    </property>
                </property>
                <property name="_tableauFactory" class="ptolemy.vergil.toolbox.TextEditorTableauFactory">
                    <property name="attributeName" class="ptolemy.kernel.util.StringAttribute" value="script">
                    </property>
                    <property name="syntaxStyle" class="ptolemy.kernel.util.StringAttribute" value="text/javascript">
                    </property>
                </property>
                <property name="_location" class="ptolemy.kernel.util.Location" value="[110.0, 555.0]">
                </property>
                <property name="_flipPortsHorizontal" class="ptolemy.data.expr.Parameter" value="false">
                </property>
                <port name="input" class="ptolemy.actor.TypedIOPort">
                    <property name="input"/>
                    <property name="_cardinal" class="ptolemy.kernel.util.StringAttribute" value="NORTH">
                    </property>
                </port>
                <port name="output" class="ptolemy.actor.TypedIOPort">
                    <property name="output"/>
                </port>
                <port name="clock" class="ptolemy.actor.TypedIOPort">
                    <property name="input"/>
                </port>
            </entity>
            <entity name="TimeDelay5" class="ptolemy.actor.lib.TimeDelay">
                <property name="delay" class="ptolemy.actor.parameters.PortParameter" value="1">
                </property>
                <property name="_location" class="ptolemy.kernel.util.Location" value="{102.8625157035176, 472.1470214997105}">
                </property>
                <property name="_flipPortsHorizontal" class="ptolemy.data.expr.Parameter" value="true">
                </property>
            </entity>
            <entity name="TimeDelay6" class="ptolemy.actor.lib.TimeDelay">
                <property name="delay" class="ptolemy.actor.parameters.PortParameter" value="1">
                </property>
                <property name="_location" class="ptolemy.kernel.util.Location" value="{104.8625157035176, 648.1470214997105}">
                </property>
                <property name="_flipPortsHorizontal" class="ptolemy.data.expr.Parameter" value="true">
                </property>
            </entity>
            <relation name="relation4" class="ptolemy.actor.TypedIORelation">
            </relation>
            <relation name="relation9" class="ptolemy.actor.TypedIORelation">
                <property name="width" class="ptolemy.data.expr.Parameter" value="-1">
                </property>
                <vertex name="vertex1" value="[285.0, 455.0]">
                </vertex>
            </relation>
            <relation name="relation" class="ptolemy.actor.TypedIORelation">
                <property name="width" class="ptolemy.data.expr.Parameter" value="-1">
                </property>
                <vertex name="vertex1" value="[460.0, 455.0]">
                </vertex>
            </relation>
            <relation name="relation11" class="ptolemy.actor.TypedIORelation">
                <property name="width" class="ptolemy.data.expr.Parameter" value="-1">
                </property>
                <vertex name="vertex1" value="{295.0, 620.0}">
                </vertex>
            </relation>
            <relation name="relation3" class="ptolemy.actor.TypedIORelation">
                <property name="width" class="ptolemy.data.expr.Parameter" value="-1">
                </property>
                <vertex name="vertex1" value="{465.0, 620.0}">
                </vertex>
            </relation>
            <relation name="relation2" class="ptolemy.actor.TypedIORelation">
            </relation>
            <relation name="relation5" class="ptolemy.actor.TypedIORelation">
            </relation>
            <relation name="relation6" class="ptolemy.actor.TypedIORelation">
            </relation>
            <relation name="relation7" class="ptolemy.actor.TypedIORelation">
            </relation>
            <relation name="relation10" class="ptolemy.actor.TypedIORelation">
            </relation>
            <relation name="relation13" class="ptolemy.actor.TypedIORelation">
            </relation>
            <relation name="relation14" class="ptolemy.actor.TypedIORelation">
            </relation>
            <relation name="relation15" class="ptolemy.actor.TypedIORelation">
            </relation>
            <relation name="relation8" class="ptolemy.actor.TypedIORelation">
            </relation>
            <relation name="relation16" class="ptolemy.actor.TypedIORelation">
            </relation>
            <relation name="relation12" class="ptolemy.actor.TypedIORelation">
            </relation>
            <relation name="relation17" class="ptolemy.actor.TypedIORelation">
            </relation>
            <relation name="relation20" class="ptolemy.actor.TypedIORelation">
            </relation>
            <relation name="relation18" class="ptolemy.actor.TypedIORelation">
            </relation>
            <relation name="relation22" class="ptolemy.actor.TypedIORelation">
            </relation>
            <relation name="relation21" class="ptolemy.actor.TypedIORelation">
            </relation>
            <relation name="relation23" class="ptolemy.actor.TypedIORelation">
            </relation>
            <relation name="relation19" class="ptolemy.actor.TypedIORelation">
            </relation>
            <relation name="relation24" class="ptolemy.actor.TypedIORelation">
            </relation>
            <link port="left-right-input" relation="relation13"/>
            <link port="left-right-output" relation="relation4"/>
            <link port="right-left-input" relation="relation14"/>
            <link port="right-left-output" relation="relation10"/>
            <link port="TimeDelay.input" relation="relation9"/>
            <link port="TimeDelay.output" relation="relation"/>
            <link port="TimeDelay2.input" relation="relation11"/>
            <link port="TimeDelay2.output" relation="relation3"/>
            <link port="counter.input" relation="relation"/>
            <link port="counter.output" relation="relation4"/>
            <link port="counter.display" relation="relation5"/>
            <link port="counter.trigger" relation="relation16"/>
            <link port="counter.counter" relation="relation2"/>
            <link port="TimedPlotter.input" relation="relation5"/>
            <link port="TimedPlotter.input" relation="relation7"/>
            <link port="Counter.increment" relation="relation9"/>
            <link port="Counter.decrement" relation="relation"/>
            <link port="Counter.output" relation="relation2"/>
            <link port="Counter2.increment" relation="relation11"/>
            <link port="Counter2.decrement" relation="relation3"/>
            <link port="Counter2.output" relation="relation6"/>
            <link port="counter3.input" relation="relation3"/>
            <link port="counter3.output" relation="relation10"/>
            <link port="counter3.display" relation="relation7"/>
            <link port="counter3.trigger" relation="relation15"/>
            <link port="counter3.counter" relation="relation6"/>
            <link port="Queue.input" relation="relation13"/>
            <link port="Queue.output" relation="relation9"/>
            <link port="Queue.trigger" relation="relation8"/>
            <link port="Queue.trigger" relation="relation22"/>
            <link port="Queue.size" relation="relation21"/>
            <link port="Queue2.input" relation="relation14"/>
            <link port="Queue2.output" relation="relation11"/>
            <link port="Queue2.trigger" relation="relation12"/>
            <link port="Queue2.trigger" relation="relation20"/>
            <link port="Queue2.size" relation="relation19"/>
            <link port="TimeDelay3.input" relation="relation15"/>
            <link port="TimeDelay3.output" relation="relation12"/>
            <link port="TimeDelay4.input" relation="relation16"/>
            <link port="TimeDelay4.output" relation="relation8"/>
            <link port="PoissonClock.output" relation="relation18"/>
            <link port="PoissonClock2.output" relation="relation17"/>
            <link port="JavaScript.input" relation="relation24"/>
            <link port="JavaScript.output" relation="relation20"/>
            <link port="JavaScript.clock" relation="relation17"/>
            <link port="JavaScript2.input" relation="relation23"/>
            <link port="JavaScript2.output" relation="relation22"/>
            <link port="JavaScript2.clock" relation="relation18"/>
            <link port="TimeDelay5.input" relation="relation21"/>
            <link port="TimeDelay5.output" relation="relation23"/>
            <link port="TimeDelay6.input" relation="relation19"/>
            <link port="TimeDelay6.output" relation="relation24"/>
        </entity>
        <relation name="relation5" class="ptolemy.actor.TypedIORelation">
            <property name="_layoutHint" class="ptolemy.vergil.actor.LayoutHint" value="{ { head={id=&quot;leftRightInput._location&quot;,x=15.0,y=255.0}, tail={id=&quot;TimeDelay.input&quot;,x=145.0,y=255.0}, points={} } }">
            </property>
        </relation>
        <relation name="relation6" class="ptolemy.actor.TypedIORelation">
        </relation>
        <relation name="relation3" class="ptolemy.actor.TypedIORelation">
            <property name="_layoutHint" class="ptolemy.vergil.actor.LayoutHint" value="{ { head={id=&quot;Street2.right-left-input&quot;,x=270.0,y=265.0}, tail={id=&quot;TimeDelay2.output&quot;,x=385.0,y=275.0}, points={} } }">
            </property>
        </relation>
        <relation name="relation" class="ptolemy.actor.TypedIORelation">
            <property name="_layoutHint" class="ptolemy.vergil.actor.LayoutHint" value="{ { head={id=&quot;Street2.left-right-input&quot;,x=270.0,y=265.0}, tail={id=&quot;TimeDelay.output&quot;,x=145.0,y=255.0}, points={} } }">
            </property>
        </relation>
        <relation name="relation8" class="ptolemy.actor.TypedIORelation">
            <property name="_layoutHint" class="ptolemy.vergil.actor.LayoutHint" value="{ { head={id=&quot;leftRightOutput._location&quot;,x=355.0,y=205.0}, tail={id=&quot;Street2.left-right-output&quot;,x=270.0,y=265.0}, points={320.0,205.0,320.0,255.0} } }">
            </property>
        </relation>
        <relation name="relation7" class="ptolemy.actor.TypedIORelation">
        </relation>
        <link port="leftRightInput" relation="relation5"/>
        <link port="leftRightOutput" relation="relation8"/>
        <link port="rightLeftInput" relation="relation6"/>
        <link port="rightLeftOutput" relation="relation7"/>
        <link port="TimeDelay.input" relation="relation5"/>
        <link port="TimeDelay.output" relation="relation"/>
        <link port="TimeDelay2.input" relation="relation6"/>
        <link port="TimeDelay2.output" relation="relation3"/>
        <link port="Street2.left-right-input" relation="relation"/>
        <link port="Street2.left-right-output" relation="relation8"/>
        <link port="Street2.right-left-input" relation="relation3"/>
        <link port="Street2.right-left-output" relation="relation7"/>
    </entity>
    <entity name="Road7" class="ptolemy.actor.TypedCompositeActor">
        <property name="_location" class="ptolemy.kernel.util.Location" value="[160.0, 490.0]">
        </property>
        <property name="_windowProperties" class="ptolemy.actor.gui.WindowPropertiesAttribute" value="{bounds={165, 198, 928, 617}, maximized=false}">
        </property>
        <property name="_vergilSize" class="ptolemy.actor.gui.SizeAttribute" value="[700, 500]">
        </property>
        <property name="_vergilZoomFactor" class="ptolemy.data.expr.ExpertParameter" value="1.0">
        </property>
        <property name="_vergilCenter" class="ptolemy.data.expr.ExpertParameter" value="{335.49748743718595, 192.3449277638191}">
        </property>
        <property name="_icon" class="ptolemy.vergil.icon.EditorIcon">
            <property name="rectangle" class="ptolemy.vergil.kernel.attributes.RectangleAttribute">
                <property name="_location" class="ptolemy.kernel.util.Location" value="{0, 0}">
                </property>
                <property name="width" class="ptolemy.data.expr.Parameter" value="60">
                </property>
                <property name="height" class="ptolemy.data.expr.Parameter" value="40">
                </property>
                <property name="centered" class="ptolemy.data.expr.Parameter" value="true">
                </property>
                <property name="fillColor" class="ptolemy.actor.gui.ColorAttribute" value="{1.0, 1.0, 1.0, 1.0}">
                </property>
            </property>
            <property name="Annotation" class="ptolemy.vergil.kernel.attributes.TextAttribute">
                <property name="textColor" class="ptolemy.actor.gui.ColorAttribute" value="{0.0, 0.0, 0.0, 1.0}">
                </property>
                <property name="text" class="ptolemy.kernel.util.StringAttribute" value="- - - - - -">
                </property>
                <property name="_location" class="ptolemy.kernel.util.Location" value="[-28.0, -4.0]">
                </property>
            </property>
            <property name="_windowProperties" class="ptolemy.actor.gui.WindowPropertiesAttribute" value="{bounds={219, 75, 928, 617}, maximized=false}">
            </property>
            <property name="_vergilSize" class="ptolemy.actor.gui.SizeAttribute" value="[700, 500]">
            </property>
            <property name="_vergilZoomFactor" class="ptolemy.data.expr.ExpertParameter" value="4.0">
            </property>
            <property name="_vergilCenter" class="ptolemy.data.expr.ExpertParameter" value="{12.5, 6.25}">
            </property>
        </property>
        <property name="streetLength" class="ptolemy.data.expr.Parameter" value="3">
        </property>
        <property name="duration" class="ptolemy.data.expr.Parameter" value="4">
        </property>
        <property name="analysisFlag" class="ptolemy.data.expr.Parameter" value="StreetPlotterFlag">
        </property>
        <port name="leftRightInput" class="ptolemy.actor.TypedIOPort">
            <property name="input"/>
            <property name="_location" class="ptolemy.kernel.util.Location" value="{15.0, 255.0}">
            </property>
            <property name="_cardinal" class="ptolemy.kernel.util.StringAttribute" value="WEST">
            </property>
        </port>
        <port name="leftRightOutput" class="ptolemy.actor.TypedIOPort">
            <property name="output"/>
            <property name="_location" class="ptolemy.kernel.util.Location" value="{355.0, 205.0}">
            </property>
            <property name="_cardinal" class="ptolemy.kernel.util.StringAttribute" value="EAST">
            </property>
        </port>
        <port name="rightLeftInput" class="ptolemy.actor.TypedIOPort">
            <property name="input"/>
            <property name="_location" class="ptolemy.kernel.util.Location" value="[490.0, 220.0]">
            </property>
            <property name="_cardinal" class="ptolemy.kernel.util.StringAttribute" value="EAST">
            </property>
        </port>
        <port name="rightLeftOutput" class="ptolemy.actor.TypedIOPort">
            <property name="output"/>
            <property name="_location" class="ptolemy.kernel.util.Location" value="[245.0, 395.0]">
            </property>
            <property name="_cardinal" class="ptolemy.kernel.util.StringAttribute" value="WEST">
            </property>
        </port>
        <entity name="TimeDelay" class="ptolemy.actor.lib.TimeDelay">
            <property name="delay" class="ptolemy.actor.parameters.PortParameter" value="1">
            </property>
            <property name="_location" class="ptolemy.kernel.util.Location" value="{145.0, 255.0}">
            </property>
            <port name="delay" class="ptolemy.actor.parameters.ParameterPort">
                <property name="input"/>
                <property name="_type" class="ptolemy.actor.TypeAttribute" value="double">
                </property>
            </port>
        </entity>
        <entity name="TimeDelay2" class="ptolemy.actor.lib.TimeDelay">
            <property name="delay" class="ptolemy.actor.parameters.PortParameter" value="1">
            </property>
            <property name="_location" class="ptolemy.kernel.util.Location" value="{385.0, 275.0}">
            </property>
            <property name="_flipPortsHorizontal" class="ptolemy.data.expr.Parameter" value="true">
            </property>
            <port name="delay" class="ptolemy.actor.parameters.ParameterPort">
                <property name="input"/>
                <property name="_type" class="ptolemy.actor.TypeAttribute" value="double">
                </property>
            </port>
        </entity>
        <entity name="Street2" class="ptolemy.actor.TypedCompositeActor">
            <property name="_location" class="ptolemy.kernel.util.Location" value="{270.0, 265.0}">
            </property>
            <property name="_icon" class="ptolemy.vergil.icon.EditorIcon">
                <property name="rectangle" class="ptolemy.vergil.kernel.attributes.RectangleAttribute">
                    <property name="_location" class="ptolemy.kernel.util.Location" value="-0.5, 0.5">
                    </property>
                    <property name="width" class="ptolemy.data.expr.Parameter" value="41.0">
                    </property>
                    <property name="height" class="ptolemy.data.expr.Parameter" value="21.0">
                    </property>
                    <property name="centered" class="ptolemy.data.expr.Parameter" value="true">
                    </property>
                    <property name="fillColor" class="ptolemy.actor.gui.ColorAttribute" value="{1.0, 1.0, 1.0, 1.0}">
                    </property>
                    <property name="_renderFirst" class="ptolemy.kernel.util.SingletonAttribute">
                    </property>
                </property>
                <property name="line" class="ptolemy.vergil.kernel.attributes.LineAttribute">
                    <property name="_location" class="ptolemy.kernel.util.Location" value="[-20.0, -10.0]">
                    </property>
                    <property name="x" class="ptolemy.data.expr.Parameter" value="40.0">
                    </property>
                    <property name="y" class="ptolemy.data.expr.Parameter" value="0.0">
                    </property>
                </property>
                <property name="line2" class="ptolemy.vergil.kernel.attributes.LineAttribute">
                    <property name="_location" class="ptolemy.kernel.util.Location" value="[-20.0, 11.0]">
                    </property>
                    <property name="x" class="ptolemy.data.expr.Parameter" value="40.0">
                    </property>
                    <property name="y" class="ptolemy.data.expr.Parameter" value="0.0">
                    </property>
                </property>
                <property name="Annotation" class="ptolemy.vergil.kernel.attributes.TextAttribute">
                    <property name="textColor" class="ptolemy.actor.gui.ColorAttribute" value="{0.0, 0.0, 0.0, 1.0}">
                    </property>
                    <property name="text" class="ptolemy.kernel.util.StringAttribute" value="- - - - -">
                    </property>
                    <property name="_location" class="ptolemy.kernel.util.Location" value="[-24.0, -4.0]">
                    </property>
                </property>
            </property>
            <property name="_windowProperties" class="ptolemy.actor.gui.WindowPropertiesAttribute" value="{bounds={178, 39, 1297, 617}, maximized=false}">
            </property>
            <property name="_vergilSize" class="ptolemy.actor.gui.SizeAttribute" value="[700, 500]">
            </property>
            <property name="_vergilZoomFactor" class="ptolemy.data.expr.ExpertParameter" value="1.0">
            </property>
            <property name="_vergilCenter" class="ptolemy.data.expr.ExpertParameter" value="{323.3117148241206, 511.9343958715698}">
            </property>
            <property name="streetLength" class="ptolemy.data.expr.Parameter" value="streetLength">
            </property>
            <property name="analysisFlag" class="ptolemy.data.expr.Parameter" value="StreetPlotterFlag">
            </property>
            <property name="duration" class="ptolemy.data.expr.Parameter" value="duration">
            </property>
            <port name="left-right-input" class="ptolemy.actor.TypedIOPort">
                <property name="input"/>
                <property name="_cardinal" class="ptolemy.kernel.util.StringAttribute" value="WEST">
                </property>
                <property name="_location" class="ptolemy.kernel.util.Location" value="[10.0, 455.0]">
                </property>
                <property name="_type" class="ptolemy.actor.TypeAttribute" value="{carId = int, roadMap = arrayType(int), indicator = int, intersectionCount = int}">
                </property>
                <property name="_showName" class="ptolemy.data.expr.SingletonParameter" value="false">
                </property>
            </port>
            <port name="left-right-output" class="ptolemy.actor.TypedIOPort">
                <property name="output"/>
                <property name="_cardinal" class="ptolemy.kernel.util.StringAttribute" value="EAST">
                </property>
                <property name="_location" class="ptolemy.kernel.util.Location" value="[665.0, 435.0]">
                </property>
                <property name="_type" class="ptolemy.actor.TypeAttribute" value="{carId = int, roadMap = arrayType(int), indicator = int, intersectionCount = int}">
                </property>
                <property name="_showName" class="ptolemy.data.expr.SingletonParameter" value="false">
                </property>
            </port>
            <port name="right-left-input" class="ptolemy.actor.TypedIOPort">
                <property name="input"/>
                <property name="_cardinal" class="ptolemy.kernel.util.StringAttribute" value="EAST">
                </property>
                <property name="_location" class="ptolemy.kernel.util.Location" value="[10.0, 620.0]">
                </property>
                <property name="_type" class="ptolemy.actor.TypeAttribute" value="{carId = int, roadMap = arrayType(int), indicator = int, intersectionCount = int}">
                </property>
                <property name="_showName" class="ptolemy.data.expr.SingletonParameter" value="false">
                </property>
            </port>
            <port name="right-left-output" class="ptolemy.actor.TypedIOPort">
                <property name="output"/>
                <property name="_cardinal" class="ptolemy.kernel.util.StringAttribute" value="WEST">
                </property>
                <property name="_location" class="ptolemy.kernel.util.Location" value="[660.0, 600.0]">
                </property>
                <property name="_type" class="ptolemy.actor.TypeAttribute" value="{carId = int, roadMap = arrayType(int), indicator = int, intersectionCount = int}">
                </property>
                <property name="_showName" class="ptolemy.data.expr.SingletonParameter" value="false">
                </property>
            </port>
            <port name="right-left-trigger" class="ptolemy.actor.TypedIOPort">
                <property name="output"/>
                <property name="_cardinal" class="ptolemy.kernel.util.StringAttribute" value="SOUTH">
                </property>
                <property name="_showName" class="ptolemy.data.expr.SingletonParameter" value="true">
                </property>
                <property name="_location" class="ptolemy.kernel.util.Location" value="[660.0, 645.0]">
                </property>
            </port>
            <port name="left-right-trigger" class="ptolemy.actor.TypedIOPort">
                <property name="output"/>
                <property name="_cardinal" class="ptolemy.kernel.util.StringAttribute" value="NORTH">
                </property>
                <property name="_showName" class="ptolemy.data.expr.SingletonParameter" value="true">
                </property>
                <property name="_location" class="ptolemy.kernel.util.Location" value="[670.0, 485.0]">
                </property>
            </port>
            <entity name="TimeDelay" class="ptolemy.actor.lib.TimeDelay">
                <property name="delay" class="ptolemy.actor.parameters.PortParameter" value="duration">
                </property>
                <property name="_location" class="ptolemy.kernel.util.Location" value="[370.0, 455.0]">
                </property>
            </entity>
            <entity name="TimeDelay2" class="ptolemy.actor.lib.TimeDelay">
                <property name="delay" class="ptolemy.actor.parameters.PortParameter" value="duration">
                </property>
                <property name="_location" class="ptolemy.kernel.util.Location" value="[385.0, 620.0]">
                </property>
            </entity>
            <entity name="counter" class="ptolemy.actor.lib.jjs.JavaScript">
                <property name="_windowProperties" class="ptolemy.actor.gui.WindowPropertiesAttribute">
                </property>
                <property name="_paneSize" class="ptolemy.actor.gui.SizeAttribute">
                </property>
                <property name="script" class="ptolemy.actor.parameters.PortParameter" value="// counter that simulates the street&#10;	var counter = 0;&#10;//queue to save the waiting cars&#10;	var queue = [];&#10;&#10;exports.setup = function () {&#10;	//the Input-ports for the incoming cars&#10;    this.input('input');&#10;    this.input('counter');&#10;    &#10;    //the Output-ports for the leaving cars&#10;    this.output('output');&#10;    this.output('display');&#10;    this.output('trigger');&#10;}&#10;&#10;exports.initialize = function () {&#10;	&#10;	this.addInputHandler('input', function() {&#10;		this.send('output', this.get('input'));&#10;	});&#10;	&#10;	this.addInputHandler('counter', function() {&#10;		counter = this.get('counter');&#10;		&#10;		if (this.getParameter('analysisFlag') == 1) {&#10;			this.send('display', counter);&#10;		}&#10;		&#10;		if (counter &lt; this.getParameter('streetLength')) {&#10;			this.send('trigger', true);&#10;		} else {&#10;			// do nothing, street is full&#10;		}&#10;		&#10;		/*&#10;		if (counter &gt; this.getParameter('streetLength')) {&#10;			this.send('trigger', (counter-this.getParameter('streetLength'))*3);&#10;		} else {&#10;			while (queue.length != 0) {&#10;				this.send('output', queue.pop());&#10;			}&#10;		}*/&#10;	});&#10;}">
                    <property name="style" class="ptolemy.actor.gui.style.NoteStyle">
                        <property name="note" class="ptolemy.kernel.util.StringAttribute" value="NOTE: To see the script, invoke Open Actor">
                        </property>
                    </property>
                </property>
                <property name="_tableauFactory" class="ptolemy.vergil.toolbox.TextEditorTableauFactory">
                    <property name="attributeName" class="ptolemy.kernel.util.StringAttribute" value="script">
                    </property>
                    <property name="syntaxStyle" class="ptolemy.kernel.util.StringAttribute" value="text/javascript">
                    </property>
                </property>
                <property name="_location" class="ptolemy.kernel.util.Location" value="[555.0, 455.0]">
                </property>
                <property name="_hideName" class="ptolemy.data.expr.SingletonParameter" value="true">
                </property>
                <property name="_flipPortsVertical" class="ptolemy.data.expr.Parameter" value="true">
                </property>
                <property name="analysisFlag" class="ptolemy.data.expr.Parameter" value="analysisFlag">
                </property>
                <property name="streetLength" class="ptolemy.data.expr.Parameter" value="streetLength">
                </property>
                <port name="input" class="ptolemy.actor.TypedIOPort">
                    <property name="input"/>
                </port>
                <port name="output" class="ptolemy.actor.TypedIOPort">
                    <property name="output"/>
                </port>
                <port name="display" class="ptolemy.actor.TypedIOPort">
                    <property name="output"/>
                    <property name="_cardinal" class="ptolemy.kernel.util.StringAttribute" value="NORTH">
                    </property>
                    <property name="_type" class="ptolemy.actor.TypeAttribute" value="double">
                    </property>
                </port>
                <port name="trigger" class="ptolemy.actor.TypedIOPort">
                    <property name="output"/>
                </port>
                <port name="counter" class="ptolemy.actor.TypedIOPort">
                    <property name="input"/>
                    <property name="_type" class="ptolemy.actor.TypeAttribute" value="double">
                    </property>
                </port>
            </entity>
            <entity name="TimedPlotter" class="ptolemy.actor.lib.gui.TimedPlotter">
                <property name="legend" class="ptolemy.kernel.util.StringAttribute" value="counter: left-right, counter: right-left">
                </property>
                <property name="_windowProperties" class="ptolemy.actor.gui.WindowPropertiesAttribute" value="{bounds={278, 130, 687, 497}, maximized=false}">
                </property>
                <property name="_plotSize" class="ptolemy.actor.gui.SizeAttribute" value="[671, 437]">
                </property>
                <property name="_location" class="ptolemy.kernel.util.Location" value="[600.0, 540.0]">
                </property>
                <configure>
<?plotml <!DOCTYPE plot PUBLIC "-//UC Berkeley//DTD PlotML 1//EN"
"http://ptolemy.eecs.berkeley.edu/xml/dtd/PlotML_1.dtd">
<plot>
<title>TimedPlotter</title>
<xLabel></xLabel>
<yLabel></yLabel>
<xRange min="1.7976931348623157E308" max="-1.7976931348623157E308"/>
<yRange min="1.7976931348623157E308" max="-1.7976931348623157E308"/>
</plot>?>
                </configure>
            </entity>
            <entity name="Counter" class="ptolemy.actor.lib.Counter">
                <property name="_location" class="ptolemy.kernel.util.Location" value="[440.66734313964844, 330.9227752685547]">
                </property>
            </entity>
            <entity name="Counter2" class="ptolemy.actor.lib.Counter">
                <property name="_location" class="ptolemy.kernel.util.Location" value="{444.3317368090452, 733.3371125801125}">
                </property>
            </entity>
            <entity name="counter3" class="ptolemy.actor.lib.jjs.JavaScript">
                <property name="_windowProperties" class="ptolemy.actor.gui.WindowPropertiesAttribute">
                </property>
                <property name="_paneSize" class="ptolemy.actor.gui.SizeAttribute">
                </property>
                <property name="script" class="ptolemy.actor.parameters.PortParameter" value="// counter that simulates the street&#10;	var counter = 0;&#10;//queue to save the waiting cars&#10;	var queue = [];&#10;&#10;exports.setup = function () {&#10;	//the Input-ports for the incoming cars&#10;    this.input('input');&#10;    this.input('counter');&#10;    &#10;    //the Output-ports for the leaving cars&#10;    this.output('output');&#10;    this.output('display');&#10;    this.output('trigger');&#10;}&#10;&#10;exports.initialize = function () {&#10;	&#10;	this.addInputHandler('input', function() {&#10;		this.send('output', this.get('input'));&#10;	});&#10;	&#10;	this.addInputHandler('counter', function() {&#10;		counter = this.get('counter');&#10;		&#10;		if (this.getParameter('analysisFlag') == 1) {&#10;			this.send('display', counter);&#10;		}&#10;		&#10;		if (counter &lt; this.getParameter('streetLength')) {&#10;			this.send('trigger', counter);&#10;		} else {&#10;			// do nothing, street is full&#10;		}&#10;		&#10;		/*&#10;		if (counter &gt; this.getParameter('streetLength')) {&#10;			this.send('trigger', (counter-this.getParameter('streetLength'))*3);&#10;		} else {&#10;			while (queue.length != 0) {&#10;				this.send('output', queue.pop());&#10;			}&#10;		}*/&#10;	});&#10;}">
                    <property name="style" class="ptolemy.actor.gui.style.NoteStyle">
                        <property name="note" class="ptolemy.kernel.util.StringAttribute" value="NOTE: To see the script, invoke Open Actor">
                        </property>
                    </property>
                </property>
                <property name="_tableauFactory" class="ptolemy.vergil.toolbox.TextEditorTableauFactory">
                    <property name="attributeName" class="ptolemy.kernel.util.StringAttribute" value="script">
                    </property>
                    <property name="syntaxStyle" class="ptolemy.kernel.util.StringAttribute" value="text/javascript">
                    </property>
                </property>
                <property name="_location" class="ptolemy.kernel.util.Location" value="[530.0, 600.0]">
                </property>
                <property name="_hideName" class="ptolemy.data.expr.SingletonParameter" value="true">
                </property>
                <property name="_flipPortsVertical" class="ptolemy.data.expr.Parameter" value="true">
                </property>
                <property name="analysisFlag" class="ptolemy.data.expr.Parameter" value="analysisFlag">
                </property>
                <property name="streetLength" class="ptolemy.data.expr.Parameter" value="streetLength">
                </property>
                <port name="input" class="ptolemy.actor.TypedIOPort">
                    <property name="input"/>
                </port>
                <port name="output" class="ptolemy.actor.TypedIOPort">
                    <property name="output"/>
                </port>
                <port name="display" class="ptolemy.actor.TypedIOPort">
                    <property name="output"/>
                    <property name="_cardinal" class="ptolemy.kernel.util.StringAttribute" value="NORTH">
                    </property>
                    <property name="_type" class="ptolemy.actor.TypeAttribute" value="double">
                    </property>
                </port>
                <port name="trigger" class="ptolemy.actor.TypedIOPort">
                    <property name="output"/>
                </port>
                <port name="counter" class="ptolemy.actor.TypedIOPort">
                    <property name="input"/>
                    <property name="_type" class="ptolemy.actor.TypeAttribute" value="double">
                    </property>
                </port>
            </entity>
            <entity name="Queue" class="ptolemy.domains.de.lib.Queue">
                <property name="capacity" class="ptolemy.data.expr.Parameter" value="10">
                </property>
                <property name="persistentTrigger" class="ptolemy.data.expr.Parameter" value="true">
                </property>
                <property name="_location" class="ptolemy.kernel.util.Location" value="[190.0, 455.0]">
                </property>
            </entity>
            <entity name="Queue2" class="ptolemy.domains.de.lib.Queue">
                <property name="_location" class="ptolemy.kernel.util.Location" value="{187.8914925102946, 620.4811694530187}">
                </property>
            </entity>
            <entity name="TimeDelay3" class="ptolemy.actor.lib.TimeDelay">
                <property name="delay" class="ptolemy.actor.parameters.PortParameter" value="1">
                </property>
                <property name="_location" class="ptolemy.kernel.util.Location" value="{267.3117148241206, 692.9343958715698}">
                </property>
                <property name="_flipPortsHorizontal" class="ptolemy.data.expr.Parameter" value="true">
                </property>
            </entity>
            <entity name="TimeDelay4" class="ptolemy.actor.lib.TimeDelay">
                <property name="delay" class="ptolemy.actor.parameters.PortParameter" value="1">
                </property>
                <property name="_location" class="ptolemy.kernel.util.Location" value="[270.0, 515.0]">
                </property>
                <property name="_flipPortsHorizontal" class="ptolemy.data.expr.Parameter" value="true">
                </property>
            </entity>
            <entity name="counter4" class="ptolemy.actor.lib.jjs.JavaScript">
                <property name="_windowProperties" class="ptolemy.actor.gui.WindowPropertiesAttribute">
                </property>
                <property name="_paneSize" class="ptolemy.actor.gui.SizeAttribute">
                </property>
                <property name="script" class="ptolemy.actor.parameters.PortParameter" value="&#10;exports.setup = function () {&#10;	//the Input-ports for the incoming cars&#10;    this.input('input');&#10;    &#10;    //the Output-ports for the leaving cars&#10;    this.output('output');&#10;}&#10;&#10;exports.initialize = function () {&#10;	&#10;	this.addInputHandler('input', function() {&#10;		if (this.get('input') == 0) {&#10;			this.send('output', this.get('input'));&#10;		}&#10;	});&#10;}">
                    <property name="style" class="ptolemy.actor.gui.style.NoteStyle">
                        <property name="note" class="ptolemy.kernel.util.StringAttribute" value="NOTE: To see the script, invoke Open Actor">
                        </property>
                    </property>
                </property>
                <property name="_tableauFactory" class="ptolemy.vergil.toolbox.TextEditorTableauFactory">
                    <property name="attributeName" class="ptolemy.kernel.util.StringAttribute" value="script">
                    </property>
                    <property name="syntaxStyle" class="ptolemy.kernel.util.StringAttribute" value="text/javascript">
                    </property>
                </property>
                <property name="_location" class="ptolemy.kernel.util.Location" value="[105.0, 720.0]">
                </property>
                <property name="_hideName" class="ptolemy.data.expr.SingletonParameter" value="true">
                </property>
                <property name="_flipPortsVertical" class="ptolemy.data.expr.Parameter" value="true">
                </property>
                <property name="analysisFlag" class="ptolemy.data.expr.Parameter" value="analysisFlag">
                </property>
                <property name="streetLength" class="ptolemy.data.expr.Parameter" value="streetLength">
                </property>
                <port name="input" class="ptolemy.actor.TypedIOPort">
                    <property name="input"/>
                </port>
                <port name="output" class="ptolemy.actor.TypedIOPort">
                    <property name="output"/>
                </port>
            </entity>
            <entity name="PoissonClock" class="ptolemy.actor.lib.PoissonClock">
                <property name="meanTime" class="ptolemy.data.expr.Parameter" value="0.5">
                </property>
                <property name="stopTime" class="ptolemy.data.expr.Parameter" value="1">
                </property>
                <property name="_location" class="ptolemy.kernel.util.Location" value="[45.0, 515.0]">
                </property>
            </entity>
            <entity name="PoissonClock2" class="ptolemy.actor.lib.PoissonClock">
                <property name="meanTime" class="ptolemy.data.expr.Parameter" value="0.5">
                </property>
                <property name="stopTime" class="ptolemy.data.expr.Parameter" value="1">
                </property>
                <property name="_location" class="ptolemy.kernel.util.Location" value="{46.3117148241206, 658.9343958715698}">
                </property>
            </entity>
            <relation name="relation4" class="ptolemy.actor.TypedIORelation">
            </relation>
            <relation name="relation9" class="ptolemy.actor.TypedIORelation">
                <property name="width" class="ptolemy.data.expr.Parameter" value="-1">
                </property>
                <vertex name="vertex1" value="[285.0, 455.0]">
                </vertex>
            </relation>
            <relation name="relation" class="ptolemy.actor.TypedIORelation">
                <property name="width" class="ptolemy.data.expr.Parameter" value="-1">
                </property>
                <vertex name="vertex1" value="[460.0, 455.0]">
                </vertex>
            </relation>
            <relation name="relation11" class="ptolemy.actor.TypedIORelation">
                <property name="width" class="ptolemy.data.expr.Parameter" value="-1">
                </property>
                <vertex name="vertex1" value="{295.0, 620.0}">
                </vertex>
            </relation>
            <relation name="relation3" class="ptolemy.actor.TypedIORelation">
                <property name="width" class="ptolemy.data.expr.Parameter" value="-1">
                </property>
                <vertex name="vertex1" value="{465.0, 620.0}">
                </vertex>
            </relation>
            <relation name="relation2" class="ptolemy.actor.TypedIORelation">
            </relation>
            <relation name="relation5" class="ptolemy.actor.TypedIORelation">
            </relation>
            <relation name="relation6" class="ptolemy.actor.TypedIORelation">
            </relation>
            <relation name="relation7" class="ptolemy.actor.TypedIORelation">
            </relation>
            <relation name="relation10" class="ptolemy.actor.TypedIORelation">
            </relation>
            <relation name="relation13" class="ptolemy.actor.TypedIORelation">
            </relation>
            <relation name="relation14" class="ptolemy.actor.TypedIORelation">
            </relation>
            <relation name="relation15" class="ptolemy.actor.TypedIORelation">
            </relation>
            <relation name="relation8" class="ptolemy.actor.TypedIORelation">
            </relation>
            <relation name="relation16" class="ptolemy.actor.TypedIORelation">
            </relation>
            <relation name="relation12" class="ptolemy.actor.TypedIORelation">
            </relation>
            <relation name="relation17" class="ptolemy.actor.TypedIORelation">
            </relation>
            <relation name="relation18" class="ptolemy.actor.TypedIORelation">
            </relation>
            <link port="left-right-input" relation="relation13"/>
            <link port="left-right-output" relation="relation4"/>
            <link port="right-left-input" relation="relation14"/>
            <link port="right-left-output" relation="relation10"/>
            <link port="TimeDelay.input" relation="relation9"/>
            <link port="TimeDelay.output" relation="relation"/>
            <link port="TimeDelay2.input" relation="relation11"/>
            <link port="TimeDelay2.output" relation="relation3"/>
            <link port="counter.input" relation="relation"/>
            <link port="counter.output" relation="relation4"/>
            <link port="counter.display" relation="relation5"/>
            <link port="counter.trigger" relation="relation16"/>
            <link port="counter.counter" relation="relation2"/>
            <link port="TimedPlotter.input" relation="relation5"/>
            <link port="TimedPlotter.input" relation="relation7"/>
            <link port="Counter.increment" relation="relation9"/>
            <link port="Counter.decrement" relation="relation"/>
            <link port="Counter.output" relation="relation2"/>
            <link port="Counter2.increment" relation="relation11"/>
            <link port="Counter2.decrement" relation="relation3"/>
            <link port="Counter2.output" relation="relation6"/>
            <link port="counter3.input" relation="relation3"/>
            <link port="counter3.output" relation="relation10"/>
            <link port="counter3.display" relation="relation7"/>
            <link port="counter3.trigger" relation="relation15"/>
            <link port="counter3.counter" relation="relation6"/>
            <link port="Queue.input" relation="relation13"/>
            <link port="Queue.output" relation="relation9"/>
            <link port="Queue.trigger" relation="relation8"/>
            <link port="Queue.trigger" relation="relation18"/>
            <link port="Queue2.input" relation="relation14"/>
            <link port="Queue2.output" relation="relation11"/>
            <link port="Queue2.trigger" relation="relation12"/>
            <link port="Queue2.trigger" relation="relation17"/>
            <link port="TimeDelay3.input" relation="relation15"/>
            <link port="TimeDelay3.output" relation="relation12"/>
            <link port="TimeDelay4.input" relation="relation16"/>
            <link port="TimeDelay4.output" relation="relation8"/>
            <link port="PoissonClock.output" relation="relation18"/>
            <link port="PoissonClock2.output" relation="relation17"/>
        </entity>
        <relation name="relation5" class="ptolemy.actor.TypedIORelation">
            <property name="_layoutHint" class="ptolemy.vergil.actor.LayoutHint" value="{ { head={id=&quot;leftRightInput._location&quot;,x=15.0,y=255.0}, tail={id=&quot;TimeDelay.input&quot;,x=145.0,y=255.0}, points={} } }">
            </property>
        </relation>
        <relation name="relation6" class="ptolemy.actor.TypedIORelation">
        </relation>
        <relation name="relation2" class="ptolemy.actor.TypedIORelation">
            <property name="_layoutHint" class="ptolemy.vergil.actor.LayoutHint" value="{ { head={id=&quot;Street2.left-right-trigger&quot;,x=270.0,y=265.0}, tail={id=&quot;TimeDelay.delay&quot;,x=145.0,y=255.0}, points={270.0,175.0,205.0,175.0,205.0,305.0,145.0,305.0} } }">
            </property>
        </relation>
        <relation name="relation3" class="ptolemy.actor.TypedIORelation">
            <property name="_layoutHint" class="ptolemy.vergil.actor.LayoutHint" value="{ { head={id=&quot;Street2.right-left-input&quot;,x=270.0,y=265.0}, tail={id=&quot;TimeDelay2.output&quot;,x=385.0,y=275.0}, points={} } }">
            </property>
        </relation>
        <relation name="relation4" class="ptolemy.actor.TypedIORelation">
            <property name="_layoutHint" class="ptolemy.vergil.actor.LayoutHint" value="{ { head={id=&quot;Street2.right-left-trigger&quot;,x=270.0,y=265.0}, tail={id=&quot;TimeDelay2.delay&quot;,x=385.0,y=275.0}, points={270.0,360.0,385.0,360.0} } }">
            </property>
        </relation>
        <relation name="relation" class="ptolemy.actor.TypedIORelation">
            <property name="_layoutHint" class="ptolemy.vergil.actor.LayoutHint" value="{ { head={id=&quot;Street2.left-right-input&quot;,x=270.0,y=265.0}, tail={id=&quot;TimeDelay.output&quot;,x=145.0,y=255.0}, points={} } }">
            </property>
        </relation>
        <relation name="relation8" class="ptolemy.actor.TypedIORelation">
            <property name="_layoutHint" class="ptolemy.vergil.actor.LayoutHint" value="{ { head={id=&quot;leftRightOutput._location&quot;,x=355.0,y=205.0}, tail={id=&quot;Street2.left-right-output&quot;,x=270.0,y=265.0}, points={320.0,205.0,320.0,255.0} } }">
            </property>
        </relation>
        <relation name="relation7" class="ptolemy.actor.TypedIORelation">
        </relation>
        <link port="leftRightInput" relation="relation5"/>
        <link port="leftRightOutput" relation="relation8"/>
        <link port="rightLeftInput" relation="relation6"/>
        <link port="rightLeftOutput" relation="relation7"/>
        <link port="TimeDelay.input" relation="relation5"/>
        <link port="TimeDelay.output" relation="relation"/>
        <link port="TimeDelay.delay" relation="relation2"/>
        <link port="TimeDelay2.input" relation="relation6"/>
        <link port="TimeDelay2.output" relation="relation3"/>
        <link port="TimeDelay2.delay" relation="relation4"/>
        <link port="Street2.left-right-input" relation="relation"/>
        <link port="Street2.left-right-output" relation="relation8"/>
        <link port="Street2.right-left-input" relation="relation3"/>
        <link port="Street2.right-left-output" relation="relation7"/>
        <link port="Street2.right-left-trigger" relation="relation4"/>
        <link port="Street2.left-right-trigger" relation="relation2"/>
    </entity>
    <entity name="Road2" class="ptolemy.actor.TypedCompositeActor">
        <property name="_location" class="ptolemy.kernel.util.Location" value="{349.23775125628094, -40.959092336680726}">
        </property>
        <property name="_windowProperties" class="ptolemy.actor.gui.WindowPropertiesAttribute" value="{bounds={174, 129, 928, 617}, maximized=false}">
        </property>
        <property name="_vergilSize" class="ptolemy.actor.gui.SizeAttribute" value="[700, 500]">
        </property>
        <property name="_vergilZoomFactor" class="ptolemy.data.expr.ExpertParameter" value="1.0">
        </property>
        <property name="_vergilCenter" class="ptolemy.data.expr.ExpertParameter" value="{246.40059673366832, 253.38222361809045}">
        </property>
        <property name="_icon" class="ptolemy.vergil.icon.EditorIcon">
            <property name="rectangle" class="ptolemy.vergil.kernel.attributes.RectangleAttribute">
                <property name="_location" class="ptolemy.kernel.util.Location" value="{0, 0}">
                </property>
                <property name="width" class="ptolemy.data.expr.Parameter" value="60">
                </property>
                <property name="height" class="ptolemy.data.expr.Parameter" value="40">
                </property>
                <property name="centered" class="ptolemy.data.expr.Parameter" value="true">
                </property>
                <property name="fillColor" class="ptolemy.actor.gui.ColorAttribute" value="{1.0, 1.0, 1.0, 1.0}">
                </property>
            </property>
            <property name="Annotation" class="ptolemy.vergil.kernel.attributes.TextAttribute">
                <property name="textColor" class="ptolemy.actor.gui.ColorAttribute" value="{0.0, 0.0, 0.0, 1.0}">
                </property>
                <property name="text" class="ptolemy.kernel.util.StringAttribute" value="- - - - - -">
                </property>
                <property name="_location" class="ptolemy.kernel.util.Location" value="[-28.0, -4.0]">
                </property>
            </property>
            <property name="_windowProperties" class="ptolemy.actor.gui.WindowPropertiesAttribute" value="{bounds={219, 75, 928, 617}, maximized=false}">
            </property>
            <property name="_vergilSize" class="ptolemy.actor.gui.SizeAttribute" value="[700, 500]">
            </property>
            <property name="_vergilZoomFactor" class="ptolemy.data.expr.ExpertParameter" value="4.0">
            </property>
            <property name="_vergilCenter" class="ptolemy.data.expr.ExpertParameter" value="{12.5, 6.25}">
            </property>
        </property>
        <property name="streetLength" class="ptolemy.data.expr.Parameter" value="4">
        </property>
        <property name="duration" class="ptolemy.data.expr.Parameter" value="4">
        </property>
        <property name="analysisFlag" class="ptolemy.data.expr.Parameter" value="StreetPlotterFlag">
        </property>
        <port name="leftRightInput" class="ptolemy.actor.TypedIOPort">
            <property name="input"/>
            <property name="_location" class="ptolemy.kernel.util.Location" value="{15.0, 255.0}">
            </property>
            <property name="_cardinal" class="ptolemy.kernel.util.StringAttribute" value="WEST">
            </property>
        </port>
        <port name="leftRightOutput" class="ptolemy.actor.TypedIOPort">
            <property name="output"/>
            <property name="_location" class="ptolemy.kernel.util.Location" value="{355.0, 205.0}">
            </property>
            <property name="_cardinal" class="ptolemy.kernel.util.StringAttribute" value="EAST">
            </property>
        </port>
        <port name="rightLeftInput" class="ptolemy.actor.TypedIOPort">
            <property name="input"/>
            <property name="_location" class="ptolemy.kernel.util.Location" value="[490.0, 220.0]">
            </property>
            <property name="_cardinal" class="ptolemy.kernel.util.StringAttribute" value="EAST">
            </property>
        </port>
        <port name="rightLeftOutput" class="ptolemy.actor.TypedIOPort">
            <property name="output"/>
            <property name="_location" class="ptolemy.kernel.util.Location" value="[225.0, 350.0]">
            </property>
            <property name="_cardinal" class="ptolemy.kernel.util.StringAttribute" value="WEST">
            </property>
        </port>
        <entity name="TimeDelay" class="ptolemy.actor.lib.TimeDelay">
            <property name="delay" class="ptolemy.actor.parameters.PortParameter" value="1">
            </property>
            <property name="_location" class="ptolemy.kernel.util.Location" value="{145.0, 255.0}">
            </property>
            <port name="delay" class="ptolemy.actor.parameters.ParameterPort">
                <property name="input"/>
                <property name="_type" class="ptolemy.actor.TypeAttribute" value="double">
                </property>
            </port>
        </entity>
        <entity name="TimeDelay2" class="ptolemy.actor.lib.TimeDelay">
            <property name="delay" class="ptolemy.actor.parameters.PortParameter" value="1">
            </property>
            <property name="_location" class="ptolemy.kernel.util.Location" value="{385.0, 275.0}">
            </property>
            <property name="_flipPortsHorizontal" class="ptolemy.data.expr.Parameter" value="true">
            </property>
            <port name="delay" class="ptolemy.actor.parameters.ParameterPort">
                <property name="input"/>
                <property name="_type" class="ptolemy.actor.TypeAttribute" value="double">
                </property>
            </port>
        </entity>
        <entity name="Street2" class="ptolemy.actor.TypedCompositeActor">
            <property name="_location" class="ptolemy.kernel.util.Location" value="{270.0, 265.0}">
            </property>
            <property name="_icon" class="ptolemy.vergil.icon.EditorIcon">
                <property name="rectangle" class="ptolemy.vergil.kernel.attributes.RectangleAttribute">
                    <property name="_location" class="ptolemy.kernel.util.Location" value="-0.5, 0.5">
                    </property>
                    <property name="width" class="ptolemy.data.expr.Parameter" value="41.0">
                    </property>
                    <property name="height" class="ptolemy.data.expr.Parameter" value="21.0">
                    </property>
                    <property name="centered" class="ptolemy.data.expr.Parameter" value="true">
                    </property>
                    <property name="fillColor" class="ptolemy.actor.gui.ColorAttribute" value="{1.0, 1.0, 1.0, 1.0}">
                    </property>
                    <property name="_renderFirst" class="ptolemy.kernel.util.SingletonAttribute">
                    </property>
                </property>
                <property name="line" class="ptolemy.vergil.kernel.attributes.LineAttribute">
                    <property name="_location" class="ptolemy.kernel.util.Location" value="[-20.0, -10.0]">
                    </property>
                    <property name="x" class="ptolemy.data.expr.Parameter" value="40.0">
                    </property>
                    <property name="y" class="ptolemy.data.expr.Parameter" value="0.0">
                    </property>
                </property>
                <property name="line2" class="ptolemy.vergil.kernel.attributes.LineAttribute">
                    <property name="_location" class="ptolemy.kernel.util.Location" value="[-20.0, 11.0]">
                    </property>
                    <property name="x" class="ptolemy.data.expr.Parameter" value="40.0">
                    </property>
                    <property name="y" class="ptolemy.data.expr.Parameter" value="0.0">
                    </property>
                </property>
                <property name="Annotation" class="ptolemy.vergil.kernel.attributes.TextAttribute">
                    <property name="textColor" class="ptolemy.actor.gui.ColorAttribute" value="{0.0, 0.0, 0.0, 1.0}">
                    </property>
                    <property name="text" class="ptolemy.kernel.util.StringAttribute" value="- - - - -">
                    </property>
                    <property name="_location" class="ptolemy.kernel.util.Location" value="[-24.0, -4.0]">
                    </property>
                </property>
            </property>
            <property name="_windowProperties" class="ptolemy.actor.gui.WindowPropertiesAttribute" value="{bounds={610, 195, 928, 618}, maximized=false}">
            </property>
            <property name="_vergilSize" class="ptolemy.actor.gui.SizeAttribute" value="[700, 501]">
            </property>
            <property name="_vergilZoomFactor" class="ptolemy.data.expr.ExpertParameter" value="1.0">
            </property>
            <property name="_vergilCenter" class="ptolemy.data.expr.ExpertParameter" value="{265.8625157035176, 588.6470214997105}">
            </property>
            <property name="streetLength" class="ptolemy.data.expr.Parameter" value="streetLength">
            </property>
            <property name="analysisFlag" class="ptolemy.data.expr.Parameter" value="StreetPlotterFlag">
            </property>
            <property name="duration" class="ptolemy.data.expr.Parameter" value="duration">
            </property>
            <port name="left-right-input" class="ptolemy.actor.TypedIOPort">
                <property name="input"/>
                <property name="_cardinal" class="ptolemy.kernel.util.StringAttribute" value="WEST">
                </property>
                <property name="_location" class="ptolemy.kernel.util.Location" value="[10.0, 455.0]">
                </property>
                <property name="_type" class="ptolemy.actor.TypeAttribute" value="{carId = int, roadMap = arrayType(int), indicator = int, intersectionCount = int}">
                </property>
                <property name="_showName" class="ptolemy.data.expr.SingletonParameter" value="false">
                </property>
            </port>
            <port name="left-right-output" class="ptolemy.actor.TypedIOPort">
                <property name="output"/>
                <property name="_cardinal" class="ptolemy.kernel.util.StringAttribute" value="EAST">
                </property>
                <property name="_location" class="ptolemy.kernel.util.Location" value="[665.0, 435.0]">
                </property>
                <property name="_type" class="ptolemy.actor.TypeAttribute" value="{carId = int, roadMap = arrayType(int), indicator = int, intersectionCount = int}">
                </property>
                <property name="_showName" class="ptolemy.data.expr.SingletonParameter" value="false">
                </property>
            </port>
            <port name="right-left-input" class="ptolemy.actor.TypedIOPort">
                <property name="input"/>
                <property name="_cardinal" class="ptolemy.kernel.util.StringAttribute" value="EAST">
                </property>
                <property name="_location" class="ptolemy.kernel.util.Location" value="[10.0, 620.0]">
                </property>
                <property name="_type" class="ptolemy.actor.TypeAttribute" value="{carId = int, roadMap = arrayType(int), indicator = int, intersectionCount = int}">
                </property>
                <property name="_showName" class="ptolemy.data.expr.SingletonParameter" value="false">
                </property>
            </port>
            <port name="right-left-output" class="ptolemy.actor.TypedIOPort">
                <property name="output"/>
                <property name="_cardinal" class="ptolemy.kernel.util.StringAttribute" value="WEST">
                </property>
                <property name="_location" class="ptolemy.kernel.util.Location" value="[660.0, 600.0]">
                </property>
                <property name="_type" class="ptolemy.actor.TypeAttribute" value="{carId = int, roadMap = arrayType(int), indicator = int, intersectionCount = int}">
                </property>
                <property name="_showName" class="ptolemy.data.expr.SingletonParameter" value="false">
                </property>
            </port>
            <entity name="TimeDelay" class="ptolemy.actor.lib.TimeDelay">
                <property name="delay" class="ptolemy.actor.parameters.PortParameter" value="duration">
                </property>
                <property name="_location" class="ptolemy.kernel.util.Location" value="[370.0, 455.0]">
                </property>
            </entity>
            <entity name="TimeDelay2" class="ptolemy.actor.lib.TimeDelay">
                <property name="delay" class="ptolemy.actor.parameters.PortParameter" value="duration">
                </property>
                <property name="_location" class="ptolemy.kernel.util.Location" value="[385.0, 620.0]">
                </property>
            </entity>
            <entity name="counter" class="ptolemy.actor.lib.jjs.JavaScript">
                <property name="_windowProperties" class="ptolemy.actor.gui.WindowPropertiesAttribute">
                </property>
                <property name="_paneSize" class="ptolemy.actor.gui.SizeAttribute">
                </property>
                <property name="script" class="ptolemy.actor.parameters.PortParameter" value="// counter that simulates the street&#10;	var counter = 0;&#10;//queue to save the waiting cars&#10;	var queue = [];&#10;&#10;exports.setup = function () {&#10;	//the Input-ports for the incoming cars&#10;    this.input('input');&#10;    this.input('counter');&#10;    &#10;    //the Output-ports for the leaving cars&#10;    this.output('output');&#10;    this.output('display');&#10;    this.output('trigger');&#10;}&#10;&#10;exports.initialize = function () {&#10;	&#10;	this.addInputHandler('input', function() {&#10;		this.send('output', this.get('input'));&#10;	});&#10;	&#10;	this.addInputHandler('counter', function() {&#10;		counter = this.get('counter');&#10;		&#10;		if (this.getParameter('analysisFlag') == 1) {&#10;			this.send('display', counter);&#10;		}&#10;		&#10;		if (counter &lt; this.getParameter('streetLength')) {&#10;			this.send('trigger', true);&#10;		} else {&#10;			// do nothing, street is full&#10;		}&#10;		&#10;		/*&#10;		if (counter &gt; this.getParameter('streetLength')) {&#10;			this.send('trigger', (counter-this.getParameter('streetLength'))*3);&#10;		} else {&#10;			while (queue.length != 0) {&#10;				this.send('output', queue.pop());&#10;			}&#10;		}*/&#10;	});&#10;}">
                    <property name="style" class="ptolemy.actor.gui.style.NoteStyle">
                        <property name="note" class="ptolemy.kernel.util.StringAttribute" value="NOTE: To see the script, invoke Open Actor">
                        </property>
                    </property>
                </property>
                <property name="_tableauFactory" class="ptolemy.vergil.toolbox.TextEditorTableauFactory">
                    <property name="attributeName" class="ptolemy.kernel.util.StringAttribute" value="script">
                    </property>
                    <property name="syntaxStyle" class="ptolemy.kernel.util.StringAttribute" value="text/javascript">
                    </property>
                </property>
                <property name="_location" class="ptolemy.kernel.util.Location" value="[555.0, 455.0]">
                </property>
                <property name="_hideName" class="ptolemy.data.expr.SingletonParameter" value="true">
                </property>
                <property name="_flipPortsVertical" class="ptolemy.data.expr.Parameter" value="true">
                </property>
                <property name="analysisFlag" class="ptolemy.data.expr.Parameter" value="analysisFlag">
                </property>
                <property name="streetLength" class="ptolemy.data.expr.Parameter" value="streetLength">
                </property>
                <port name="input" class="ptolemy.actor.TypedIOPort">
                    <property name="input"/>
                </port>
                <port name="output" class="ptolemy.actor.TypedIOPort">
                    <property name="output"/>
                </port>
                <port name="display" class="ptolemy.actor.TypedIOPort">
                    <property name="output"/>
                    <property name="_cardinal" class="ptolemy.kernel.util.StringAttribute" value="NORTH">
                    </property>
                    <property name="_type" class="ptolemy.actor.TypeAttribute" value="double">
                    </property>
                </port>
                <port name="trigger" class="ptolemy.actor.TypedIOPort">
                    <property name="output"/>
                </port>
                <port name="counter" class="ptolemy.actor.TypedIOPort">
                    <property name="input"/>
                    <property name="_type" class="ptolemy.actor.TypeAttribute" value="double">
                    </property>
                </port>
            </entity>
            <entity name="TimedPlotter" class="ptolemy.actor.lib.gui.TimedPlotter">
                <property name="legend" class="ptolemy.kernel.util.StringAttribute" value="counter: left-right, counter: right-left">
                </property>
                <property name="_windowProperties" class="ptolemy.actor.gui.WindowPropertiesAttribute" value="{bounds={278, 130, 687, 497}, maximized=false}">
                </property>
                <property name="_plotSize" class="ptolemy.actor.gui.SizeAttribute" value="[671, 437]">
                </property>
                <property name="_location" class="ptolemy.kernel.util.Location" value="[600.0, 540.0]">
                </property>
                <configure>
<?plotml <!DOCTYPE plot PUBLIC "-//UC Berkeley//DTD PlotML 1//EN"
"http://ptolemy.eecs.berkeley.edu/xml/dtd/PlotML_1.dtd">
<plot>
<title>TimedPlotter</title>
<xLabel></xLabel>
<yLabel></yLabel>
<xRange min="1.7976931348623157E308" max="-1.7976931348623157E308"/>
<yRange min="1.7976931348623157E308" max="-1.7976931348623157E308"/>
</plot>?>
                </configure>
            </entity>
            <entity name="Counter" class="ptolemy.actor.lib.Counter">
                <property name="_location" class="ptolemy.kernel.util.Location" value="[440.66734313964844, 330.9227752685547]">
                </property>
            </entity>
            <entity name="Counter2" class="ptolemy.actor.lib.Counter">
                <property name="_location" class="ptolemy.kernel.util.Location" value="{444.3317368090452, 733.3371125801125}">
                </property>
            </entity>
            <entity name="counter3" class="ptolemy.actor.lib.jjs.JavaScript">
                <property name="_windowProperties" class="ptolemy.actor.gui.WindowPropertiesAttribute">
                </property>
                <property name="_paneSize" class="ptolemy.actor.gui.SizeAttribute">
                </property>
                <property name="script" class="ptolemy.actor.parameters.PortParameter" value="// counter that simulates the street&#10;	var counter = 0;&#10;//queue to save the waiting cars&#10;	var queue = [];&#10;&#10;exports.setup = function () {&#10;	//the Input-ports for the incoming cars&#10;    this.input('input');&#10;    this.input('counter');&#10;    &#10;    //the Output-ports for the leaving cars&#10;    this.output('output');&#10;    this.output('display');&#10;    this.output('trigger');&#10;}&#10;&#10;exports.initialize = function () {&#10;	&#10;	this.addInputHandler('input', function() {&#10;		this.send('output', this.get('input'));&#10;	});&#10;	&#10;	this.addInputHandler('counter', function() {&#10;		counter = this.get('counter');&#10;		&#10;		if (this.getParameter('analysisFlag') == 1) {&#10;			this.send('display', counter);&#10;		}&#10;		&#10;		if (counter &lt; this.getParameter('streetLength')) {&#10;			this.send('trigger', counter);&#10;		} else {&#10;			// do nothing, street is full&#10;		}&#10;		&#10;		/*&#10;		if (counter &gt; this.getParameter('streetLength')) {&#10;			this.send('trigger', (counter-this.getParameter('streetLength'))*3);&#10;		} else {&#10;			while (queue.length != 0) {&#10;				this.send('output', queue.pop());&#10;			}&#10;		}*/&#10;	});&#10;}">
                    <property name="style" class="ptolemy.actor.gui.style.NoteStyle">
                        <property name="note" class="ptolemy.kernel.util.StringAttribute" value="NOTE: To see the script, invoke Open Actor">
                        </property>
                    </property>
                </property>
                <property name="_tableauFactory" class="ptolemy.vergil.toolbox.TextEditorTableauFactory">
                    <property name="attributeName" class="ptolemy.kernel.util.StringAttribute" value="script">
                    </property>
                    <property name="syntaxStyle" class="ptolemy.kernel.util.StringAttribute" value="text/javascript">
                    </property>
                </property>
                <property name="_location" class="ptolemy.kernel.util.Location" value="[530.0, 600.0]">
                </property>
                <property name="_hideName" class="ptolemy.data.expr.SingletonParameter" value="true">
                </property>
                <property name="_flipPortsVertical" class="ptolemy.data.expr.Parameter" value="true">
                </property>
                <property name="analysisFlag" class="ptolemy.data.expr.Parameter" value="analysisFlag">
                </property>
                <property name="streetLength" class="ptolemy.data.expr.Parameter" value="streetLength">
                </property>
                <port name="input" class="ptolemy.actor.TypedIOPort">
                    <property name="input"/>
                </port>
                <port name="output" class="ptolemy.actor.TypedIOPort">
                    <property name="output"/>
                </port>
                <port name="display" class="ptolemy.actor.TypedIOPort">
                    <property name="output"/>
                    <property name="_cardinal" class="ptolemy.kernel.util.StringAttribute" value="NORTH">
                    </property>
                    <property name="_type" class="ptolemy.actor.TypeAttribute" value="double">
                    </property>
                </port>
                <port name="trigger" class="ptolemy.actor.TypedIOPort">
                    <property name="output"/>
                </port>
                <port name="counter" class="ptolemy.actor.TypedIOPort">
                    <property name="input"/>
                    <property name="_type" class="ptolemy.actor.TypeAttribute" value="double">
                    </property>
                </port>
            </entity>
            <entity name="Queue" class="ptolemy.domains.de.lib.Queue">
                <property name="capacity" class="ptolemy.data.expr.Parameter" value="10">
                </property>
                <property name="persistentTrigger" class="ptolemy.data.expr.Parameter" value="true">
                </property>
                <property name="_location" class="ptolemy.kernel.util.Location" value="[190.0, 455.0]">
                </property>
            </entity>
            <entity name="Queue2" class="ptolemy.domains.de.lib.Queue">
                <property name="_location" class="ptolemy.kernel.util.Location" value="{187.8914925102946, 620.4811694530187}">
                </property>
            </entity>
            <entity name="TimeDelay3" class="ptolemy.actor.lib.TimeDelay">
                <property name="delay" class="ptolemy.actor.parameters.PortParameter" value="1">
                </property>
                <property name="_location" class="ptolemy.kernel.util.Location" value="{267.3117148241206, 692.9343958715698}">
                </property>
                <property name="_flipPortsHorizontal" class="ptolemy.data.expr.Parameter" value="true">
                </property>
            </entity>
            <entity name="TimeDelay4" class="ptolemy.actor.lib.TimeDelay">
                <property name="delay" class="ptolemy.actor.parameters.PortParameter" value="1">
                </property>
                <property name="_location" class="ptolemy.kernel.util.Location" value="[270.0, 515.0]">
                </property>
                <property name="_flipPortsHorizontal" class="ptolemy.data.expr.Parameter" value="true">
                </property>
            </entity>
            <entity name="PoissonClock" class="ptolemy.actor.lib.PoissonClock">
                <property name="meanTime" class="ptolemy.data.expr.Parameter" value="0.5">
                </property>
                <property name="stopTime" class="ptolemy.data.expr.Parameter" value="1">
                </property>
                <property name="_location" class="ptolemy.kernel.util.Location" value="[20.0, 525.0]">
                </property>
            </entity>
            <entity name="PoissonClock2" class="ptolemy.actor.lib.PoissonClock">
                <property name="meanTime" class="ptolemy.data.expr.Parameter" value="0.5">
                </property>
                <property name="stopTime" class="ptolemy.data.expr.Parameter" value="1">
                </property>
                <property name="_location" class="ptolemy.kernel.util.Location" value="[10.0, 755.0]">
                </property>
            </entity>
            <entity name="JavaScript" class="ptolemy.actor.lib.jjs.JavaScript">
                <property name="_windowProperties" class="ptolemy.actor.gui.WindowPropertiesAttribute">
                </property>
                <property name="_paneSize" class="ptolemy.actor.gui.SizeAttribute">
                </property>
                <property name="script" class="ptolemy.actor.parameters.PortParameter" value="var queueSize = 0;&#10;&#10;exports.setup = function () {&#10;	//the Input-ports for the incoming cars&#10;    this.input('input');&#10;    this.input('clock');&#10;    &#10;    //the Output-ports for the leaving cars&#10;    this.output('output');&#10;}&#10;&#10;exports.initialize = function () {&#10;	&#10;	this.addInputHandler('input', function() {&#10;		queueSize = this.get('input');&#10;	});&#10;	&#10;	this.addInputHandler('clock', function() {&#10;		if(queueSize == 0) {&#10;			this.send('output', true);&#10;		}&#10;	});&#10;}">
                    <property name="style" class="ptolemy.actor.gui.style.NoteStyle">
                        <property name="note" class="ptolemy.kernel.util.StringAttribute" value="NOTE: To see the script, invoke Open Actor">
                        </property>
                    </property>
                </property>
                <property name="_tableauFactory" class="ptolemy.vergil.toolbox.TextEditorTableauFactory">
                    <property name="attributeName" class="ptolemy.kernel.util.StringAttribute" value="script">
                    </property>
                    <property name="syntaxStyle" class="ptolemy.kernel.util.StringAttribute" value="text/javascript">
                    </property>
                </property>
                <property name="_location" class="ptolemy.kernel.util.Location" value="[110.0, 755.0]">
                </property>
                <property name="_flipPortsHorizontal" class="ptolemy.data.expr.Parameter" value="false">
                </property>
                <port name="input" class="ptolemy.actor.TypedIOPort">
                    <property name="input"/>
                    <property name="_cardinal" class="ptolemy.kernel.util.StringAttribute" value="NORTH">
                    </property>
                </port>
                <port name="output" class="ptolemy.actor.TypedIOPort">
                    <property name="output"/>
                </port>
                <port name="clock" class="ptolemy.actor.TypedIOPort">
                    <property name="input"/>
                </port>
            </entity>
            <entity name="JavaScript2" class="ptolemy.actor.lib.jjs.JavaScript">
                <property name="_windowProperties" class="ptolemy.actor.gui.WindowPropertiesAttribute">
                </property>
                <property name="_paneSize" class="ptolemy.actor.gui.SizeAttribute">
                </property>
                <property name="script" class="ptolemy.actor.parameters.PortParameter" value="var queueSize = 0;&#10;&#10;exports.setup = function () {&#10;	//the Input-ports for the incoming cars&#10;    this.input('input');&#10;    this.input('clock');&#10;    &#10;    //the Output-ports for the leaving cars&#10;    this.output('output');&#10;}&#10;&#10;exports.initialize = function () {&#10;	&#10;	this.addInputHandler('input', function() {&#10;		queueSize = this.get('input');&#10;	});&#10;	&#10;	this.addInputHandler('clock', function() {&#10;		if(queueSize == 0) {&#10;			this.send('output', true);&#10;		}&#10;	});&#10;}">
                    <property name="style" class="ptolemy.actor.gui.style.NoteStyle">
                        <property name="note" class="ptolemy.kernel.util.StringAttribute" value="NOTE: To see the script, invoke Open Actor">
                        </property>
                    </property>
                </property>
                <property name="_tableauFactory" class="ptolemy.vergil.toolbox.TextEditorTableauFactory">
                    <property name="attributeName" class="ptolemy.kernel.util.StringAttribute" value="script">
                    </property>
                    <property name="syntaxStyle" class="ptolemy.kernel.util.StringAttribute" value="text/javascript">
                    </property>
                </property>
                <property name="_location" class="ptolemy.kernel.util.Location" value="[110.0, 555.0]">
                </property>
                <property name="_flipPortsHorizontal" class="ptolemy.data.expr.Parameter" value="false">
                </property>
                <port name="input" class="ptolemy.actor.TypedIOPort">
                    <property name="input"/>
                    <property name="_cardinal" class="ptolemy.kernel.util.StringAttribute" value="NORTH">
                    </property>
                </port>
                <port name="output" class="ptolemy.actor.TypedIOPort">
                    <property name="output"/>
                </port>
                <port name="clock" class="ptolemy.actor.TypedIOPort">
                    <property name="input"/>
                </port>
            </entity>
            <entity name="TimeDelay5" class="ptolemy.actor.lib.TimeDelay">
                <property name="delay" class="ptolemy.actor.parameters.PortParameter" value="1">
                </property>
                <property name="_location" class="ptolemy.kernel.util.Location" value="{102.8625157035176, 472.1470214997105}">
                </property>
                <property name="_flipPortsHorizontal" class="ptolemy.data.expr.Parameter" value="true">
                </property>
            </entity>
            <entity name="TimeDelay6" class="ptolemy.actor.lib.TimeDelay">
                <property name="delay" class="ptolemy.actor.parameters.PortParameter" value="1">
                </property>
                <property name="_location" class="ptolemy.kernel.util.Location" value="{104.8625157035176, 648.1470214997105}">
                </property>
                <property name="_flipPortsHorizontal" class="ptolemy.data.expr.Parameter" value="true">
                </property>
            </entity>
            <relation name="relation4" class="ptolemy.actor.TypedIORelation">
            </relation>
            <relation name="relation9" class="ptolemy.actor.TypedIORelation">
                <property name="width" class="ptolemy.data.expr.Parameter" value="-1">
                </property>
                <vertex name="vertex1" value="[285.0, 455.0]">
                </vertex>
            </relation>
            <relation name="relation" class="ptolemy.actor.TypedIORelation">
                <property name="width" class="ptolemy.data.expr.Parameter" value="-1">
                </property>
                <vertex name="vertex1" value="[460.0, 455.0]">
                </vertex>
            </relation>
            <relation name="relation11" class="ptolemy.actor.TypedIORelation">
                <property name="width" class="ptolemy.data.expr.Parameter" value="-1">
                </property>
                <vertex name="vertex1" value="{295.0, 620.0}">
                </vertex>
            </relation>
            <relation name="relation3" class="ptolemy.actor.TypedIORelation">
                <property name="width" class="ptolemy.data.expr.Parameter" value="-1">
                </property>
                <vertex name="vertex1" value="{465.0, 620.0}">
                </vertex>
            </relation>
            <relation name="relation2" class="ptolemy.actor.TypedIORelation">
            </relation>
            <relation name="relation5" class="ptolemy.actor.TypedIORelation">
            </relation>
            <relation name="relation6" class="ptolemy.actor.TypedIORelation">
            </relation>
            <relation name="relation7" class="ptolemy.actor.TypedIORelation">
            </relation>
            <relation name="relation10" class="ptolemy.actor.TypedIORelation">
            </relation>
            <relation name="relation13" class="ptolemy.actor.TypedIORelation">
            </relation>
            <relation name="relation14" class="ptolemy.actor.TypedIORelation">
            </relation>
            <relation name="relation15" class="ptolemy.actor.TypedIORelation">
            </relation>
            <relation name="relation8" class="ptolemy.actor.TypedIORelation">
            </relation>
            <relation name="relation16" class="ptolemy.actor.TypedIORelation">
            </relation>
            <relation name="relation12" class="ptolemy.actor.TypedIORelation">
            </relation>
            <relation name="relation17" class="ptolemy.actor.TypedIORelation">
            </relation>
            <relation name="relation20" class="ptolemy.actor.TypedIORelation">
            </relation>
            <relation name="relation18" class="ptolemy.actor.TypedIORelation">
            </relation>
            <relation name="relation22" class="ptolemy.actor.TypedIORelation">
            </relation>
            <relation name="relation21" class="ptolemy.actor.TypedIORelation">
            </relation>
            <relation name="relation23" class="ptolemy.actor.TypedIORelation">
            </relation>
            <relation name="relation19" class="ptolemy.actor.TypedIORelation">
            </relation>
            <relation name="relation24" class="ptolemy.actor.TypedIORelation">
            </relation>
            <link port="left-right-input" relation="relation13"/>
            <link port="left-right-output" relation="relation4"/>
            <link port="right-left-input" relation="relation14"/>
            <link port="right-left-output" relation="relation10"/>
            <link port="TimeDelay.input" relation="relation9"/>
            <link port="TimeDelay.output" relation="relation"/>
            <link port="TimeDelay2.input" relation="relation11"/>
            <link port="TimeDelay2.output" relation="relation3"/>
            <link port="counter.input" relation="relation"/>
            <link port="counter.output" relation="relation4"/>
            <link port="counter.display" relation="relation5"/>
            <link port="counter.trigger" relation="relation16"/>
            <link port="counter.counter" relation="relation2"/>
            <link port="TimedPlotter.input" relation="relation5"/>
            <link port="TimedPlotter.input" relation="relation7"/>
            <link port="Counter.increment" relation="relation9"/>
            <link port="Counter.decrement" relation="relation"/>
            <link port="Counter.output" relation="relation2"/>
            <link port="Counter2.increment" relation="relation11"/>
            <link port="Counter2.decrement" relation="relation3"/>
            <link port="Counter2.output" relation="relation6"/>
            <link port="counter3.input" relation="relation3"/>
            <link port="counter3.output" relation="relation10"/>
            <link port="counter3.display" relation="relation7"/>
            <link port="counter3.trigger" relation="relation15"/>
            <link port="counter3.counter" relation="relation6"/>
            <link port="Queue.input" relation="relation13"/>
            <link port="Queue.output" relation="relation9"/>
            <link port="Queue.trigger" relation="relation8"/>
            <link port="Queue.trigger" relation="relation22"/>
            <link port="Queue.size" relation="relation21"/>
            <link port="Queue2.input" relation="relation14"/>
            <link port="Queue2.output" relation="relation11"/>
            <link port="Queue2.trigger" relation="relation12"/>
            <link port="Queue2.trigger" relation="relation20"/>
            <link port="Queue2.size" relation="relation19"/>
            <link port="TimeDelay3.input" relation="relation15"/>
            <link port="TimeDelay3.output" relation="relation12"/>
            <link port="TimeDelay4.input" relation="relation16"/>
            <link port="TimeDelay4.output" relation="relation8"/>
            <link port="PoissonClock.output" relation="relation18"/>
            <link port="PoissonClock2.output" relation="relation17"/>
            <link port="JavaScript.input" relation="relation24"/>
            <link port="JavaScript.output" relation="relation20"/>
            <link port="JavaScript.clock" relation="relation17"/>
            <link port="JavaScript2.input" relation="relation23"/>
            <link port="JavaScript2.output" relation="relation22"/>
            <link port="JavaScript2.clock" relation="relation18"/>
            <link port="TimeDelay5.input" relation="relation21"/>
            <link port="TimeDelay5.output" relation="relation23"/>
            <link port="TimeDelay6.input" relation="relation19"/>
            <link port="TimeDelay6.output" relation="relation24"/>
        </entity>
        <relation name="relation5" class="ptolemy.actor.TypedIORelation">
            <property name="_layoutHint" class="ptolemy.vergil.actor.LayoutHint" value="{ { head={id=&quot;leftRightInput._location&quot;,x=15.0,y=255.0}, tail={id=&quot;TimeDelay.input&quot;,x=145.0,y=255.0}, points={} } }">
            </property>
        </relation>
        <relation name="relation6" class="ptolemy.actor.TypedIORelation">
        </relation>
        <relation name="relation3" class="ptolemy.actor.TypedIORelation">
            <property name="_layoutHint" class="ptolemy.vergil.actor.LayoutHint" value="{ { head={id=&quot;Street2.right-left-input&quot;,x=270.0,y=265.0}, tail={id=&quot;TimeDelay2.output&quot;,x=385.0,y=275.0}, points={} } }">
            </property>
        </relation>
        <relation name="relation" class="ptolemy.actor.TypedIORelation">
            <property name="_layoutHint" class="ptolemy.vergil.actor.LayoutHint" value="{ { head={id=&quot;Street2.left-right-input&quot;,x=270.0,y=265.0}, tail={id=&quot;TimeDelay.output&quot;,x=145.0,y=255.0}, points={} } }">
            </property>
        </relation>
        <relation name="relation8" class="ptolemy.actor.TypedIORelation">
            <property name="_layoutHint" class="ptolemy.vergil.actor.LayoutHint" value="{ { head={id=&quot;leftRightOutput._location&quot;,x=355.0,y=205.0}, tail={id=&quot;Street2.left-right-output&quot;,x=270.0,y=265.0}, points={320.0,205.0,320.0,255.0} } }">
            </property>
        </relation>
        <relation name="relation7" class="ptolemy.actor.TypedIORelation">
        </relation>
        <link port="leftRightInput" relation="relation5"/>
        <link port="leftRightOutput" relation="relation8"/>
        <link port="rightLeftInput" relation="relation6"/>
        <link port="rightLeftOutput" relation="relation7"/>
        <link port="TimeDelay.input" relation="relation5"/>
        <link port="TimeDelay.output" relation="relation"/>
        <link port="TimeDelay2.input" relation="relation6"/>
        <link port="TimeDelay2.output" relation="relation3"/>
        <link port="Street2.left-right-input" relation="relation"/>
        <link port="Street2.left-right-output" relation="relation8"/>
        <link port="Street2.right-left-input" relation="relation3"/>
        <link port="Street2.right-left-output" relation="relation7"/>
    </entity>
    <entity name="Road3" class="ptolemy.actor.TypedCompositeActor">
        <property name="_location" class="ptolemy.kernel.util.Location" value="[825.0, 265.0]">
        </property>
        <property name="_windowProperties" class="ptolemy.actor.gui.WindowPropertiesAttribute" value="{bounds={174, 129, 928, 617}, maximized=false}">
        </property>
        <property name="_vergilSize" class="ptolemy.actor.gui.SizeAttribute" value="[700, 500]">
        </property>
        <property name="_vergilZoomFactor" class="ptolemy.data.expr.ExpertParameter" value="1.0">
        </property>
        <property name="_vergilCenter" class="ptolemy.data.expr.ExpertParameter" value="{246.40059673366832, 253.38222361809045}">
        </property>
        <property name="_icon" class="ptolemy.vergil.icon.EditorIcon">
            <property name="rectangle" class="ptolemy.vergil.kernel.attributes.RectangleAttribute">
                <property name="_location" class="ptolemy.kernel.util.Location" value="{0, 0}">
                </property>
                <property name="width" class="ptolemy.data.expr.Parameter" value="60">
                </property>
                <property name="height" class="ptolemy.data.expr.Parameter" value="40">
                </property>
                <property name="centered" class="ptolemy.data.expr.Parameter" value="true">
                </property>
                <property name="fillColor" class="ptolemy.actor.gui.ColorAttribute" value="{1.0, 1.0, 1.0, 1.0}">
                </property>
            </property>
            <property name="Annotation" class="ptolemy.vergil.kernel.attributes.TextAttribute">
                <property name="textColor" class="ptolemy.actor.gui.ColorAttribute" value="{0.0, 0.0, 0.0, 1.0}">
                </property>
                <property name="text" class="ptolemy.kernel.util.StringAttribute" value="- - - - - -">
                </property>
                <property name="_location" class="ptolemy.kernel.util.Location" value="[-28.0, -4.0]">
                </property>
            </property>
            <property name="_windowProperties" class="ptolemy.actor.gui.WindowPropertiesAttribute" value="{bounds={219, 75, 928, 617}, maximized=false}">
            </property>
            <property name="_vergilSize" class="ptolemy.actor.gui.SizeAttribute" value="[700, 500]">
            </property>
            <property name="_vergilZoomFactor" class="ptolemy.data.expr.ExpertParameter" value="4.0">
            </property>
            <property name="_vergilCenter" class="ptolemy.data.expr.ExpertParameter" value="{12.5, 6.25}">
            </property>
        </property>
        <property name="streetLength" class="ptolemy.data.expr.Parameter" value="4">
        </property>
        <property name="duration" class="ptolemy.data.expr.Parameter" value="4">
        </property>
        <property name="analysisFlag" class="ptolemy.data.expr.Parameter" value="StreetPlotterFlag">
        </property>
        <port name="leftRightInput" class="ptolemy.actor.TypedIOPort">
            <property name="input"/>
            <property name="_location" class="ptolemy.kernel.util.Location" value="{15.0, 255.0}">
            </property>
            <property name="_cardinal" class="ptolemy.kernel.util.StringAttribute" value="WEST">
            </property>
        </port>
        <port name="leftRightOutput" class="ptolemy.actor.TypedIOPort">
            <property name="output"/>
            <property name="_location" class="ptolemy.kernel.util.Location" value="{355.0, 205.0}">
            </property>
            <property name="_cardinal" class="ptolemy.kernel.util.StringAttribute" value="EAST">
            </property>
        </port>
        <port name="rightLeftInput" class="ptolemy.actor.TypedIOPort">
            <property name="input"/>
            <property name="_location" class="ptolemy.kernel.util.Location" value="[490.0, 220.0]">
            </property>
            <property name="_cardinal" class="ptolemy.kernel.util.StringAttribute" value="EAST">
            </property>
        </port>
        <port name="rightLeftOutput" class="ptolemy.actor.TypedIOPort">
            <property name="output"/>
            <property name="_location" class="ptolemy.kernel.util.Location" value="[225.0, 350.0]">
            </property>
            <property name="_cardinal" class="ptolemy.kernel.util.StringAttribute" value="WEST">
            </property>
        </port>
        <entity name="TimeDelay" class="ptolemy.actor.lib.TimeDelay">
            <property name="delay" class="ptolemy.actor.parameters.PortParameter" value="1">
            </property>
            <property name="_location" class="ptolemy.kernel.util.Location" value="{145.0, 255.0}">
            </property>
            <port name="delay" class="ptolemy.actor.parameters.ParameterPort">
                <property name="input"/>
                <property name="_type" class="ptolemy.actor.TypeAttribute" value="double">
                </property>
            </port>
        </entity>
        <entity name="TimeDelay2" class="ptolemy.actor.lib.TimeDelay">
            <property name="delay" class="ptolemy.actor.parameters.PortParameter" value="1">
            </property>
            <property name="_location" class="ptolemy.kernel.util.Location" value="{385.0, 275.0}">
            </property>
            <property name="_flipPortsHorizontal" class="ptolemy.data.expr.Parameter" value="true">
            </property>
            <port name="delay" class="ptolemy.actor.parameters.ParameterPort">
                <property name="input"/>
                <property name="_type" class="ptolemy.actor.TypeAttribute" value="double">
                </property>
            </port>
        </entity>
        <entity name="Street2" class="ptolemy.actor.TypedCompositeActor">
            <property name="_location" class="ptolemy.kernel.util.Location" value="{270.0, 265.0}">
            </property>
            <property name="_icon" class="ptolemy.vergil.icon.EditorIcon">
                <property name="rectangle" class="ptolemy.vergil.kernel.attributes.RectangleAttribute">
                    <property name="_location" class="ptolemy.kernel.util.Location" value="-0.5, 0.5">
                    </property>
                    <property name="width" class="ptolemy.data.expr.Parameter" value="41.0">
                    </property>
                    <property name="height" class="ptolemy.data.expr.Parameter" value="21.0">
                    </property>
                    <property name="centered" class="ptolemy.data.expr.Parameter" value="true">
                    </property>
                    <property name="fillColor" class="ptolemy.actor.gui.ColorAttribute" value="{1.0, 1.0, 1.0, 1.0}">
                    </property>
                    <property name="_renderFirst" class="ptolemy.kernel.util.SingletonAttribute">
                    </property>
                </property>
                <property name="line" class="ptolemy.vergil.kernel.attributes.LineAttribute">
                    <property name="_location" class="ptolemy.kernel.util.Location" value="[-20.0, -10.0]">
                    </property>
                    <property name="x" class="ptolemy.data.expr.Parameter" value="40.0">
                    </property>
                    <property name="y" class="ptolemy.data.expr.Parameter" value="0.0">
                    </property>
                </property>
                <property name="line2" class="ptolemy.vergil.kernel.attributes.LineAttribute">
                    <property name="_location" class="ptolemy.kernel.util.Location" value="[-20.0, 11.0]">
                    </property>
                    <property name="x" class="ptolemy.data.expr.Parameter" value="40.0">
                    </property>
                    <property name="y" class="ptolemy.data.expr.Parameter" value="0.0">
                    </property>
                </property>
                <property name="Annotation" class="ptolemy.vergil.kernel.attributes.TextAttribute">
                    <property name="textColor" class="ptolemy.actor.gui.ColorAttribute" value="{0.0, 0.0, 0.0, 1.0}">
                    </property>
                    <property name="text" class="ptolemy.kernel.util.StringAttribute" value="- - - - -">
                    </property>
                    <property name="_location" class="ptolemy.kernel.util.Location" value="[-24.0, -4.0]">
                    </property>
                </property>
            </property>
            <property name="_windowProperties" class="ptolemy.actor.gui.WindowPropertiesAttribute" value="{bounds={610, 195, 928, 618}, maximized=false}">
            </property>
            <property name="_vergilSize" class="ptolemy.actor.gui.SizeAttribute" value="[700, 501]">
            </property>
            <property name="_vergilZoomFactor" class="ptolemy.data.expr.ExpertParameter" value="1.0">
            </property>
            <property name="_vergilCenter" class="ptolemy.data.expr.ExpertParameter" value="{265.8625157035176, 588.6470214997105}">
            </property>
            <property name="streetLength" class="ptolemy.data.expr.Parameter" value="streetLength">
            </property>
            <property name="analysisFlag" class="ptolemy.data.expr.Parameter" value="StreetPlotterFlag">
            </property>
            <property name="duration" class="ptolemy.data.expr.Parameter" value="duration">
            </property>
            <port name="left-right-input" class="ptolemy.actor.TypedIOPort">
                <property name="input"/>
                <property name="_cardinal" class="ptolemy.kernel.util.StringAttribute" value="WEST">
                </property>
                <property name="_location" class="ptolemy.kernel.util.Location" value="[10.0, 455.0]">
                </property>
                <property name="_type" class="ptolemy.actor.TypeAttribute" value="{carId = int, roadMap = arrayType(int), indicator = int, intersectionCount = int}">
                </property>
                <property name="_showName" class="ptolemy.data.expr.SingletonParameter" value="false">
                </property>
            </port>
            <port name="left-right-output" class="ptolemy.actor.TypedIOPort">
                <property name="output"/>
                <property name="_cardinal" class="ptolemy.kernel.util.StringAttribute" value="EAST">
                </property>
                <property name="_location" class="ptolemy.kernel.util.Location" value="[665.0, 435.0]">
                </property>
                <property name="_type" class="ptolemy.actor.TypeAttribute" value="{carId = int, roadMap = arrayType(int), indicator = int, intersectionCount = int}">
                </property>
                <property name="_showName" class="ptolemy.data.expr.SingletonParameter" value="false">
                </property>
            </port>
            <port name="right-left-input" class="ptolemy.actor.TypedIOPort">
                <property name="input"/>
                <property name="_cardinal" class="ptolemy.kernel.util.StringAttribute" value="EAST">
                </property>
                <property name="_location" class="ptolemy.kernel.util.Location" value="[10.0, 620.0]">
                </property>
                <property name="_type" class="ptolemy.actor.TypeAttribute" value="{carId = int, roadMap = arrayType(int), indicator = int, intersectionCount = int}">
                </property>
                <property name="_showName" class="ptolemy.data.expr.SingletonParameter" value="false">
                </property>
            </port>
            <port name="right-left-output" class="ptolemy.actor.TypedIOPort">
                <property name="output"/>
                <property name="_cardinal" class="ptolemy.kernel.util.StringAttribute" value="WEST">
                </property>
                <property name="_location" class="ptolemy.kernel.util.Location" value="[660.0, 600.0]">
                </property>
                <property name="_type" class="ptolemy.actor.TypeAttribute" value="{carId = int, roadMap = arrayType(int), indicator = int, intersectionCount = int}">
                </property>
                <property name="_showName" class="ptolemy.data.expr.SingletonParameter" value="false">
                </property>
            </port>
            <entity name="TimeDelay" class="ptolemy.actor.lib.TimeDelay">
                <property name="delay" class="ptolemy.actor.parameters.PortParameter" value="duration">
                </property>
                <property name="_location" class="ptolemy.kernel.util.Location" value="[370.0, 455.0]">
                </property>
            </entity>
            <entity name="TimeDelay2" class="ptolemy.actor.lib.TimeDelay">
                <property name="delay" class="ptolemy.actor.parameters.PortParameter" value="duration">
                </property>
                <property name="_location" class="ptolemy.kernel.util.Location" value="[385.0, 620.0]">
                </property>
            </entity>
            <entity name="counter" class="ptolemy.actor.lib.jjs.JavaScript">
                <property name="_windowProperties" class="ptolemy.actor.gui.WindowPropertiesAttribute">
                </property>
                <property name="_paneSize" class="ptolemy.actor.gui.SizeAttribute">
                </property>
                <property name="script" class="ptolemy.actor.parameters.PortParameter" value="// counter that simulates the street&#10;	var counter = 0;&#10;//queue to save the waiting cars&#10;	var queue = [];&#10;&#10;exports.setup = function () {&#10;	//the Input-ports for the incoming cars&#10;    this.input('input');&#10;    this.input('counter');&#10;    &#10;    //the Output-ports for the leaving cars&#10;    this.output('output');&#10;    this.output('display');&#10;    this.output('trigger');&#10;}&#10;&#10;exports.initialize = function () {&#10;	&#10;	this.addInputHandler('input', function() {&#10;		this.send('output', this.get('input'));&#10;	});&#10;	&#10;	this.addInputHandler('counter', function() {&#10;		counter = this.get('counter');&#10;		&#10;		if (this.getParameter('analysisFlag') == 1) {&#10;			this.send('display', counter);&#10;		}&#10;		&#10;		if (counter &lt; this.getParameter('streetLength')) {&#10;			this.send('trigger', true);&#10;		} else {&#10;			// do nothing, street is full&#10;		}&#10;		&#10;		/*&#10;		if (counter &gt; this.getParameter('streetLength')) {&#10;			this.send('trigger', (counter-this.getParameter('streetLength'))*3);&#10;		} else {&#10;			while (queue.length != 0) {&#10;				this.send('output', queue.pop());&#10;			}&#10;		}*/&#10;	});&#10;}">
                    <property name="style" class="ptolemy.actor.gui.style.NoteStyle">
                        <property name="note" class="ptolemy.kernel.util.StringAttribute" value="NOTE: To see the script, invoke Open Actor">
                        </property>
                    </property>
                </property>
                <property name="_tableauFactory" class="ptolemy.vergil.toolbox.TextEditorTableauFactory">
                    <property name="attributeName" class="ptolemy.kernel.util.StringAttribute" value="script">
                    </property>
                    <property name="syntaxStyle" class="ptolemy.kernel.util.StringAttribute" value="text/javascript">
                    </property>
                </property>
                <property name="_location" class="ptolemy.kernel.util.Location" value="[555.0, 455.0]">
                </property>
                <property name="_hideName" class="ptolemy.data.expr.SingletonParameter" value="true">
                </property>
                <property name="_flipPortsVertical" class="ptolemy.data.expr.Parameter" value="true">
                </property>
                <property name="analysisFlag" class="ptolemy.data.expr.Parameter" value="analysisFlag">
                </property>
                <property name="streetLength" class="ptolemy.data.expr.Parameter" value="streetLength">
                </property>
                <port name="input" class="ptolemy.actor.TypedIOPort">
                    <property name="input"/>
                </port>
                <port name="output" class="ptolemy.actor.TypedIOPort">
                    <property name="output"/>
                </port>
                <port name="display" class="ptolemy.actor.TypedIOPort">
                    <property name="output"/>
                    <property name="_cardinal" class="ptolemy.kernel.util.StringAttribute" value="NORTH">
                    </property>
                    <property name="_type" class="ptolemy.actor.TypeAttribute" value="double">
                    </property>
                </port>
                <port name="trigger" class="ptolemy.actor.TypedIOPort">
                    <property name="output"/>
                </port>
                <port name="counter" class="ptolemy.actor.TypedIOPort">
                    <property name="input"/>
                    <property name="_type" class="ptolemy.actor.TypeAttribute" value="double">
                    </property>
                </port>
            </entity>
            <entity name="TimedPlotter" class="ptolemy.actor.lib.gui.TimedPlotter">
                <property name="legend" class="ptolemy.kernel.util.StringAttribute" value="counter: left-right, counter: right-left">
                </property>
                <property name="_windowProperties" class="ptolemy.actor.gui.WindowPropertiesAttribute" value="{bounds={278, 130, 687, 497}, maximized=false}">
                </property>
                <property name="_plotSize" class="ptolemy.actor.gui.SizeAttribute" value="[671, 437]">
                </property>
                <property name="_location" class="ptolemy.kernel.util.Location" value="[600.0, 540.0]">
                </property>
                <configure>
<?plotml <!DOCTYPE plot PUBLIC "-//UC Berkeley//DTD PlotML 1//EN"
"http://ptolemy.eecs.berkeley.edu/xml/dtd/PlotML_1.dtd">
<plot>
<title>TimedPlotter</title>
<xLabel></xLabel>
<yLabel></yLabel>
<xRange min="1.7976931348623157E308" max="-1.7976931348623157E308"/>
<yRange min="1.7976931348623157E308" max="-1.7976931348623157E308"/>
</plot>?>
                </configure>
            </entity>
            <entity name="Counter" class="ptolemy.actor.lib.Counter">
                <property name="_location" class="ptolemy.kernel.util.Location" value="[440.66734313964844, 330.9227752685547]">
                </property>
            </entity>
            <entity name="Counter2" class="ptolemy.actor.lib.Counter">
                <property name="_location" class="ptolemy.kernel.util.Location" value="{444.3317368090452, 733.3371125801125}">
                </property>
            </entity>
            <entity name="counter3" class="ptolemy.actor.lib.jjs.JavaScript">
                <property name="_windowProperties" class="ptolemy.actor.gui.WindowPropertiesAttribute">
                </property>
                <property name="_paneSize" class="ptolemy.actor.gui.SizeAttribute">
                </property>
                <property name="script" class="ptolemy.actor.parameters.PortParameter" value="// counter that simulates the street&#10;	var counter = 0;&#10;//queue to save the waiting cars&#10;	var queue = [];&#10;&#10;exports.setup = function () {&#10;	//the Input-ports for the incoming cars&#10;    this.input('input');&#10;    this.input('counter');&#10;    &#10;    //the Output-ports for the leaving cars&#10;    this.output('output');&#10;    this.output('display');&#10;    this.output('trigger');&#10;}&#10;&#10;exports.initialize = function () {&#10;	&#10;	this.addInputHandler('input', function() {&#10;		this.send('output', this.get('input'));&#10;	});&#10;	&#10;	this.addInputHandler('counter', function() {&#10;		counter = this.get('counter');&#10;		&#10;		if (this.getParameter('analysisFlag') == 1) {&#10;			this.send('display', counter);&#10;		}&#10;		&#10;		if (counter &lt; this.getParameter('streetLength')) {&#10;			this.send('trigger', counter);&#10;		} else {&#10;			// do nothing, street is full&#10;		}&#10;		&#10;		/*&#10;		if (counter &gt; this.getParameter('streetLength')) {&#10;			this.send('trigger', (counter-this.getParameter('streetLength'))*3);&#10;		} else {&#10;			while (queue.length != 0) {&#10;				this.send('output', queue.pop());&#10;			}&#10;		}*/&#10;	});&#10;}">
                    <property name="style" class="ptolemy.actor.gui.style.NoteStyle">
                        <property name="note" class="ptolemy.kernel.util.StringAttribute" value="NOTE: To see the script, invoke Open Actor">
                        </property>
                    </property>
                </property>
                <property name="_tableauFactory" class="ptolemy.vergil.toolbox.TextEditorTableauFactory">
                    <property name="attributeName" class="ptolemy.kernel.util.StringAttribute" value="script">
                    </property>
                    <property name="syntaxStyle" class="ptolemy.kernel.util.StringAttribute" value="text/javascript">
                    </property>
                </property>
                <property name="_location" class="ptolemy.kernel.util.Location" value="[530.0, 600.0]">
                </property>
                <property name="_hideName" class="ptolemy.data.expr.SingletonParameter" value="true">
                </property>
                <property name="_flipPortsVertical" class="ptolemy.data.expr.Parameter" value="true">
                </property>
                <property name="analysisFlag" class="ptolemy.data.expr.Parameter" value="analysisFlag">
                </property>
                <property name="streetLength" class="ptolemy.data.expr.Parameter" value="streetLength">
                </property>
                <port name="input" class="ptolemy.actor.TypedIOPort">
                    <property name="input"/>
                </port>
                <port name="output" class="ptolemy.actor.TypedIOPort">
                    <property name="output"/>
                </port>
                <port name="display" class="ptolemy.actor.TypedIOPort">
                    <property name="output"/>
                    <property name="_cardinal" class="ptolemy.kernel.util.StringAttribute" value="NORTH">
                    </property>
                    <property name="_type" class="ptolemy.actor.TypeAttribute" value="double">
                    </property>
                </port>
                <port name="trigger" class="ptolemy.actor.TypedIOPort">
                    <property name="output"/>
                </port>
                <port name="counter" class="ptolemy.actor.TypedIOPort">
                    <property name="input"/>
                    <property name="_type" class="ptolemy.actor.TypeAttribute" value="double">
                    </property>
                </port>
            </entity>
            <entity name="Queue" class="ptolemy.domains.de.lib.Queue">
                <property name="capacity" class="ptolemy.data.expr.Parameter" value="10">
                </property>
                <property name="persistentTrigger" class="ptolemy.data.expr.Parameter" value="true">
                </property>
                <property name="_location" class="ptolemy.kernel.util.Location" value="[190.0, 455.0]">
                </property>
            </entity>
            <entity name="Queue2" class="ptolemy.domains.de.lib.Queue">
                <property name="_location" class="ptolemy.kernel.util.Location" value="{187.8914925102946, 620.4811694530187}">
                </property>
            </entity>
            <entity name="TimeDelay3" class="ptolemy.actor.lib.TimeDelay">
                <property name="delay" class="ptolemy.actor.parameters.PortParameter" value="1">
                </property>
                <property name="_location" class="ptolemy.kernel.util.Location" value="{267.3117148241206, 692.9343958715698}">
                </property>
                <property name="_flipPortsHorizontal" class="ptolemy.data.expr.Parameter" value="true">
                </property>
            </entity>
            <entity name="TimeDelay4" class="ptolemy.actor.lib.TimeDelay">
                <property name="delay" class="ptolemy.actor.parameters.PortParameter" value="1">
                </property>
                <property name="_location" class="ptolemy.kernel.util.Location" value="[270.0, 515.0]">
                </property>
                <property name="_flipPortsHorizontal" class="ptolemy.data.expr.Parameter" value="true">
                </property>
            </entity>
            <entity name="PoissonClock" class="ptolemy.actor.lib.PoissonClock">
                <property name="meanTime" class="ptolemy.data.expr.Parameter" value="0.5">
                </property>
                <property name="stopTime" class="ptolemy.data.expr.Parameter" value="1">
                </property>
                <property name="_location" class="ptolemy.kernel.util.Location" value="[20.0, 525.0]">
                </property>
            </entity>
            <entity name="PoissonClock2" class="ptolemy.actor.lib.PoissonClock">
                <property name="meanTime" class="ptolemy.data.expr.Parameter" value="0.5">
                </property>
                <property name="stopTime" class="ptolemy.data.expr.Parameter" value="1">
                </property>
                <property name="_location" class="ptolemy.kernel.util.Location" value="[10.0, 755.0]">
                </property>
            </entity>
            <entity name="JavaScript" class="ptolemy.actor.lib.jjs.JavaScript">
                <property name="_windowProperties" class="ptolemy.actor.gui.WindowPropertiesAttribute">
                </property>
                <property name="_paneSize" class="ptolemy.actor.gui.SizeAttribute">
                </property>
                <property name="script" class="ptolemy.actor.parameters.PortParameter" value="var queueSize = 0;&#10;&#10;exports.setup = function () {&#10;	//the Input-ports for the incoming cars&#10;    this.input('input');&#10;    this.input('clock');&#10;    &#10;    //the Output-ports for the leaving cars&#10;    this.output('output');&#10;}&#10;&#10;exports.initialize = function () {&#10;	&#10;	this.addInputHandler('input', function() {&#10;		queueSize = this.get('input');&#10;	});&#10;	&#10;	this.addInputHandler('clock', function() {&#10;		if(queueSize == 0) {&#10;			this.send('output', true);&#10;		}&#10;	});&#10;}">
                    <property name="style" class="ptolemy.actor.gui.style.NoteStyle">
                        <property name="note" class="ptolemy.kernel.util.StringAttribute" value="NOTE: To see the script, invoke Open Actor">
                        </property>
                    </property>
                </property>
                <property name="_tableauFactory" class="ptolemy.vergil.toolbox.TextEditorTableauFactory">
                    <property name="attributeName" class="ptolemy.kernel.util.StringAttribute" value="script">
                    </property>
                    <property name="syntaxStyle" class="ptolemy.kernel.util.StringAttribute" value="text/javascript">
                    </property>
                </property>
                <property name="_location" class="ptolemy.kernel.util.Location" value="[110.0, 755.0]">
                </property>
                <property name="_flipPortsHorizontal" class="ptolemy.data.expr.Parameter" value="false">
                </property>
                <port name="input" class="ptolemy.actor.TypedIOPort">
                    <property name="input"/>
                    <property name="_cardinal" class="ptolemy.kernel.util.StringAttribute" value="NORTH">
                    </property>
                </port>
                <port name="output" class="ptolemy.actor.TypedIOPort">
                    <property name="output"/>
                </port>
                <port name="clock" class="ptolemy.actor.TypedIOPort">
                    <property name="input"/>
                </port>
            </entity>
            <entity name="JavaScript2" class="ptolemy.actor.lib.jjs.JavaScript">
                <property name="_windowProperties" class="ptolemy.actor.gui.WindowPropertiesAttribute">
                </property>
                <property name="_paneSize" class="ptolemy.actor.gui.SizeAttribute">
                </property>
                <property name="script" class="ptolemy.actor.parameters.PortParameter" value="var queueSize = 0;&#10;&#10;exports.setup = function () {&#10;	//the Input-ports for the incoming cars&#10;    this.input('input');&#10;    this.input('clock');&#10;    &#10;    //the Output-ports for the leaving cars&#10;    this.output('output');&#10;}&#10;&#10;exports.initialize = function () {&#10;	&#10;	this.addInputHandler('input', function() {&#10;		queueSize = this.get('input');&#10;	});&#10;	&#10;	this.addInputHandler('clock', function() {&#10;		if(queueSize == 0) {&#10;			this.send('output', true);&#10;		}&#10;	});&#10;}">
                    <property name="style" class="ptolemy.actor.gui.style.NoteStyle">
                        <property name="note" class="ptolemy.kernel.util.StringAttribute" value="NOTE: To see the script, invoke Open Actor">
                        </property>
                    </property>
                </property>
                <property name="_tableauFactory" class="ptolemy.vergil.toolbox.TextEditorTableauFactory">
                    <property name="attributeName" class="ptolemy.kernel.util.StringAttribute" value="script">
                    </property>
                    <property name="syntaxStyle" class="ptolemy.kernel.util.StringAttribute" value="text/javascript">
                    </property>
                </property>
                <property name="_location" class="ptolemy.kernel.util.Location" value="[110.0, 555.0]">
                </property>
                <property name="_flipPortsHorizontal" class="ptolemy.data.expr.Parameter" value="false">
                </property>
                <port name="input" class="ptolemy.actor.TypedIOPort">
                    <property name="input"/>
                    <property name="_cardinal" class="ptolemy.kernel.util.StringAttribute" value="NORTH">
                    </property>
                </port>
                <port name="output" class="ptolemy.actor.TypedIOPort">
                    <property name="output"/>
                </port>
                <port name="clock" class="ptolemy.actor.TypedIOPort">
                    <property name="input"/>
                </port>
            </entity>
            <entity name="TimeDelay5" class="ptolemy.actor.lib.TimeDelay">
                <property name="delay" class="ptolemy.actor.parameters.PortParameter" value="1">
                </property>
                <property name="_location" class="ptolemy.kernel.util.Location" value="{102.8625157035176, 472.1470214997105}">
                </property>
                <property name="_flipPortsHorizontal" class="ptolemy.data.expr.Parameter" value="true">
                </property>
            </entity>
            <entity name="TimeDelay6" class="ptolemy.actor.lib.TimeDelay">
                <property name="delay" class="ptolemy.actor.parameters.PortParameter" value="1">
                </property>
                <property name="_location" class="ptolemy.kernel.util.Location" value="{104.8625157035176, 648.1470214997105}">
                </property>
                <property name="_flipPortsHorizontal" class="ptolemy.data.expr.Parameter" value="true">
                </property>
            </entity>
            <relation name="relation4" class="ptolemy.actor.TypedIORelation">
            </relation>
            <relation name="relation9" class="ptolemy.actor.TypedIORelation">
                <property name="width" class="ptolemy.data.expr.Parameter" value="-1">
                </property>
                <vertex name="vertex1" value="[285.0, 455.0]">
                </vertex>
            </relation>
            <relation name="relation" class="ptolemy.actor.TypedIORelation">
                <property name="width" class="ptolemy.data.expr.Parameter" value="-1">
                </property>
                <vertex name="vertex1" value="[460.0, 455.0]">
                </vertex>
            </relation>
            <relation name="relation11" class="ptolemy.actor.TypedIORelation">
                <property name="width" class="ptolemy.data.expr.Parameter" value="-1">
                </property>
                <vertex name="vertex1" value="{295.0, 620.0}">
                </vertex>
            </relation>
            <relation name="relation3" class="ptolemy.actor.TypedIORelation">
                <property name="width" class="ptolemy.data.expr.Parameter" value="-1">
                </property>
                <vertex name="vertex1" value="{465.0, 620.0}">
                </vertex>
            </relation>
            <relation name="relation2" class="ptolemy.actor.TypedIORelation">
            </relation>
            <relation name="relation5" class="ptolemy.actor.TypedIORelation">
            </relation>
            <relation name="relation6" class="ptolemy.actor.TypedIORelation">
            </relation>
            <relation name="relation7" class="ptolemy.actor.TypedIORelation">
            </relation>
            <relation name="relation10" class="ptolemy.actor.TypedIORelation">
            </relation>
            <relation name="relation13" class="ptolemy.actor.TypedIORelation">
            </relation>
            <relation name="relation14" class="ptolemy.actor.TypedIORelation">
            </relation>
            <relation name="relation15" class="ptolemy.actor.TypedIORelation">
            </relation>
            <relation name="relation8" class="ptolemy.actor.TypedIORelation">
            </relation>
            <relation name="relation16" class="ptolemy.actor.TypedIORelation">
            </relation>
            <relation name="relation12" class="ptolemy.actor.TypedIORelation">
            </relation>
            <relation name="relation17" class="ptolemy.actor.TypedIORelation">
            </relation>
            <relation name="relation20" class="ptolemy.actor.TypedIORelation">
            </relation>
            <relation name="relation18" class="ptolemy.actor.TypedIORelation">
            </relation>
            <relation name="relation22" class="ptolemy.actor.TypedIORelation">
            </relation>
            <relation name="relation21" class="ptolemy.actor.TypedIORelation">
            </relation>
            <relation name="relation23" class="ptolemy.actor.TypedIORelation">
            </relation>
            <relation name="relation19" class="ptolemy.actor.TypedIORelation">
            </relation>
            <relation name="relation24" class="ptolemy.actor.TypedIORelation">
            </relation>
            <link port="left-right-input" relation="relation13"/>
            <link port="left-right-output" relation="relation4"/>
            <link port="right-left-input" relation="relation14"/>
            <link port="right-left-output" relation="relation10"/>
            <link port="TimeDelay.input" relation="relation9"/>
            <link port="TimeDelay.output" relation="relation"/>
            <link port="TimeDelay2.input" relation="relation11"/>
            <link port="TimeDelay2.output" relation="relation3"/>
            <link port="counter.input" relation="relation"/>
            <link port="counter.output" relation="relation4"/>
            <link port="counter.display" relation="relation5"/>
            <link port="counter.trigger" relation="relation16"/>
            <link port="counter.counter" relation="relation2"/>
            <link port="TimedPlotter.input" relation="relation5"/>
            <link port="TimedPlotter.input" relation="relation7"/>
            <link port="Counter.increment" relation="relation9"/>
            <link port="Counter.decrement" relation="relation"/>
            <link port="Counter.output" relation="relation2"/>
            <link port="Counter2.increment" relation="relation11"/>
            <link port="Counter2.decrement" relation="relation3"/>
            <link port="Counter2.output" relation="relation6"/>
            <link port="counter3.input" relation="relation3"/>
            <link port="counter3.output" relation="relation10"/>
            <link port="counter3.display" relation="relation7"/>
            <link port="counter3.trigger" relation="relation15"/>
            <link port="counter3.counter" relation="relation6"/>
            <link port="Queue.input" relation="relation13"/>
            <link port="Queue.output" relation="relation9"/>
            <link port="Queue.trigger" relation="relation8"/>
            <link port="Queue.trigger" relation="relation22"/>
            <link port="Queue.size" relation="relation21"/>
            <link port="Queue2.input" relation="relation14"/>
            <link port="Queue2.output" relation="relation11"/>
            <link port="Queue2.trigger" relation="relation12"/>
            <link port="Queue2.trigger" relation="relation20"/>
            <link port="Queue2.size" relation="relation19"/>
            <link port="TimeDelay3.input" relation="relation15"/>
            <link port="TimeDelay3.output" relation="relation12"/>
            <link port="TimeDelay4.input" relation="relation16"/>
            <link port="TimeDelay4.output" relation="relation8"/>
            <link port="PoissonClock.output" relation="relation18"/>
            <link port="PoissonClock2.output" relation="relation17"/>
            <link port="JavaScript.input" relation="relation24"/>
            <link port="JavaScript.output" relation="relation20"/>
            <link port="JavaScript.clock" relation="relation17"/>
            <link port="JavaScript2.input" relation="relation23"/>
            <link port="JavaScript2.output" relation="relation22"/>
            <link port="JavaScript2.clock" relation="relation18"/>
            <link port="TimeDelay5.input" relation="relation21"/>
            <link port="TimeDelay5.output" relation="relation23"/>
            <link port="TimeDelay6.input" relation="relation19"/>
            <link port="TimeDelay6.output" relation="relation24"/>
        </entity>
        <relation name="relation5" class="ptolemy.actor.TypedIORelation">
            <property name="_layoutHint" class="ptolemy.vergil.actor.LayoutHint" value="{ { head={id=&quot;leftRightInput._location&quot;,x=15.0,y=255.0}, tail={id=&quot;TimeDelay.input&quot;,x=145.0,y=255.0}, points={} } }">
            </property>
        </relation>
        <relation name="relation6" class="ptolemy.actor.TypedIORelation">
        </relation>
        <relation name="relation3" class="ptolemy.actor.TypedIORelation">
            <property name="_layoutHint" class="ptolemy.vergil.actor.LayoutHint" value="{ { head={id=&quot;Street2.right-left-input&quot;,x=270.0,y=265.0}, tail={id=&quot;TimeDelay2.output&quot;,x=385.0,y=275.0}, points={} } }">
            </property>
        </relation>
        <relation name="relation" class="ptolemy.actor.TypedIORelation">
            <property name="_layoutHint" class="ptolemy.vergil.actor.LayoutHint" value="{ { head={id=&quot;Street2.left-right-input&quot;,x=270.0,y=265.0}, tail={id=&quot;TimeDelay.output&quot;,x=145.0,y=255.0}, points={} } }">
            </property>
        </relation>
        <relation name="relation8" class="ptolemy.actor.TypedIORelation">
            <property name="_layoutHint" class="ptolemy.vergil.actor.LayoutHint" value="{ { head={id=&quot;leftRightOutput._location&quot;,x=355.0,y=205.0}, tail={id=&quot;Street2.left-right-output&quot;,x=270.0,y=265.0}, points={320.0,205.0,320.0,255.0} } }">
            </property>
        </relation>
        <relation name="relation7" class="ptolemy.actor.TypedIORelation">
        </relation>
        <link port="leftRightInput" relation="relation5"/>
        <link port="leftRightOutput" relation="relation8"/>
        <link port="rightLeftInput" relation="relation6"/>
        <link port="rightLeftOutput" relation="relation7"/>
        <link port="TimeDelay.input" relation="relation5"/>
        <link port="TimeDelay.output" relation="relation"/>
        <link port="TimeDelay2.input" relation="relation6"/>
        <link port="TimeDelay2.output" relation="relation3"/>
        <link port="Street2.left-right-input" relation="relation"/>
        <link port="Street2.left-right-output" relation="relation8"/>
        <link port="Street2.right-left-input" relation="relation3"/>
        <link port="Street2.right-left-output" relation="relation7"/>
    </entity>
    <entity name="Road4" class="ptolemy.actor.TypedCompositeActor">
        <property name="_location" class="ptolemy.kernel.util.Location" value="[425.0, 270.0]">
        </property>
        <property name="_windowProperties" class="ptolemy.actor.gui.WindowPropertiesAttribute" value="{bounds={174, 129, 928, 617}, maximized=false}">
        </property>
        <property name="_vergilSize" class="ptolemy.actor.gui.SizeAttribute" value="[700, 500]">
        </property>
        <property name="_vergilZoomFactor" class="ptolemy.data.expr.ExpertParameter" value="1.0">
        </property>
        <property name="_vergilCenter" class="ptolemy.data.expr.ExpertParameter" value="{246.40059673366832, 253.38222361809045}">
        </property>
        <property name="_icon" class="ptolemy.vergil.icon.EditorIcon">
            <property name="rectangle" class="ptolemy.vergil.kernel.attributes.RectangleAttribute">
                <property name="_location" class="ptolemy.kernel.util.Location" value="{0, 0}">
                </property>
                <property name="width" class="ptolemy.data.expr.Parameter" value="60">
                </property>
                <property name="height" class="ptolemy.data.expr.Parameter" value="40">
                </property>
                <property name="centered" class="ptolemy.data.expr.Parameter" value="true">
                </property>
                <property name="fillColor" class="ptolemy.actor.gui.ColorAttribute" value="{1.0, 1.0, 1.0, 1.0}">
                </property>
            </property>
            <property name="Annotation" class="ptolemy.vergil.kernel.attributes.TextAttribute">
                <property name="textColor" class="ptolemy.actor.gui.ColorAttribute" value="{0.0, 0.0, 0.0, 1.0}">
                </property>
                <property name="text" class="ptolemy.kernel.util.StringAttribute" value="- - - - - -">
                </property>
                <property name="_location" class="ptolemy.kernel.util.Location" value="[-28.0, -4.0]">
                </property>
            </property>
            <property name="_windowProperties" class="ptolemy.actor.gui.WindowPropertiesAttribute" value="{bounds={219, 75, 928, 617}, maximized=false}">
            </property>
            <property name="_vergilSize" class="ptolemy.actor.gui.SizeAttribute" value="[700, 500]">
            </property>
            <property name="_vergilZoomFactor" class="ptolemy.data.expr.ExpertParameter" value="4.0">
            </property>
            <property name="_vergilCenter" class="ptolemy.data.expr.ExpertParameter" value="{12.5, 6.25}">
            </property>
        </property>
        <property name="streetLength" class="ptolemy.data.expr.Parameter" value="4">
        </property>
        <property name="duration" class="ptolemy.data.expr.Parameter" value="4">
        </property>
        <property name="analysisFlag" class="ptolemy.data.expr.Parameter" value="StreetPlotterFlag">
        </property>
        <port name="leftRightInput" class="ptolemy.actor.TypedIOPort">
            <property name="input"/>
            <property name="_location" class="ptolemy.kernel.util.Location" value="{15.0, 255.0}">
            </property>
            <property name="_cardinal" class="ptolemy.kernel.util.StringAttribute" value="WEST">
            </property>
        </port>
        <port name="leftRightOutput" class="ptolemy.actor.TypedIOPort">
            <property name="output"/>
            <property name="_location" class="ptolemy.kernel.util.Location" value="{355.0, 205.0}">
            </property>
            <property name="_cardinal" class="ptolemy.kernel.util.StringAttribute" value="EAST">
            </property>
        </port>
        <port name="rightLeftInput" class="ptolemy.actor.TypedIOPort">
            <property name="input"/>
            <property name="_location" class="ptolemy.kernel.util.Location" value="[490.0, 220.0]">
            </property>
            <property name="_cardinal" class="ptolemy.kernel.util.StringAttribute" value="EAST">
            </property>
        </port>
        <port name="rightLeftOutput" class="ptolemy.actor.TypedIOPort">
            <property name="output"/>
            <property name="_location" class="ptolemy.kernel.util.Location" value="[225.0, 350.0]">
            </property>
            <property name="_cardinal" class="ptolemy.kernel.util.StringAttribute" value="WEST">
            </property>
        </port>
        <entity name="TimeDelay" class="ptolemy.actor.lib.TimeDelay">
            <property name="delay" class="ptolemy.actor.parameters.PortParameter" value="1">
            </property>
            <property name="_location" class="ptolemy.kernel.util.Location" value="{145.0, 255.0}">
            </property>
            <port name="delay" class="ptolemy.actor.parameters.ParameterPort">
                <property name="input"/>
                <property name="_type" class="ptolemy.actor.TypeAttribute" value="double">
                </property>
            </port>
        </entity>
        <entity name="TimeDelay2" class="ptolemy.actor.lib.TimeDelay">
            <property name="delay" class="ptolemy.actor.parameters.PortParameter" value="1">
            </property>
            <property name="_location" class="ptolemy.kernel.util.Location" value="{385.0, 275.0}">
            </property>
            <property name="_flipPortsHorizontal" class="ptolemy.data.expr.Parameter" value="true">
            </property>
            <port name="delay" class="ptolemy.actor.parameters.ParameterPort">
                <property name="input"/>
                <property name="_type" class="ptolemy.actor.TypeAttribute" value="double">
                </property>
            </port>
        </entity>
        <entity name="Street2" class="ptolemy.actor.TypedCompositeActor">
            <property name="_location" class="ptolemy.kernel.util.Location" value="{270.0, 265.0}">
            </property>
            <property name="_icon" class="ptolemy.vergil.icon.EditorIcon">
                <property name="rectangle" class="ptolemy.vergil.kernel.attributes.RectangleAttribute">
                    <property name="_location" class="ptolemy.kernel.util.Location" value="-0.5, 0.5">
                    </property>
                    <property name="width" class="ptolemy.data.expr.Parameter" value="41.0">
                    </property>
                    <property name="height" class="ptolemy.data.expr.Parameter" value="21.0">
                    </property>
                    <property name="centered" class="ptolemy.data.expr.Parameter" value="true">
                    </property>
                    <property name="fillColor" class="ptolemy.actor.gui.ColorAttribute" value="{1.0, 1.0, 1.0, 1.0}">
                    </property>
                    <property name="_renderFirst" class="ptolemy.kernel.util.SingletonAttribute">
                    </property>
                </property>
                <property name="line" class="ptolemy.vergil.kernel.attributes.LineAttribute">
                    <property name="_location" class="ptolemy.kernel.util.Location" value="[-20.0, -10.0]">
                    </property>
                    <property name="x" class="ptolemy.data.expr.Parameter" value="40.0">
                    </property>
                    <property name="y" class="ptolemy.data.expr.Parameter" value="0.0">
                    </property>
                </property>
                <property name="line2" class="ptolemy.vergil.kernel.attributes.LineAttribute">
                    <property name="_location" class="ptolemy.kernel.util.Location" value="[-20.0, 11.0]">
                    </property>
                    <property name="x" class="ptolemy.data.expr.Parameter" value="40.0">
                    </property>
                    <property name="y" class="ptolemy.data.expr.Parameter" value="0.0">
                    </property>
                </property>
                <property name="Annotation" class="ptolemy.vergil.kernel.attributes.TextAttribute">
                    <property name="textColor" class="ptolemy.actor.gui.ColorAttribute" value="{0.0, 0.0, 0.0, 1.0}">
                    </property>
                    <property name="text" class="ptolemy.kernel.util.StringAttribute" value="- - - - -">
                    </property>
                    <property name="_location" class="ptolemy.kernel.util.Location" value="[-24.0, -4.0]">
                    </property>
                </property>
            </property>
            <property name="_windowProperties" class="ptolemy.actor.gui.WindowPropertiesAttribute" value="{bounds={610, 195, 928, 618}, maximized=false}">
            </property>
            <property name="_vergilSize" class="ptolemy.actor.gui.SizeAttribute" value="[700, 501]">
            </property>
            <property name="_vergilZoomFactor" class="ptolemy.data.expr.ExpertParameter" value="1.0">
            </property>
            <property name="_vergilCenter" class="ptolemy.data.expr.ExpertParameter" value="{265.8625157035176, 588.6470214997105}">
            </property>
            <property name="streetLength" class="ptolemy.data.expr.Parameter" value="streetLength">
            </property>
            <property name="analysisFlag" class="ptolemy.data.expr.Parameter" value="StreetPlotterFlag">
            </property>
            <property name="duration" class="ptolemy.data.expr.Parameter" value="duration">
            </property>
            <port name="left-right-input" class="ptolemy.actor.TypedIOPort">
                <property name="input"/>
                <property name="_cardinal" class="ptolemy.kernel.util.StringAttribute" value="WEST">
                </property>
                <property name="_location" class="ptolemy.kernel.util.Location" value="[10.0, 455.0]">
                </property>
                <property name="_type" class="ptolemy.actor.TypeAttribute" value="{carId = int, roadMap = arrayType(int), indicator = int, intersectionCount = int}">
                </property>
                <property name="_showName" class="ptolemy.data.expr.SingletonParameter" value="false">
                </property>
            </port>
            <port name="left-right-output" class="ptolemy.actor.TypedIOPort">
                <property name="output"/>
                <property name="_cardinal" class="ptolemy.kernel.util.StringAttribute" value="EAST">
                </property>
                <property name="_location" class="ptolemy.kernel.util.Location" value="[665.0, 435.0]">
                </property>
                <property name="_type" class="ptolemy.actor.TypeAttribute" value="{carId = int, roadMap = arrayType(int), indicator = int, intersectionCount = int}">
                </property>
                <property name="_showName" class="ptolemy.data.expr.SingletonParameter" value="false">
                </property>
            </port>
            <port name="right-left-input" class="ptolemy.actor.TypedIOPort">
                <property name="input"/>
                <property name="_cardinal" class="ptolemy.kernel.util.StringAttribute" value="EAST">
                </property>
                <property name="_location" class="ptolemy.kernel.util.Location" value="[10.0, 620.0]">
                </property>
                <property name="_type" class="ptolemy.actor.TypeAttribute" value="{carId = int, roadMap = arrayType(int), indicator = int, intersectionCount = int}">
                </property>
                <property name="_showName" class="ptolemy.data.expr.SingletonParameter" value="false">
                </property>
            </port>
            <port name="right-left-output" class="ptolemy.actor.TypedIOPort">
                <property name="output"/>
                <property name="_cardinal" class="ptolemy.kernel.util.StringAttribute" value="WEST">
                </property>
                <property name="_location" class="ptolemy.kernel.util.Location" value="[660.0, 600.0]">
                </property>
                <property name="_type" class="ptolemy.actor.TypeAttribute" value="{carId = int, roadMap = arrayType(int), indicator = int, intersectionCount = int}">
                </property>
                <property name="_showName" class="ptolemy.data.expr.SingletonParameter" value="false">
                </property>
            </port>
            <entity name="TimeDelay" class="ptolemy.actor.lib.TimeDelay">
                <property name="delay" class="ptolemy.actor.parameters.PortParameter" value="duration">
                </property>
                <property name="_location" class="ptolemy.kernel.util.Location" value="[370.0, 455.0]">
                </property>
            </entity>
            <entity name="TimeDelay2" class="ptolemy.actor.lib.TimeDelay">
                <property name="delay" class="ptolemy.actor.parameters.PortParameter" value="duration">
                </property>
                <property name="_location" class="ptolemy.kernel.util.Location" value="[385.0, 620.0]">
                </property>
            </entity>
            <entity name="counter" class="ptolemy.actor.lib.jjs.JavaScript">
                <property name="_windowProperties" class="ptolemy.actor.gui.WindowPropertiesAttribute">
                </property>
                <property name="_paneSize" class="ptolemy.actor.gui.SizeAttribute">
                </property>
                <property name="script" class="ptolemy.actor.parameters.PortParameter" value="// counter that simulates the street&#10;	var counter = 0;&#10;//queue to save the waiting cars&#10;	var queue = [];&#10;&#10;exports.setup = function () {&#10;	//the Input-ports for the incoming cars&#10;    this.input('input');&#10;    this.input('counter');&#10;    &#10;    //the Output-ports for the leaving cars&#10;    this.output('output');&#10;    this.output('display');&#10;    this.output('trigger');&#10;}&#10;&#10;exports.initialize = function () {&#10;	&#10;	this.addInputHandler('input', function() {&#10;		this.send('output', this.get('input'));&#10;	});&#10;	&#10;	this.addInputHandler('counter', function() {&#10;		counter = this.get('counter');&#10;		&#10;		if (this.getParameter('analysisFlag') == 1) {&#10;			this.send('display', counter);&#10;		}&#10;		&#10;		if (counter &lt; this.getParameter('streetLength')) {&#10;			this.send('trigger', true);&#10;		} else {&#10;			// do nothing, street is full&#10;		}&#10;		&#10;		/*&#10;		if (counter &gt; this.getParameter('streetLength')) {&#10;			this.send('trigger', (counter-this.getParameter('streetLength'))*3);&#10;		} else {&#10;			while (queue.length != 0) {&#10;				this.send('output', queue.pop());&#10;			}&#10;		}*/&#10;	});&#10;}">
                    <property name="style" class="ptolemy.actor.gui.style.NoteStyle">
                        <property name="note" class="ptolemy.kernel.util.StringAttribute" value="NOTE: To see the script, invoke Open Actor">
                        </property>
                    </property>
                </property>
                <property name="_tableauFactory" class="ptolemy.vergil.toolbox.TextEditorTableauFactory">
                    <property name="attributeName" class="ptolemy.kernel.util.StringAttribute" value="script">
                    </property>
                    <property name="syntaxStyle" class="ptolemy.kernel.util.StringAttribute" value="text/javascript">
                    </property>
                </property>
                <property name="_location" class="ptolemy.kernel.util.Location" value="[555.0, 455.0]">
                </property>
                <property name="_hideName" class="ptolemy.data.expr.SingletonParameter" value="true">
                </property>
                <property name="_flipPortsVertical" class="ptolemy.data.expr.Parameter" value="true">
                </property>
                <property name="analysisFlag" class="ptolemy.data.expr.Parameter" value="analysisFlag">
                </property>
                <property name="streetLength" class="ptolemy.data.expr.Parameter" value="streetLength">
                </property>
                <port name="input" class="ptolemy.actor.TypedIOPort">
                    <property name="input"/>
                </port>
                <port name="output" class="ptolemy.actor.TypedIOPort">
                    <property name="output"/>
                </port>
                <port name="display" class="ptolemy.actor.TypedIOPort">
                    <property name="output"/>
                    <property name="_cardinal" class="ptolemy.kernel.util.StringAttribute" value="NORTH">
                    </property>
                    <property name="_type" class="ptolemy.actor.TypeAttribute" value="double">
                    </property>
                </port>
                <port name="trigger" class="ptolemy.actor.TypedIOPort">
                    <property name="output"/>
                </port>
                <port name="counter" class="ptolemy.actor.TypedIOPort">
                    <property name="input"/>
                    <property name="_type" class="ptolemy.actor.TypeAttribute" value="double">
                    </property>
                </port>
            </entity>
            <entity name="TimedPlotter" class="ptolemy.actor.lib.gui.TimedPlotter">
                <property name="legend" class="ptolemy.kernel.util.StringAttribute" value="counter: left-right, counter: right-left">
                </property>
                <property name="_windowProperties" class="ptolemy.actor.gui.WindowPropertiesAttribute" value="{bounds={278, 130, 687, 497}, maximized=false}">
                </property>
                <property name="_plotSize" class="ptolemy.actor.gui.SizeAttribute" value="[671, 437]">
                </property>
                <property name="_location" class="ptolemy.kernel.util.Location" value="[600.0, 540.0]">
                </property>
                <configure>
<?plotml <!DOCTYPE plot PUBLIC "-//UC Berkeley//DTD PlotML 1//EN"
"http://ptolemy.eecs.berkeley.edu/xml/dtd/PlotML_1.dtd">
<plot>
<title>TimedPlotter</title>
<xLabel></xLabel>
<yLabel></yLabel>
<xRange min="1.7976931348623157E308" max="-1.7976931348623157E308"/>
<yRange min="1.7976931348623157E308" max="-1.7976931348623157E308"/>
</plot>?>
                </configure>
            </entity>
            <entity name="Counter" class="ptolemy.actor.lib.Counter">
                <property name="_location" class="ptolemy.kernel.util.Location" value="[440.66734313964844, 330.9227752685547]">
                </property>
            </entity>
            <entity name="Counter2" class="ptolemy.actor.lib.Counter">
                <property name="_location" class="ptolemy.kernel.util.Location" value="{444.3317368090452, 733.3371125801125}">
                </property>
            </entity>
            <entity name="counter3" class="ptolemy.actor.lib.jjs.JavaScript">
                <property name="_windowProperties" class="ptolemy.actor.gui.WindowPropertiesAttribute">
                </property>
                <property name="_paneSize" class="ptolemy.actor.gui.SizeAttribute">
                </property>
                <property name="script" class="ptolemy.actor.parameters.PortParameter" value="// counter that simulates the street&#10;	var counter = 0;&#10;//queue to save the waiting cars&#10;	var queue = [];&#10;&#10;exports.setup = function () {&#10;	//the Input-ports for the incoming cars&#10;    this.input('input');&#10;    this.input('counter');&#10;    &#10;    //the Output-ports for the leaving cars&#10;    this.output('output');&#10;    this.output('display');&#10;    this.output('trigger');&#10;}&#10;&#10;exports.initialize = function () {&#10;	&#10;	this.addInputHandler('input', function() {&#10;		this.send('output', this.get('input'));&#10;	});&#10;	&#10;	this.addInputHandler('counter', function() {&#10;		counter = this.get('counter');&#10;		&#10;		if (this.getParameter('analysisFlag') == 1) {&#10;			this.send('display', counter);&#10;		}&#10;		&#10;		if (counter &lt; this.getParameter('streetLength')) {&#10;			this.send('trigger', counter);&#10;		} else {&#10;			// do nothing, street is full&#10;		}&#10;		&#10;		/*&#10;		if (counter &gt; this.getParameter('streetLength')) {&#10;			this.send('trigger', (counter-this.getParameter('streetLength'))*3);&#10;		} else {&#10;			while (queue.length != 0) {&#10;				this.send('output', queue.pop());&#10;			}&#10;		}*/&#10;	});&#10;}">
                    <property name="style" class="ptolemy.actor.gui.style.NoteStyle">
                        <property name="note" class="ptolemy.kernel.util.StringAttribute" value="NOTE: To see the script, invoke Open Actor">
                        </property>
                    </property>
                </property>
                <property name="_tableauFactory" class="ptolemy.vergil.toolbox.TextEditorTableauFactory">
                    <property name="attributeName" class="ptolemy.kernel.util.StringAttribute" value="script">
                    </property>
                    <property name="syntaxStyle" class="ptolemy.kernel.util.StringAttribute" value="text/javascript">
                    </property>
                </property>
                <property name="_location" class="ptolemy.kernel.util.Location" value="[530.0, 600.0]">
                </property>
                <property name="_hideName" class="ptolemy.data.expr.SingletonParameter" value="true">
                </property>
                <property name="_flipPortsVertical" class="ptolemy.data.expr.Parameter" value="true">
                </property>
                <property name="analysisFlag" class="ptolemy.data.expr.Parameter" value="analysisFlag">
                </property>
                <property name="streetLength" class="ptolemy.data.expr.Parameter" value="streetLength">
                </property>
                <port name="input" class="ptolemy.actor.TypedIOPort">
                    <property name="input"/>
                </port>
                <port name="output" class="ptolemy.actor.TypedIOPort">
                    <property name="output"/>
                </port>
                <port name="display" class="ptolemy.actor.TypedIOPort">
                    <property name="output"/>
                    <property name="_cardinal" class="ptolemy.kernel.util.StringAttribute" value="NORTH">
                    </property>
                    <property name="_type" class="ptolemy.actor.TypeAttribute" value="double">
                    </property>
                </port>
                <port name="trigger" class="ptolemy.actor.TypedIOPort">
                    <property name="output"/>
                </port>
                <port name="counter" class="ptolemy.actor.TypedIOPort">
                    <property name="input"/>
                    <property name="_type" class="ptolemy.actor.TypeAttribute" value="double">
                    </property>
                </port>
            </entity>
            <entity name="Queue" class="ptolemy.domains.de.lib.Queue">
                <property name="capacity" class="ptolemy.data.expr.Parameter" value="10">
                </property>
                <property name="persistentTrigger" class="ptolemy.data.expr.Parameter" value="true">
                </property>
                <property name="_location" class="ptolemy.kernel.util.Location" value="[190.0, 455.0]">
                </property>
            </entity>
            <entity name="Queue2" class="ptolemy.domains.de.lib.Queue">
                <property name="_location" class="ptolemy.kernel.util.Location" value="{187.8914925102946, 620.4811694530187}">
                </property>
            </entity>
            <entity name="TimeDelay3" class="ptolemy.actor.lib.TimeDelay">
                <property name="delay" class="ptolemy.actor.parameters.PortParameter" value="1">
                </property>
                <property name="_location" class="ptolemy.kernel.util.Location" value="{267.3117148241206, 692.9343958715698}">
                </property>
                <property name="_flipPortsHorizontal" class="ptolemy.data.expr.Parameter" value="true">
                </property>
            </entity>
            <entity name="TimeDelay4" class="ptolemy.actor.lib.TimeDelay">
                <property name="delay" class="ptolemy.actor.parameters.PortParameter" value="1">
                </property>
                <property name="_location" class="ptolemy.kernel.util.Location" value="[270.0, 515.0]">
                </property>
                <property name="_flipPortsHorizontal" class="ptolemy.data.expr.Parameter" value="true">
                </property>
            </entity>
            <entity name="PoissonClock" class="ptolemy.actor.lib.PoissonClock">
                <property name="meanTime" class="ptolemy.data.expr.Parameter" value="0.5">
                </property>
                <property name="stopTime" class="ptolemy.data.expr.Parameter" value="1">
                </property>
                <property name="_location" class="ptolemy.kernel.util.Location" value="[20.0, 525.0]">
                </property>
            </entity>
            <entity name="PoissonClock2" class="ptolemy.actor.lib.PoissonClock">
                <property name="meanTime" class="ptolemy.data.expr.Parameter" value="0.5">
                </property>
                <property name="stopTime" class="ptolemy.data.expr.Parameter" value="1">
                </property>
                <property name="_location" class="ptolemy.kernel.util.Location" value="[10.0, 755.0]">
                </property>
            </entity>
            <entity name="JavaScript" class="ptolemy.actor.lib.jjs.JavaScript">
                <property name="_windowProperties" class="ptolemy.actor.gui.WindowPropertiesAttribute">
                </property>
                <property name="_paneSize" class="ptolemy.actor.gui.SizeAttribute">
                </property>
                <property name="script" class="ptolemy.actor.parameters.PortParameter" value="var queueSize = 0;&#10;&#10;exports.setup = function () {&#10;	//the Input-ports for the incoming cars&#10;    this.input('input');&#10;    this.input('clock');&#10;    &#10;    //the Output-ports for the leaving cars&#10;    this.output('output');&#10;}&#10;&#10;exports.initialize = function () {&#10;	&#10;	this.addInputHandler('input', function() {&#10;		queueSize = this.get('input');&#10;	});&#10;	&#10;	this.addInputHandler('clock', function() {&#10;		if(queueSize == 0) {&#10;			this.send('output', true);&#10;		}&#10;	});&#10;}">
                    <property name="style" class="ptolemy.actor.gui.style.NoteStyle">
                        <property name="note" class="ptolemy.kernel.util.StringAttribute" value="NOTE: To see the script, invoke Open Actor">
                        </property>
                    </property>
                </property>
                <property name="_tableauFactory" class="ptolemy.vergil.toolbox.TextEditorTableauFactory">
                    <property name="attributeName" class="ptolemy.kernel.util.StringAttribute" value="script">
                    </property>
                    <property name="syntaxStyle" class="ptolemy.kernel.util.StringAttribute" value="text/javascript">
                    </property>
                </property>
                <property name="_location" class="ptolemy.kernel.util.Location" value="[110.0, 755.0]">
                </property>
                <property name="_flipPortsHorizontal" class="ptolemy.data.expr.Parameter" value="false">
                </property>
                <port name="input" class="ptolemy.actor.TypedIOPort">
                    <property name="input"/>
                    <property name="_cardinal" class="ptolemy.kernel.util.StringAttribute" value="NORTH">
                    </property>
                </port>
                <port name="output" class="ptolemy.actor.TypedIOPort">
                    <property name="output"/>
                </port>
                <port name="clock" class="ptolemy.actor.TypedIOPort">
                    <property name="input"/>
                </port>
            </entity>
            <entity name="JavaScript2" class="ptolemy.actor.lib.jjs.JavaScript">
                <property name="_windowProperties" class="ptolemy.actor.gui.WindowPropertiesAttribute">
                </property>
                <property name="_paneSize" class="ptolemy.actor.gui.SizeAttribute">
                </property>
                <property name="script" class="ptolemy.actor.parameters.PortParameter" value="var queueSize = 0;&#10;&#10;exports.setup = function () {&#10;	//the Input-ports for the incoming cars&#10;    this.input('input');&#10;    this.input('clock');&#10;    &#10;    //the Output-ports for the leaving cars&#10;    this.output('output');&#10;}&#10;&#10;exports.initialize = function () {&#10;	&#10;	this.addInputHandler('input', function() {&#10;		queueSize = this.get('input');&#10;	});&#10;	&#10;	this.addInputHandler('clock', function() {&#10;		if(queueSize == 0) {&#10;			this.send('output', true);&#10;		}&#10;	});&#10;}">
                    <property name="style" class="ptolemy.actor.gui.style.NoteStyle">
                        <property name="note" class="ptolemy.kernel.util.StringAttribute" value="NOTE: To see the script, invoke Open Actor">
                        </property>
                    </property>
                </property>
                <property name="_tableauFactory" class="ptolemy.vergil.toolbox.TextEditorTableauFactory">
                    <property name="attributeName" class="ptolemy.kernel.util.StringAttribute" value="script">
                    </property>
                    <property name="syntaxStyle" class="ptolemy.kernel.util.StringAttribute" value="text/javascript">
                    </property>
                </property>
                <property name="_location" class="ptolemy.kernel.util.Location" value="[110.0, 555.0]">
                </property>
                <property name="_flipPortsHorizontal" class="ptolemy.data.expr.Parameter" value="false">
                </property>
                <port name="input" class="ptolemy.actor.TypedIOPort">
                    <property name="input"/>
                    <property name="_cardinal" class="ptolemy.kernel.util.StringAttribute" value="NORTH">
                    </property>
                </port>
                <port name="output" class="ptolemy.actor.TypedIOPort">
                    <property name="output"/>
                </port>
                <port name="clock" class="ptolemy.actor.TypedIOPort">
                    <property name="input"/>
                </port>
            </entity>
            <entity name="TimeDelay5" class="ptolemy.actor.lib.TimeDelay">
                <property name="delay" class="ptolemy.actor.parameters.PortParameter" value="1">
                </property>
                <property name="_location" class="ptolemy.kernel.util.Location" value="{102.8625157035176, 472.1470214997105}">
                </property>
                <property name="_flipPortsHorizontal" class="ptolemy.data.expr.Parameter" value="true">
                </property>
            </entity>
            <entity name="TimeDelay6" class="ptolemy.actor.lib.TimeDelay">
                <property name="delay" class="ptolemy.actor.parameters.PortParameter" value="1">
                </property>
                <property name="_location" class="ptolemy.kernel.util.Location" value="{104.8625157035176, 648.1470214997105}">
                </property>
                <property name="_flipPortsHorizontal" class="ptolemy.data.expr.Parameter" value="true">
                </property>
            </entity>
            <relation name="relation4" class="ptolemy.actor.TypedIORelation">
            </relation>
            <relation name="relation9" class="ptolemy.actor.TypedIORelation">
                <property name="width" class="ptolemy.data.expr.Parameter" value="-1">
                </property>
                <vertex name="vertex1" value="[285.0, 455.0]">
                </vertex>
            </relation>
            <relation name="relation" class="ptolemy.actor.TypedIORelation">
                <property name="width" class="ptolemy.data.expr.Parameter" value="-1">
                </property>
                <vertex name="vertex1" value="[460.0, 455.0]">
                </vertex>
            </relation>
            <relation name="relation11" class="ptolemy.actor.TypedIORelation">
                <property name="width" class="ptolemy.data.expr.Parameter" value="-1">
                </property>
                <vertex name="vertex1" value="{295.0, 620.0}">
                </vertex>
            </relation>
            <relation name="relation3" class="ptolemy.actor.TypedIORelation">
                <property name="width" class="ptolemy.data.expr.Parameter" value="-1">
                </property>
                <vertex name="vertex1" value="{465.0, 620.0}">
                </vertex>
            </relation>
            <relation name="relation2" class="ptolemy.actor.TypedIORelation">
            </relation>
            <relation name="relation5" class="ptolemy.actor.TypedIORelation">
            </relation>
            <relation name="relation6" class="ptolemy.actor.TypedIORelation">
            </relation>
            <relation name="relation7" class="ptolemy.actor.TypedIORelation">
            </relation>
            <relation name="relation10" class="ptolemy.actor.TypedIORelation">
            </relation>
            <relation name="relation13" class="ptolemy.actor.TypedIORelation">
            </relation>
            <relation name="relation14" class="ptolemy.actor.TypedIORelation">
            </relation>
            <relation name="relation15" class="ptolemy.actor.TypedIORelation">
            </relation>
            <relation name="relation8" class="ptolemy.actor.TypedIORelation">
            </relation>
            <relation name="relation16" class="ptolemy.actor.TypedIORelation">
            </relation>
            <relation name="relation12" class="ptolemy.actor.TypedIORelation">
            </relation>
            <relation name="relation17" class="ptolemy.actor.TypedIORelation">
            </relation>
            <relation name="relation20" class="ptolemy.actor.TypedIORelation">
            </relation>
            <relation name="relation18" class="ptolemy.actor.TypedIORelation">
            </relation>
            <relation name="relation22" class="ptolemy.actor.TypedIORelation">
            </relation>
            <relation name="relation21" class="ptolemy.actor.TypedIORelation">
            </relation>
            <relation name="relation23" class="ptolemy.actor.TypedIORelation">
            </relation>
            <relation name="relation19" class="ptolemy.actor.TypedIORelation">
            </relation>
            <relation name="relation24" class="ptolemy.actor.TypedIORelation">
            </relation>
            <link port="left-right-input" relation="relation13"/>
            <link port="left-right-output" relation="relation4"/>
            <link port="right-left-input" relation="relation14"/>
            <link port="right-left-output" relation="relation10"/>
            <link port="TimeDelay.input" relation="relation9"/>
            <link port="TimeDelay.output" relation="relation"/>
            <link port="TimeDelay2.input" relation="relation11"/>
            <link port="TimeDelay2.output" relation="relation3"/>
            <link port="counter.input" relation="relation"/>
            <link port="counter.output" relation="relation4"/>
            <link port="counter.display" relation="relation5"/>
            <link port="counter.trigger" relation="relation16"/>
            <link port="counter.counter" relation="relation2"/>
            <link port="TimedPlotter.input" relation="relation5"/>
            <link port="TimedPlotter.input" relation="relation7"/>
            <link port="Counter.increment" relation="relation9"/>
            <link port="Counter.decrement" relation="relation"/>
            <link port="Counter.output" relation="relation2"/>
            <link port="Counter2.increment" relation="relation11"/>
            <link port="Counter2.decrement" relation="relation3"/>
            <link port="Counter2.output" relation="relation6"/>
            <link port="counter3.input" relation="relation3"/>
            <link port="counter3.output" relation="relation10"/>
            <link port="counter3.display" relation="relation7"/>
            <link port="counter3.trigger" relation="relation15"/>
            <link port="counter3.counter" relation="relation6"/>
            <link port="Queue.input" relation="relation13"/>
            <link port="Queue.output" relation="relation9"/>
            <link port="Queue.trigger" relation="relation8"/>
            <link port="Queue.trigger" relation="relation22"/>
            <link port="Queue.size" relation="relation21"/>
            <link port="Queue2.input" relation="relation14"/>
            <link port="Queue2.output" relation="relation11"/>
            <link port="Queue2.trigger" relation="relation12"/>
            <link port="Queue2.trigger" relation="relation20"/>
            <link port="Queue2.size" relation="relation19"/>
            <link port="TimeDelay3.input" relation="relation15"/>
            <link port="TimeDelay3.output" relation="relation12"/>
            <link port="TimeDelay4.input" relation="relation16"/>
            <link port="TimeDelay4.output" relation="relation8"/>
            <link port="PoissonClock.output" relation="relation18"/>
            <link port="PoissonClock2.output" relation="relation17"/>
            <link port="JavaScript.input" relation="relation24"/>
            <link port="JavaScript.output" relation="relation20"/>
            <link port="JavaScript.clock" relation="relation17"/>
            <link port="JavaScript2.input" relation="relation23"/>
            <link port="JavaScript2.output" relation="relation22"/>
            <link port="JavaScript2.clock" relation="relation18"/>
            <link port="TimeDelay5.input" relation="relation21"/>
            <link port="TimeDelay5.output" relation="relation23"/>
            <link port="TimeDelay6.input" relation="relation19"/>
            <link port="TimeDelay6.output" relation="relation24"/>
        </entity>
        <relation name="relation5" class="ptolemy.actor.TypedIORelation">
            <property name="_layoutHint" class="ptolemy.vergil.actor.LayoutHint" value="{ { head={id=&quot;leftRightInput._location&quot;,x=15.0,y=255.0}, tail={id=&quot;TimeDelay.input&quot;,x=145.0,y=255.0}, points={} } }">
            </property>
        </relation>
        <relation name="relation6" class="ptolemy.actor.TypedIORelation">
        </relation>
        <relation name="relation3" class="ptolemy.actor.TypedIORelation">
            <property name="_layoutHint" class="ptolemy.vergil.actor.LayoutHint" value="{ { head={id=&quot;Street2.right-left-input&quot;,x=270.0,y=265.0}, tail={id=&quot;TimeDelay2.output&quot;,x=385.0,y=275.0}, points={} } }">
            </property>
        </relation>
        <relation name="relation" class="ptolemy.actor.TypedIORelation">
            <property name="_layoutHint" class="ptolemy.vergil.actor.LayoutHint" value="{ { head={id=&quot;Street2.left-right-input&quot;,x=270.0,y=265.0}, tail={id=&quot;TimeDelay.output&quot;,x=145.0,y=255.0}, points={} } }">
            </property>
        </relation>
        <relation name="relation8" class="ptolemy.actor.TypedIORelation">
            <property name="_layoutHint" class="ptolemy.vergil.actor.LayoutHint" value="{ { head={id=&quot;leftRightOutput._location&quot;,x=355.0,y=205.0}, tail={id=&quot;Street2.left-right-output&quot;,x=270.0,y=265.0}, points={320.0,205.0,320.0,255.0} } }">
            </property>
        </relation>
        <relation name="relation7" class="ptolemy.actor.TypedIORelation">
        </relation>
        <link port="leftRightInput" relation="relation5"/>
        <link port="leftRightOutput" relation="relation8"/>
        <link port="rightLeftInput" relation="relation6"/>
        <link port="rightLeftOutput" relation="relation7"/>
        <link port="TimeDelay.input" relation="relation5"/>
        <link port="TimeDelay.output" relation="relation"/>
        <link port="TimeDelay2.input" relation="relation6"/>
        <link port="TimeDelay2.output" relation="relation3"/>
        <link port="Street2.left-right-input" relation="relation"/>
        <link port="Street2.left-right-output" relation="relation8"/>
        <link port="Street2.right-left-input" relation="relation3"/>
        <link port="Street2.right-left-output" relation="relation7"/>
    </entity>
    <entity name="Road5" class="ptolemy.actor.TypedCompositeActor">
        <property name="_location" class="ptolemy.kernel.util.Location" value="[311.3358612060547, 592.8753967285156]">
        </property>
        <property name="_windowProperties" class="ptolemy.actor.gui.WindowPropertiesAttribute" value="{bounds={174, 129, 928, 617}, maximized=false}">
        </property>
        <property name="_vergilSize" class="ptolemy.actor.gui.SizeAttribute" value="[700, 500]">
        </property>
        <property name="_vergilZoomFactor" class="ptolemy.data.expr.ExpertParameter" value="1.0">
        </property>
        <property name="_vergilCenter" class="ptolemy.data.expr.ExpertParameter" value="{246.40059673366832, 253.38222361809045}">
        </property>
        <property name="_icon" class="ptolemy.vergil.icon.EditorIcon">
            <property name="rectangle" class="ptolemy.vergil.kernel.attributes.RectangleAttribute">
                <property name="_location" class="ptolemy.kernel.util.Location" value="{0, 0}">
                </property>
                <property name="width" class="ptolemy.data.expr.Parameter" value="60">
                </property>
                <property name="height" class="ptolemy.data.expr.Parameter" value="40">
                </property>
                <property name="centered" class="ptolemy.data.expr.Parameter" value="true">
                </property>
                <property name="fillColor" class="ptolemy.actor.gui.ColorAttribute" value="{1.0, 1.0, 1.0, 1.0}">
                </property>
            </property>
            <property name="Annotation" class="ptolemy.vergil.kernel.attributes.TextAttribute">
                <property name="textColor" class="ptolemy.actor.gui.ColorAttribute" value="{0.0, 0.0, 0.0, 1.0}">
                </property>
                <property name="text" class="ptolemy.kernel.util.StringAttribute" value="- - - - - -">
                </property>
                <property name="_location" class="ptolemy.kernel.util.Location" value="[-28.0, -4.0]">
                </property>
            </property>
            <property name="_windowProperties" class="ptolemy.actor.gui.WindowPropertiesAttribute" value="{bounds={219, 75, 928, 617}, maximized=false}">
            </property>
            <property name="_vergilSize" class="ptolemy.actor.gui.SizeAttribute" value="[700, 500]">
            </property>
            <property name="_vergilZoomFactor" class="ptolemy.data.expr.ExpertParameter" value="4.0">
            </property>
            <property name="_vergilCenter" class="ptolemy.data.expr.ExpertParameter" value="{12.5, 6.25}">
            </property>
        </property>
        <property name="streetLength" class="ptolemy.data.expr.Parameter" value="4">
        </property>
        <property name="duration" class="ptolemy.data.expr.Parameter" value="4">
        </property>
        <property name="analysisFlag" class="ptolemy.data.expr.Parameter" value="StreetPlotterFlag">
        </property>
        <port name="leftRightInput" class="ptolemy.actor.TypedIOPort">
            <property name="input"/>
            <property name="_location" class="ptolemy.kernel.util.Location" value="{15.0, 255.0}">
            </property>
            <property name="_cardinal" class="ptolemy.kernel.util.StringAttribute" value="WEST">
            </property>
        </port>
        <port name="leftRightOutput" class="ptolemy.actor.TypedIOPort">
            <property name="output"/>
            <property name="_location" class="ptolemy.kernel.util.Location" value="{355.0, 205.0}">
            </property>
            <property name="_cardinal" class="ptolemy.kernel.util.StringAttribute" value="EAST">
            </property>
        </port>
        <port name="rightLeftInput" class="ptolemy.actor.TypedIOPort">
            <property name="input"/>
            <property name="_location" class="ptolemy.kernel.util.Location" value="[490.0, 220.0]">
            </property>
            <property name="_cardinal" class="ptolemy.kernel.util.StringAttribute" value="EAST">
            </property>
        </port>
        <port name="rightLeftOutput" class="ptolemy.actor.TypedIOPort">
            <property name="output"/>
            <property name="_location" class="ptolemy.kernel.util.Location" value="[225.0, 350.0]">
            </property>
            <property name="_cardinal" class="ptolemy.kernel.util.StringAttribute" value="WEST">
            </property>
        </port>
        <entity name="TimeDelay" class="ptolemy.actor.lib.TimeDelay">
            <property name="delay" class="ptolemy.actor.parameters.PortParameter" value="1">
            </property>
            <property name="_location" class="ptolemy.kernel.util.Location" value="{145.0, 255.0}">
            </property>
            <port name="delay" class="ptolemy.actor.parameters.ParameterPort">
                <property name="input"/>
                <property name="_type" class="ptolemy.actor.TypeAttribute" value="double">
                </property>
            </port>
        </entity>
        <entity name="TimeDelay2" class="ptolemy.actor.lib.TimeDelay">
            <property name="delay" class="ptolemy.actor.parameters.PortParameter" value="1">
            </property>
            <property name="_location" class="ptolemy.kernel.util.Location" value="{385.0, 275.0}">
            </property>
            <property name="_flipPortsHorizontal" class="ptolemy.data.expr.Parameter" value="true">
            </property>
            <port name="delay" class="ptolemy.actor.parameters.ParameterPort">
                <property name="input"/>
                <property name="_type" class="ptolemy.actor.TypeAttribute" value="double">
                </property>
            </port>
        </entity>
        <entity name="Street2" class="ptolemy.actor.TypedCompositeActor">
            <property name="_location" class="ptolemy.kernel.util.Location" value="{270.0, 265.0}">
            </property>
            <property name="_icon" class="ptolemy.vergil.icon.EditorIcon">
                <property name="rectangle" class="ptolemy.vergil.kernel.attributes.RectangleAttribute">
                    <property name="_location" class="ptolemy.kernel.util.Location" value="-0.5, 0.5">
                    </property>
                    <property name="width" class="ptolemy.data.expr.Parameter" value="41.0">
                    </property>
                    <property name="height" class="ptolemy.data.expr.Parameter" value="21.0">
                    </property>
                    <property name="centered" class="ptolemy.data.expr.Parameter" value="true">
                    </property>
                    <property name="fillColor" class="ptolemy.actor.gui.ColorAttribute" value="{1.0, 1.0, 1.0, 1.0}">
                    </property>
                    <property name="_renderFirst" class="ptolemy.kernel.util.SingletonAttribute">
                    </property>
                </property>
                <property name="line" class="ptolemy.vergil.kernel.attributes.LineAttribute">
                    <property name="_location" class="ptolemy.kernel.util.Location" value="[-20.0, -10.0]">
                    </property>
                    <property name="x" class="ptolemy.data.expr.Parameter" value="40.0">
                    </property>
                    <property name="y" class="ptolemy.data.expr.Parameter" value="0.0">
                    </property>
                </property>
                <property name="line2" class="ptolemy.vergil.kernel.attributes.LineAttribute">
                    <property name="_location" class="ptolemy.kernel.util.Location" value="[-20.0, 11.0]">
                    </property>
                    <property name="x" class="ptolemy.data.expr.Parameter" value="40.0">
                    </property>
                    <property name="y" class="ptolemy.data.expr.Parameter" value="0.0">
                    </property>
                </property>
                <property name="Annotation" class="ptolemy.vergil.kernel.attributes.TextAttribute">
                    <property name="textColor" class="ptolemy.actor.gui.ColorAttribute" value="{0.0, 0.0, 0.0, 1.0}">
                    </property>
                    <property name="text" class="ptolemy.kernel.util.StringAttribute" value="- - - - -">
                    </property>
                    <property name="_location" class="ptolemy.kernel.util.Location" value="[-24.0, -4.0]">
                    </property>
                </property>
            </property>
            <property name="_windowProperties" class="ptolemy.actor.gui.WindowPropertiesAttribute" value="{bounds={610, 195, 928, 618}, maximized=false}">
            </property>
            <property name="_vergilSize" class="ptolemy.actor.gui.SizeAttribute" value="[700, 501]">
            </property>
            <property name="_vergilZoomFactor" class="ptolemy.data.expr.ExpertParameter" value="1.0">
            </property>
            <property name="_vergilCenter" class="ptolemy.data.expr.ExpertParameter" value="{265.8625157035176, 588.6470214997105}">
            </property>
            <property name="streetLength" class="ptolemy.data.expr.Parameter" value="streetLength">
            </property>
            <property name="analysisFlag" class="ptolemy.data.expr.Parameter" value="StreetPlotterFlag">
            </property>
            <property name="duration" class="ptolemy.data.expr.Parameter" value="duration">
            </property>
            <port name="left-right-input" class="ptolemy.actor.TypedIOPort">
                <property name="input"/>
                <property name="_cardinal" class="ptolemy.kernel.util.StringAttribute" value="WEST">
                </property>
                <property name="_location" class="ptolemy.kernel.util.Location" value="[10.0, 455.0]">
                </property>
                <property name="_type" class="ptolemy.actor.TypeAttribute" value="{carId = int, roadMap = arrayType(int), indicator = int, intersectionCount = int}">
                </property>
                <property name="_showName" class="ptolemy.data.expr.SingletonParameter" value="false">
                </property>
            </port>
            <port name="left-right-output" class="ptolemy.actor.TypedIOPort">
                <property name="output"/>
                <property name="_cardinal" class="ptolemy.kernel.util.StringAttribute" value="EAST">
                </property>
                <property name="_location" class="ptolemy.kernel.util.Location" value="[665.0, 435.0]">
                </property>
                <property name="_type" class="ptolemy.actor.TypeAttribute" value="{carId = int, roadMap = arrayType(int), indicator = int, intersectionCount = int}">
                </property>
                <property name="_showName" class="ptolemy.data.expr.SingletonParameter" value="false">
                </property>
            </port>
            <port name="right-left-input" class="ptolemy.actor.TypedIOPort">
                <property name="input"/>
                <property name="_cardinal" class="ptolemy.kernel.util.StringAttribute" value="EAST">
                </property>
                <property name="_location" class="ptolemy.kernel.util.Location" value="[10.0, 620.0]">
                </property>
                <property name="_type" class="ptolemy.actor.TypeAttribute" value="{carId = int, roadMap = arrayType(int), indicator = int, intersectionCount = int}">
                </property>
                <property name="_showName" class="ptolemy.data.expr.SingletonParameter" value="false">
                </property>
            </port>
            <port name="right-left-output" class="ptolemy.actor.TypedIOPort">
                <property name="output"/>
                <property name="_cardinal" class="ptolemy.kernel.util.StringAttribute" value="WEST">
                </property>
                <property name="_location" class="ptolemy.kernel.util.Location" value="[660.0, 600.0]">
                </property>
                <property name="_type" class="ptolemy.actor.TypeAttribute" value="{carId = int, roadMap = arrayType(int), indicator = int, intersectionCount = int}">
                </property>
                <property name="_showName" class="ptolemy.data.expr.SingletonParameter" value="false">
                </property>
            </port>
            <entity name="TimeDelay" class="ptolemy.actor.lib.TimeDelay">
                <property name="delay" class="ptolemy.actor.parameters.PortParameter" value="duration">
                </property>
                <property name="_location" class="ptolemy.kernel.util.Location" value="[370.0, 455.0]">
                </property>
            </entity>
            <entity name="TimeDelay2" class="ptolemy.actor.lib.TimeDelay">
                <property name="delay" class="ptolemy.actor.parameters.PortParameter" value="duration">
                </property>
                <property name="_location" class="ptolemy.kernel.util.Location" value="[385.0, 620.0]">
                </property>
            </entity>
            <entity name="counter" class="ptolemy.actor.lib.jjs.JavaScript">
                <property name="_windowProperties" class="ptolemy.actor.gui.WindowPropertiesAttribute">
                </property>
                <property name="_paneSize" class="ptolemy.actor.gui.SizeAttribute">
                </property>
                <property name="script" class="ptolemy.actor.parameters.PortParameter" value="// counter that simulates the street&#10;	var counter = 0;&#10;//queue to save the waiting cars&#10;	var queue = [];&#10;&#10;exports.setup = function () {&#10;	//the Input-ports for the incoming cars&#10;    this.input('input');&#10;    this.input('counter');&#10;    &#10;    //the Output-ports for the leaving cars&#10;    this.output('output');&#10;    this.output('display');&#10;    this.output('trigger');&#10;}&#10;&#10;exports.initialize = function () {&#10;	&#10;	this.addInputHandler('input', function() {&#10;		this.send('output', this.get('input'));&#10;	});&#10;	&#10;	this.addInputHandler('counter', function() {&#10;		counter = this.get('counter');&#10;		&#10;		if (this.getParameter('analysisFlag') == 1) {&#10;			this.send('display', counter);&#10;		}&#10;		&#10;		if (counter &lt; this.getParameter('streetLength')) {&#10;			this.send('trigger', true);&#10;		} else {&#10;			// do nothing, street is full&#10;		}&#10;		&#10;		/*&#10;		if (counter &gt; this.getParameter('streetLength')) {&#10;			this.send('trigger', (counter-this.getParameter('streetLength'))*3);&#10;		} else {&#10;			while (queue.length != 0) {&#10;				this.send('output', queue.pop());&#10;			}&#10;		}*/&#10;	});&#10;}">
                    <property name="style" class="ptolemy.actor.gui.style.NoteStyle">
                        <property name="note" class="ptolemy.kernel.util.StringAttribute" value="NOTE: To see the script, invoke Open Actor">
                        </property>
                    </property>
                </property>
                <property name="_tableauFactory" class="ptolemy.vergil.toolbox.TextEditorTableauFactory">
                    <property name="attributeName" class="ptolemy.kernel.util.StringAttribute" value="script">
                    </property>
                    <property name="syntaxStyle" class="ptolemy.kernel.util.StringAttribute" value="text/javascript">
                    </property>
                </property>
                <property name="_location" class="ptolemy.kernel.util.Location" value="[555.0, 455.0]">
                </property>
                <property name="_hideName" class="ptolemy.data.expr.SingletonParameter" value="true">
                </property>
                <property name="_flipPortsVertical" class="ptolemy.data.expr.Parameter" value="true">
                </property>
                <property name="analysisFlag" class="ptolemy.data.expr.Parameter" value="analysisFlag">
                </property>
                <property name="streetLength" class="ptolemy.data.expr.Parameter" value="streetLength">
                </property>
                <port name="input" class="ptolemy.actor.TypedIOPort">
                    <property name="input"/>
                </port>
                <port name="output" class="ptolemy.actor.TypedIOPort">
                    <property name="output"/>
                </port>
                <port name="display" class="ptolemy.actor.TypedIOPort">
                    <property name="output"/>
                    <property name="_cardinal" class="ptolemy.kernel.util.StringAttribute" value="NORTH">
                    </property>
                    <property name="_type" class="ptolemy.actor.TypeAttribute" value="double">
                    </property>
                </port>
                <port name="trigger" class="ptolemy.actor.TypedIOPort">
                    <property name="output"/>
                </port>
                <port name="counter" class="ptolemy.actor.TypedIOPort">
                    <property name="input"/>
                    <property name="_type" class="ptolemy.actor.TypeAttribute" value="double">
                    </property>
                </port>
            </entity>
            <entity name="TimedPlotter" class="ptolemy.actor.lib.gui.TimedPlotter">
                <property name="legend" class="ptolemy.kernel.util.StringAttribute" value="counter: left-right, counter: right-left">
                </property>
                <property name="_windowProperties" class="ptolemy.actor.gui.WindowPropertiesAttribute" value="{bounds={278, 130, 687, 497}, maximized=false}">
                </property>
                <property name="_plotSize" class="ptolemy.actor.gui.SizeAttribute" value="[671, 437]">
                </property>
                <property name="_location" class="ptolemy.kernel.util.Location" value="[600.0, 540.0]">
                </property>
                <configure>
<?plotml <!DOCTYPE plot PUBLIC "-//UC Berkeley//DTD PlotML 1//EN"
"http://ptolemy.eecs.berkeley.edu/xml/dtd/PlotML_1.dtd">
<plot>
<title>TimedPlotter</title>
<xLabel></xLabel>
<yLabel></yLabel>
<xRange min="1.7976931348623157E308" max="-1.7976931348623157E308"/>
<yRange min="1.7976931348623157E308" max="-1.7976931348623157E308"/>
</plot>?>
                </configure>
            </entity>
            <entity name="Counter" class="ptolemy.actor.lib.Counter">
                <property name="_location" class="ptolemy.kernel.util.Location" value="[440.66734313964844, 330.9227752685547]">
                </property>
            </entity>
            <entity name="Counter2" class="ptolemy.actor.lib.Counter">
                <property name="_location" class="ptolemy.kernel.util.Location" value="{444.3317368090452, 733.3371125801125}">
                </property>
            </entity>
            <entity name="counter3" class="ptolemy.actor.lib.jjs.JavaScript">
                <property name="_windowProperties" class="ptolemy.actor.gui.WindowPropertiesAttribute">
                </property>
                <property name="_paneSize" class="ptolemy.actor.gui.SizeAttribute">
                </property>
                <property name="script" class="ptolemy.actor.parameters.PortParameter" value="// counter that simulates the street&#10;	var counter = 0;&#10;//queue to save the waiting cars&#10;	var queue = [];&#10;&#10;exports.setup = function () {&#10;	//the Input-ports for the incoming cars&#10;    this.input('input');&#10;    this.input('counter');&#10;    &#10;    //the Output-ports for the leaving cars&#10;    this.output('output');&#10;    this.output('display');&#10;    this.output('trigger');&#10;}&#10;&#10;exports.initialize = function () {&#10;	&#10;	this.addInputHandler('input', function() {&#10;		this.send('output', this.get('input'));&#10;	});&#10;	&#10;	this.addInputHandler('counter', function() {&#10;		counter = this.get('counter');&#10;		&#10;		if (this.getParameter('analysisFlag') == 1) {&#10;			this.send('display', counter);&#10;		}&#10;		&#10;		if (counter &lt; this.getParameter('streetLength')) {&#10;			this.send('trigger', counter);&#10;		} else {&#10;			// do nothing, street is full&#10;		}&#10;		&#10;		/*&#10;		if (counter &gt; this.getParameter('streetLength')) {&#10;			this.send('trigger', (counter-this.getParameter('streetLength'))*3);&#10;		} else {&#10;			while (queue.length != 0) {&#10;				this.send('output', queue.pop());&#10;			}&#10;		}*/&#10;	});&#10;}">
                    <property name="style" class="ptolemy.actor.gui.style.NoteStyle">
                        <property name="note" class="ptolemy.kernel.util.StringAttribute" value="NOTE: To see the script, invoke Open Actor">
                        </property>
                    </property>
                </property>
                <property name="_tableauFactory" class="ptolemy.vergil.toolbox.TextEditorTableauFactory">
                    <property name="attributeName" class="ptolemy.kernel.util.StringAttribute" value="script">
                    </property>
                    <property name="syntaxStyle" class="ptolemy.kernel.util.StringAttribute" value="text/javascript">
                    </property>
                </property>
                <property name="_location" class="ptolemy.kernel.util.Location" value="[530.0, 600.0]">
                </property>
                <property name="_hideName" class="ptolemy.data.expr.SingletonParameter" value="true">
                </property>
                <property name="_flipPortsVertical" class="ptolemy.data.expr.Parameter" value="true">
                </property>
                <property name="analysisFlag" class="ptolemy.data.expr.Parameter" value="analysisFlag">
                </property>
                <property name="streetLength" class="ptolemy.data.expr.Parameter" value="streetLength">
                </property>
                <port name="input" class="ptolemy.actor.TypedIOPort">
                    <property name="input"/>
                </port>
                <port name="output" class="ptolemy.actor.TypedIOPort">
                    <property name="output"/>
                </port>
                <port name="display" class="ptolemy.actor.TypedIOPort">
                    <property name="output"/>
                    <property name="_cardinal" class="ptolemy.kernel.util.StringAttribute" value="NORTH">
                    </property>
                    <property name="_type" class="ptolemy.actor.TypeAttribute" value="double">
                    </property>
                </port>
                <port name="trigger" class="ptolemy.actor.TypedIOPort">
                    <property name="output"/>
                </port>
                <port name="counter" class="ptolemy.actor.TypedIOPort">
                    <property name="input"/>
                    <property name="_type" class="ptolemy.actor.TypeAttribute" value="double">
                    </property>
                </port>
            </entity>
            <entity name="Queue" class="ptolemy.domains.de.lib.Queue">
                <property name="capacity" class="ptolemy.data.expr.Parameter" value="10">
                </property>
                <property name="persistentTrigger" class="ptolemy.data.expr.Parameter" value="true">
                </property>
                <property name="_location" class="ptolemy.kernel.util.Location" value="[190.0, 455.0]">
                </property>
            </entity>
            <entity name="Queue2" class="ptolemy.domains.de.lib.Queue">
                <property name="_location" class="ptolemy.kernel.util.Location" value="{187.8914925102946, 620.4811694530187}">
                </property>
            </entity>
            <entity name="TimeDelay3" class="ptolemy.actor.lib.TimeDelay">
                <property name="delay" class="ptolemy.actor.parameters.PortParameter" value="1">
                </property>
                <property name="_location" class="ptolemy.kernel.util.Location" value="{267.3117148241206, 692.9343958715698}">
                </property>
                <property name="_flipPortsHorizontal" class="ptolemy.data.expr.Parameter" value="true">
                </property>
            </entity>
            <entity name="TimeDelay4" class="ptolemy.actor.lib.TimeDelay">
                <property name="delay" class="ptolemy.actor.parameters.PortParameter" value="1">
                </property>
                <property name="_location" class="ptolemy.kernel.util.Location" value="[270.0, 515.0]">
                </property>
                <property name="_flipPortsHorizontal" class="ptolemy.data.expr.Parameter" value="true">
                </property>
            </entity>
            <entity name="PoissonClock" class="ptolemy.actor.lib.PoissonClock">
                <property name="meanTime" class="ptolemy.data.expr.Parameter" value="0.5">
                </property>
                <property name="stopTime" class="ptolemy.data.expr.Parameter" value="1">
                </property>
                <property name="_location" class="ptolemy.kernel.util.Location" value="[20.0, 525.0]">
                </property>
            </entity>
            <entity name="PoissonClock2" class="ptolemy.actor.lib.PoissonClock">
                <property name="meanTime" class="ptolemy.data.expr.Parameter" value="0.5">
                </property>
                <property name="stopTime" class="ptolemy.data.expr.Parameter" value="1">
                </property>
                <property name="_location" class="ptolemy.kernel.util.Location" value="[10.0, 755.0]">
                </property>
            </entity>
            <entity name="JavaScript" class="ptolemy.actor.lib.jjs.JavaScript">
                <property name="_windowProperties" class="ptolemy.actor.gui.WindowPropertiesAttribute">
                </property>
                <property name="_paneSize" class="ptolemy.actor.gui.SizeAttribute">
                </property>
                <property name="script" class="ptolemy.actor.parameters.PortParameter" value="var queueSize = 0;&#10;&#10;exports.setup = function () {&#10;	//the Input-ports for the incoming cars&#10;    this.input('input');&#10;    this.input('clock');&#10;    &#10;    //the Output-ports for the leaving cars&#10;    this.output('output');&#10;}&#10;&#10;exports.initialize = function () {&#10;	&#10;	this.addInputHandler('input', function() {&#10;		queueSize = this.get('input');&#10;	});&#10;	&#10;	this.addInputHandler('clock', function() {&#10;		if(queueSize == 0) {&#10;			this.send('output', true);&#10;		}&#10;	});&#10;}">
                    <property name="style" class="ptolemy.actor.gui.style.NoteStyle">
                        <property name="note" class="ptolemy.kernel.util.StringAttribute" value="NOTE: To see the script, invoke Open Actor">
                        </property>
                    </property>
                </property>
                <property name="_tableauFactory" class="ptolemy.vergil.toolbox.TextEditorTableauFactory">
                    <property name="attributeName" class="ptolemy.kernel.util.StringAttribute" value="script">
                    </property>
                    <property name="syntaxStyle" class="ptolemy.kernel.util.StringAttribute" value="text/javascript">
                    </property>
                </property>
                <property name="_location" class="ptolemy.kernel.util.Location" value="[110.0, 755.0]">
                </property>
                <property name="_flipPortsHorizontal" class="ptolemy.data.expr.Parameter" value="false">
                </property>
                <port name="input" class="ptolemy.actor.TypedIOPort">
                    <property name="input"/>
                    <property name="_cardinal" class="ptolemy.kernel.util.StringAttribute" value="NORTH">
                    </property>
                </port>
                <port name="output" class="ptolemy.actor.TypedIOPort">
                    <property name="output"/>
                </port>
                <port name="clock" class="ptolemy.actor.TypedIOPort">
                    <property name="input"/>
                </port>
            </entity>
            <entity name="JavaScript2" class="ptolemy.actor.lib.jjs.JavaScript">
                <property name="_windowProperties" class="ptolemy.actor.gui.WindowPropertiesAttribute">
                </property>
                <property name="_paneSize" class="ptolemy.actor.gui.SizeAttribute">
                </property>
                <property name="script" class="ptolemy.actor.parameters.PortParameter" value="var queueSize = 0;&#10;&#10;exports.setup = function () {&#10;	//the Input-ports for the incoming cars&#10;    this.input('input');&#10;    this.input('clock');&#10;    &#10;    //the Output-ports for the leaving cars&#10;    this.output('output');&#10;}&#10;&#10;exports.initialize = function () {&#10;	&#10;	this.addInputHandler('input', function() {&#10;		queueSize = this.get('input');&#10;	});&#10;	&#10;	this.addInputHandler('clock', function() {&#10;		if(queueSize == 0) {&#10;			this.send('output', true);&#10;		}&#10;	});&#10;}">
                    <property name="style" class="ptolemy.actor.gui.style.NoteStyle">
                        <property name="note" class="ptolemy.kernel.util.StringAttribute" value="NOTE: To see the script, invoke Open Actor">
                        </property>
                    </property>
                </property>
                <property name="_tableauFactory" class="ptolemy.vergil.toolbox.TextEditorTableauFactory">
                    <property name="attributeName" class="ptolemy.kernel.util.StringAttribute" value="script">
                    </property>
                    <property name="syntaxStyle" class="ptolemy.kernel.util.StringAttribute" value="text/javascript">
                    </property>
                </property>
                <property name="_location" class="ptolemy.kernel.util.Location" value="[110.0, 555.0]">
                </property>
                <property name="_flipPortsHorizontal" class="ptolemy.data.expr.Parameter" value="false">
                </property>
                <port name="input" class="ptolemy.actor.TypedIOPort">
                    <property name="input"/>
                    <property name="_cardinal" class="ptolemy.kernel.util.StringAttribute" value="NORTH">
                    </property>
                </port>
                <port name="output" class="ptolemy.actor.TypedIOPort">
                    <property name="output"/>
                </port>
                <port name="clock" class="ptolemy.actor.TypedIOPort">
                    <property name="input"/>
                </port>
            </entity>
            <entity name="TimeDelay5" class="ptolemy.actor.lib.TimeDelay">
                <property name="delay" class="ptolemy.actor.parameters.PortParameter" value="1">
                </property>
                <property name="_location" class="ptolemy.kernel.util.Location" value="{102.8625157035176, 472.1470214997105}">
                </property>
                <property name="_flipPortsHorizontal" class="ptolemy.data.expr.Parameter" value="true">
                </property>
            </entity>
            <entity name="TimeDelay6" class="ptolemy.actor.lib.TimeDelay">
                <property name="delay" class="ptolemy.actor.parameters.PortParameter" value="1">
                </property>
                <property name="_location" class="ptolemy.kernel.util.Location" value="{104.8625157035176, 648.1470214997105}">
                </property>
                <property name="_flipPortsHorizontal" class="ptolemy.data.expr.Parameter" value="true">
                </property>
            </entity>
            <relation name="relation4" class="ptolemy.actor.TypedIORelation">
            </relation>
            <relation name="relation9" class="ptolemy.actor.TypedIORelation">
                <property name="width" class="ptolemy.data.expr.Parameter" value="-1">
                </property>
                <vertex name="vertex1" value="[285.0, 455.0]">
                </vertex>
            </relation>
            <relation name="relation" class="ptolemy.actor.TypedIORelation">
                <property name="width" class="ptolemy.data.expr.Parameter" value="-1">
                </property>
                <vertex name="vertex1" value="[460.0, 455.0]">
                </vertex>
            </relation>
            <relation name="relation11" class="ptolemy.actor.TypedIORelation">
                <property name="width" class="ptolemy.data.expr.Parameter" value="-1">
                </property>
                <vertex name="vertex1" value="{295.0, 620.0}">
                </vertex>
            </relation>
            <relation name="relation3" class="ptolemy.actor.TypedIORelation">
                <property name="width" class="ptolemy.data.expr.Parameter" value="-1">
                </property>
                <vertex name="vertex1" value="{465.0, 620.0}">
                </vertex>
            </relation>
            <relation name="relation2" class="ptolemy.actor.TypedIORelation">
            </relation>
            <relation name="relation5" class="ptolemy.actor.TypedIORelation">
            </relation>
            <relation name="relation6" class="ptolemy.actor.TypedIORelation">
            </relation>
            <relation name="relation7" class="ptolemy.actor.TypedIORelation">
            </relation>
            <relation name="relation10" class="ptolemy.actor.TypedIORelation">
            </relation>
            <relation name="relation13" class="ptolemy.actor.TypedIORelation">
            </relation>
            <relation name="relation14" class="ptolemy.actor.TypedIORelation">
            </relation>
            <relation name="relation15" class="ptolemy.actor.TypedIORelation">
            </relation>
            <relation name="relation8" class="ptolemy.actor.TypedIORelation">
            </relation>
            <relation name="relation16" class="ptolemy.actor.TypedIORelation">
            </relation>
            <relation name="relation12" class="ptolemy.actor.TypedIORelation">
            </relation>
            <relation name="relation17" class="ptolemy.actor.TypedIORelation">
            </relation>
            <relation name="relation20" class="ptolemy.actor.TypedIORelation">
            </relation>
            <relation name="relation18" class="ptolemy.actor.TypedIORelation">
            </relation>
            <relation name="relation22" class="ptolemy.actor.TypedIORelation">
            </relation>
            <relation name="relation21" class="ptolemy.actor.TypedIORelation">
            </relation>
            <relation name="relation23" class="ptolemy.actor.TypedIORelation">
            </relation>
            <relation name="relation19" class="ptolemy.actor.TypedIORelation">
            </relation>
            <relation name="relation24" class="ptolemy.actor.TypedIORelation">
            </relation>
            <link port="left-right-input" relation="relation13"/>
            <link port="left-right-output" relation="relation4"/>
            <link port="right-left-input" relation="relation14"/>
            <link port="right-left-output" relation="relation10"/>
            <link port="TimeDelay.input" relation="relation9"/>
            <link port="TimeDelay.output" relation="relation"/>
            <link port="TimeDelay2.input" relation="relation11"/>
            <link port="TimeDelay2.output" relation="relation3"/>
            <link port="counter.input" relation="relation"/>
            <link port="counter.output" relation="relation4"/>
            <link port="counter.display" relation="relation5"/>
            <link port="counter.trigger" relation="relation16"/>
            <link port="counter.counter" relation="relation2"/>
            <link port="TimedPlotter.input" relation="relation5"/>
            <link port="TimedPlotter.input" relation="relation7"/>
            <link port="Counter.increment" relation="relation9"/>
            <link port="Counter.decrement" relation="relation"/>
            <link port="Counter.output" relation="relation2"/>
            <link port="Counter2.increment" relation="relation11"/>
            <link port="Counter2.decrement" relation="relation3"/>
            <link port="Counter2.output" relation="relation6"/>
            <link port="counter3.input" relation="relation3"/>
            <link port="counter3.output" relation="relation10"/>
            <link port="counter3.display" relation="relation7"/>
            <link port="counter3.trigger" relation="relation15"/>
            <link port="counter3.counter" relation="relation6"/>
            <link port="Queue.input" relation="relation13"/>
            <link port="Queue.output" relation="relation9"/>
            <link port="Queue.trigger" relation="relation8"/>
            <link port="Queue.trigger" relation="relation22"/>
            <link port="Queue.size" relation="relation21"/>
            <link port="Queue2.input" relation="relation14"/>
            <link port="Queue2.output" relation="relation11"/>
            <link port="Queue2.trigger" relation="relation12"/>
            <link port="Queue2.trigger" relation="relation20"/>
            <link port="Queue2.size" relation="relation19"/>
            <link port="TimeDelay3.input" relation="relation15"/>
            <link port="TimeDelay3.output" relation="relation12"/>
            <link port="TimeDelay4.input" relation="relation16"/>
            <link port="TimeDelay4.output" relation="relation8"/>
            <link port="PoissonClock.output" relation="relation18"/>
            <link port="PoissonClock2.output" relation="relation17"/>
            <link port="JavaScript.input" relation="relation24"/>
            <link port="JavaScript.output" relation="relation20"/>
            <link port="JavaScript.clock" relation="relation17"/>
            <link port="JavaScript2.input" relation="relation23"/>
            <link port="JavaScript2.output" relation="relation22"/>
            <link port="JavaScript2.clock" relation="relation18"/>
            <link port="TimeDelay5.input" relation="relation21"/>
            <link port="TimeDelay5.output" relation="relation23"/>
            <link port="TimeDelay6.input" relation="relation19"/>
            <link port="TimeDelay6.output" relation="relation24"/>
        </entity>
        <relation name="relation5" class="ptolemy.actor.TypedIORelation">
            <property name="_layoutHint" class="ptolemy.vergil.actor.LayoutHint" value="{ { head={id=&quot;leftRightInput._location&quot;,x=15.0,y=255.0}, tail={id=&quot;TimeDelay.input&quot;,x=145.0,y=255.0}, points={} } }">
            </property>
        </relation>
        <relation name="relation6" class="ptolemy.actor.TypedIORelation">
        </relation>
        <relation name="relation3" class="ptolemy.actor.TypedIORelation">
            <property name="_layoutHint" class="ptolemy.vergil.actor.LayoutHint" value="{ { head={id=&quot;Street2.right-left-input&quot;,x=270.0,y=265.0}, tail={id=&quot;TimeDelay2.output&quot;,x=385.0,y=275.0}, points={} } }">
            </property>
        </relation>
        <relation name="relation" class="ptolemy.actor.TypedIORelation">
            <property name="_layoutHint" class="ptolemy.vergil.actor.LayoutHint" value="{ { head={id=&quot;Street2.left-right-input&quot;,x=270.0,y=265.0}, tail={id=&quot;TimeDelay.output&quot;,x=145.0,y=255.0}, points={} } }">
            </property>
        </relation>
        <relation name="relation8" class="ptolemy.actor.TypedIORelation">
            <property name="_layoutHint" class="ptolemy.vergil.actor.LayoutHint" value="{ { head={id=&quot;leftRightOutput._location&quot;,x=355.0,y=205.0}, tail={id=&quot;Street2.left-right-output&quot;,x=270.0,y=265.0}, points={320.0,205.0,320.0,255.0} } }">
            </property>
        </relation>
        <relation name="relation7" class="ptolemy.actor.TypedIORelation">
        </relation>
        <link port="leftRightInput" relation="relation5"/>
        <link port="leftRightOutput" relation="relation8"/>
        <link port="rightLeftInput" relation="relation6"/>
        <link port="rightLeftOutput" relation="relation7"/>
        <link port="TimeDelay.input" relation="relation5"/>
        <link port="TimeDelay.output" relation="relation"/>
        <link port="TimeDelay2.input" relation="relation6"/>
        <link port="TimeDelay2.output" relation="relation3"/>
        <link port="Street2.left-right-input" relation="relation"/>
        <link port="Street2.left-right-output" relation="relation8"/>
        <link port="Street2.right-left-input" relation="relation3"/>
        <link port="Street2.right-left-output" relation="relation7"/>
    </entity>
    <entity name="Road6" class="ptolemy.actor.TypedCompositeActor">
        <property name="_location" class="ptolemy.kernel.util.Location" value="[-275.0, 485.0]">
        </property>
        <property name="_windowProperties" class="ptolemy.actor.gui.WindowPropertiesAttribute" value="{bounds={174, 129, 928, 617}, maximized=false}">
        </property>
        <property name="_vergilSize" class="ptolemy.actor.gui.SizeAttribute" value="[700, 500]">
        </property>
        <property name="_vergilZoomFactor" class="ptolemy.data.expr.ExpertParameter" value="1.0">
        </property>
        <property name="_vergilCenter" class="ptolemy.data.expr.ExpertParameter" value="{246.40059673366832, 253.38222361809045}">
        </property>
        <property name="_icon" class="ptolemy.vergil.icon.EditorIcon">
            <property name="rectangle" class="ptolemy.vergil.kernel.attributes.RectangleAttribute">
                <property name="_location" class="ptolemy.kernel.util.Location" value="{0, 0}">
                </property>
                <property name="width" class="ptolemy.data.expr.Parameter" value="60">
                </property>
                <property name="height" class="ptolemy.data.expr.Parameter" value="40">
                </property>
                <property name="centered" class="ptolemy.data.expr.Parameter" value="true">
                </property>
                <property name="fillColor" class="ptolemy.actor.gui.ColorAttribute" value="{1.0, 1.0, 1.0, 1.0}">
                </property>
            </property>
            <property name="Annotation" class="ptolemy.vergil.kernel.attributes.TextAttribute">
                <property name="textColor" class="ptolemy.actor.gui.ColorAttribute" value="{0.0, 0.0, 0.0, 1.0}">
                </property>
                <property name="text" class="ptolemy.kernel.util.StringAttribute" value="- - - - - -">
                </property>
                <property name="_location" class="ptolemy.kernel.util.Location" value="[-28.0, -4.0]">
                </property>
            </property>
            <property name="_windowProperties" class="ptolemy.actor.gui.WindowPropertiesAttribute" value="{bounds={219, 75, 928, 617}, maximized=false}">
            </property>
            <property name="_vergilSize" class="ptolemy.actor.gui.SizeAttribute" value="[700, 500]">
            </property>
            <property name="_vergilZoomFactor" class="ptolemy.data.expr.ExpertParameter" value="4.0">
            </property>
            <property name="_vergilCenter" class="ptolemy.data.expr.ExpertParameter" value="{12.5, 6.25}">
            </property>
        </property>
        <property name="streetLength" class="ptolemy.data.expr.Parameter" value="4">
        </property>
        <property name="duration" class="ptolemy.data.expr.Parameter" value="4">
        </property>
        <property name="analysisFlag" class="ptolemy.data.expr.Parameter" value="StreetPlotterFlag">
        </property>
        <port name="leftRightInput" class="ptolemy.actor.TypedIOPort">
            <property name="input"/>
            <property name="_location" class="ptolemy.kernel.util.Location" value="{15.0, 255.0}">
            </property>
            <property name="_cardinal" class="ptolemy.kernel.util.StringAttribute" value="WEST">
            </property>
        </port>
        <port name="leftRightOutput" class="ptolemy.actor.TypedIOPort">
            <property name="output"/>
            <property name="_location" class="ptolemy.kernel.util.Location" value="{355.0, 205.0}">
            </property>
            <property name="_cardinal" class="ptolemy.kernel.util.StringAttribute" value="EAST">
            </property>
        </port>
        <port name="rightLeftInput" class="ptolemy.actor.TypedIOPort">
            <property name="input"/>
            <property name="_location" class="ptolemy.kernel.util.Location" value="[490.0, 220.0]">
            </property>
            <property name="_cardinal" class="ptolemy.kernel.util.StringAttribute" value="EAST">
            </property>
        </port>
        <port name="rightLeftOutput" class="ptolemy.actor.TypedIOPort">
            <property name="output"/>
            <property name="_location" class="ptolemy.kernel.util.Location" value="[225.0, 350.0]">
            </property>
            <property name="_cardinal" class="ptolemy.kernel.util.StringAttribute" value="WEST">
            </property>
        </port>
        <entity name="TimeDelay" class="ptolemy.actor.lib.TimeDelay">
            <property name="delay" class="ptolemy.actor.parameters.PortParameter" value="1">
            </property>
            <property name="_location" class="ptolemy.kernel.util.Location" value="{145.0, 255.0}">
            </property>
            <port name="delay" class="ptolemy.actor.parameters.ParameterPort">
                <property name="input"/>
                <property name="_type" class="ptolemy.actor.TypeAttribute" value="double">
                </property>
            </port>
        </entity>
        <entity name="TimeDelay2" class="ptolemy.actor.lib.TimeDelay">
            <property name="delay" class="ptolemy.actor.parameters.PortParameter" value="1">
            </property>
            <property name="_location" class="ptolemy.kernel.util.Location" value="{385.0, 275.0}">
            </property>
            <property name="_flipPortsHorizontal" class="ptolemy.data.expr.Parameter" value="true">
            </property>
            <port name="delay" class="ptolemy.actor.parameters.ParameterPort">
                <property name="input"/>
                <property name="_type" class="ptolemy.actor.TypeAttribute" value="double">
                </property>
            </port>
        </entity>
        <entity name="Street2" class="ptolemy.actor.TypedCompositeActor">
            <property name="_location" class="ptolemy.kernel.util.Location" value="{270.0, 265.0}">
            </property>
            <property name="_icon" class="ptolemy.vergil.icon.EditorIcon">
                <property name="rectangle" class="ptolemy.vergil.kernel.attributes.RectangleAttribute">
                    <property name="_location" class="ptolemy.kernel.util.Location" value="-0.5, 0.5">
                    </property>
                    <property name="width" class="ptolemy.data.expr.Parameter" value="41.0">
                    </property>
                    <property name="height" class="ptolemy.data.expr.Parameter" value="21.0">
                    </property>
                    <property name="centered" class="ptolemy.data.expr.Parameter" value="true">
                    </property>
                    <property name="fillColor" class="ptolemy.actor.gui.ColorAttribute" value="{1.0, 1.0, 1.0, 1.0}">
                    </property>
                    <property name="_renderFirst" class="ptolemy.kernel.util.SingletonAttribute">
                    </property>
                </property>
                <property name="line" class="ptolemy.vergil.kernel.attributes.LineAttribute">
                    <property name="_location" class="ptolemy.kernel.util.Location" value="[-20.0, -10.0]">
                    </property>
                    <property name="x" class="ptolemy.data.expr.Parameter" value="40.0">
                    </property>
                    <property name="y" class="ptolemy.data.expr.Parameter" value="0.0">
                    </property>
                </property>
                <property name="line2" class="ptolemy.vergil.kernel.attributes.LineAttribute">
                    <property name="_location" class="ptolemy.kernel.util.Location" value="[-20.0, 11.0]">
                    </property>
                    <property name="x" class="ptolemy.data.expr.Parameter" value="40.0">
                    </property>
                    <property name="y" class="ptolemy.data.expr.Parameter" value="0.0">
                    </property>
                </property>
                <property name="Annotation" class="ptolemy.vergil.kernel.attributes.TextAttribute">
                    <property name="textColor" class="ptolemy.actor.gui.ColorAttribute" value="{0.0, 0.0, 0.0, 1.0}">
                    </property>
                    <property name="text" class="ptolemy.kernel.util.StringAttribute" value="- - - - -">
                    </property>
                    <property name="_location" class="ptolemy.kernel.util.Location" value="[-24.0, -4.0]">
                    </property>
                </property>
            </property>
            <property name="_windowProperties" class="ptolemy.actor.gui.WindowPropertiesAttribute" value="{bounds={610, 195, 928, 618}, maximized=false}">
            </property>
            <property name="_vergilSize" class="ptolemy.actor.gui.SizeAttribute" value="[700, 501]">
            </property>
            <property name="_vergilZoomFactor" class="ptolemy.data.expr.ExpertParameter" value="1.0">
            </property>
            <property name="_vergilCenter" class="ptolemy.data.expr.ExpertParameter" value="{265.8625157035176, 588.6470214997105}">
            </property>
            <property name="streetLength" class="ptolemy.data.expr.Parameter" value="streetLength">
            </property>
            <property name="analysisFlag" class="ptolemy.data.expr.Parameter" value="StreetPlotterFlag">
            </property>
            <property name="duration" class="ptolemy.data.expr.Parameter" value="duration">
            </property>
            <port name="left-right-input" class="ptolemy.actor.TypedIOPort">
                <property name="input"/>
                <property name="_cardinal" class="ptolemy.kernel.util.StringAttribute" value="WEST">
                </property>
                <property name="_location" class="ptolemy.kernel.util.Location" value="[10.0, 455.0]">
                </property>
                <property name="_type" class="ptolemy.actor.TypeAttribute" value="{carId = int, roadMap = arrayType(int), indicator = int, intersectionCount = int}">
                </property>
                <property name="_showName" class="ptolemy.data.expr.SingletonParameter" value="false">
                </property>
            </port>
            <port name="left-right-output" class="ptolemy.actor.TypedIOPort">
                <property name="output"/>
                <property name="_cardinal" class="ptolemy.kernel.util.StringAttribute" value="EAST">
                </property>
                <property name="_location" class="ptolemy.kernel.util.Location" value="[665.0, 435.0]">
                </property>
                <property name="_type" class="ptolemy.actor.TypeAttribute" value="{carId = int, roadMap = arrayType(int), indicator = int, intersectionCount = int}">
                </property>
                <property name="_showName" class="ptolemy.data.expr.SingletonParameter" value="false">
                </property>
            </port>
            <port name="right-left-input" class="ptolemy.actor.TypedIOPort">
                <property name="input"/>
                <property name="_cardinal" class="ptolemy.kernel.util.StringAttribute" value="EAST">
                </property>
                <property name="_location" class="ptolemy.kernel.util.Location" value="[10.0, 620.0]">
                </property>
                <property name="_type" class="ptolemy.actor.TypeAttribute" value="{carId = int, roadMap = arrayType(int), indicator = int, intersectionCount = int}">
                </property>
                <property name="_showName" class="ptolemy.data.expr.SingletonParameter" value="false">
                </property>
            </port>
            <port name="right-left-output" class="ptolemy.actor.TypedIOPort">
                <property name="output"/>
                <property name="_cardinal" class="ptolemy.kernel.util.StringAttribute" value="WEST">
                </property>
                <property name="_location" class="ptolemy.kernel.util.Location" value="[660.0, 600.0]">
                </property>
                <property name="_type" class="ptolemy.actor.TypeAttribute" value="{carId = int, roadMap = arrayType(int), indicator = int, intersectionCount = int}">
                </property>
                <property name="_showName" class="ptolemy.data.expr.SingletonParameter" value="false">
                </property>
            </port>
            <entity name="TimeDelay" class="ptolemy.actor.lib.TimeDelay">
                <property name="delay" class="ptolemy.actor.parameters.PortParameter" value="duration">
                </property>
                <property name="_location" class="ptolemy.kernel.util.Location" value="[370.0, 455.0]">
                </property>
            </entity>
            <entity name="TimeDelay2" class="ptolemy.actor.lib.TimeDelay">
                <property name="delay" class="ptolemy.actor.parameters.PortParameter" value="duration">
                </property>
                <property name="_location" class="ptolemy.kernel.util.Location" value="[385.0, 620.0]">
                </property>
            </entity>
            <entity name="counter" class="ptolemy.actor.lib.jjs.JavaScript">
                <property name="_windowProperties" class="ptolemy.actor.gui.WindowPropertiesAttribute">
                </property>
                <property name="_paneSize" class="ptolemy.actor.gui.SizeAttribute">
                </property>
                <property name="script" class="ptolemy.actor.parameters.PortParameter" value="// counter that simulates the street&#10;	var counter = 0;&#10;//queue to save the waiting cars&#10;	var queue = [];&#10;&#10;exports.setup = function () {&#10;	//the Input-ports for the incoming cars&#10;    this.input('input');&#10;    this.input('counter');&#10;    &#10;    //the Output-ports for the leaving cars&#10;    this.output('output');&#10;    this.output('display');&#10;    this.output('trigger');&#10;}&#10;&#10;exports.initialize = function () {&#10;	&#10;	this.addInputHandler('input', function() {&#10;		this.send('output', this.get('input'));&#10;	});&#10;	&#10;	this.addInputHandler('counter', function() {&#10;		counter = this.get('counter');&#10;		&#10;		if (this.getParameter('analysisFlag') == 1) {&#10;			this.send('display', counter);&#10;		}&#10;		&#10;		if (counter &lt; this.getParameter('streetLength')) {&#10;			this.send('trigger', true);&#10;		} else {&#10;			// do nothing, street is full&#10;		}&#10;		&#10;		/*&#10;		if (counter &gt; this.getParameter('streetLength')) {&#10;			this.send('trigger', (counter-this.getParameter('streetLength'))*3);&#10;		} else {&#10;			while (queue.length != 0) {&#10;				this.send('output', queue.pop());&#10;			}&#10;		}*/&#10;	});&#10;}">
                    <property name="style" class="ptolemy.actor.gui.style.NoteStyle">
                        <property name="note" class="ptolemy.kernel.util.StringAttribute" value="NOTE: To see the script, invoke Open Actor">
                        </property>
                    </property>
                </property>
                <property name="_tableauFactory" class="ptolemy.vergil.toolbox.TextEditorTableauFactory">
                    <property name="attributeName" class="ptolemy.kernel.util.StringAttribute" value="script">
                    </property>
                    <property name="syntaxStyle" class="ptolemy.kernel.util.StringAttribute" value="text/javascript">
                    </property>
                </property>
                <property name="_location" class="ptolemy.kernel.util.Location" value="[555.0, 455.0]">
                </property>
                <property name="_hideName" class="ptolemy.data.expr.SingletonParameter" value="true">
                </property>
                <property name="_flipPortsVertical" class="ptolemy.data.expr.Parameter" value="true">
                </property>
                <property name="analysisFlag" class="ptolemy.data.expr.Parameter" value="analysisFlag">
                </property>
                <property name="streetLength" class="ptolemy.data.expr.Parameter" value="streetLength">
                </property>
                <port name="input" class="ptolemy.actor.TypedIOPort">
                    <property name="input"/>
                </port>
                <port name="output" class="ptolemy.actor.TypedIOPort">
                    <property name="output"/>
                </port>
                <port name="display" class="ptolemy.actor.TypedIOPort">
                    <property name="output"/>
                    <property name="_cardinal" class="ptolemy.kernel.util.StringAttribute" value="NORTH">
                    </property>
                    <property name="_type" class="ptolemy.actor.TypeAttribute" value="double">
                    </property>
                </port>
                <port name="trigger" class="ptolemy.actor.TypedIOPort">
                    <property name="output"/>
                </port>
                <port name="counter" class="ptolemy.actor.TypedIOPort">
                    <property name="input"/>
                    <property name="_type" class="ptolemy.actor.TypeAttribute" value="double">
                    </property>
                </port>
            </entity>
            <entity name="TimedPlotter" class="ptolemy.actor.lib.gui.TimedPlotter">
                <property name="legend" class="ptolemy.kernel.util.StringAttribute" value="counter: left-right, counter: right-left">
                </property>
                <property name="_windowProperties" class="ptolemy.actor.gui.WindowPropertiesAttribute" value="{bounds={278, 130, 687, 497}, maximized=false}">
                </property>
                <property name="_plotSize" class="ptolemy.actor.gui.SizeAttribute" value="[671, 437]">
                </property>
                <property name="_location" class="ptolemy.kernel.util.Location" value="[600.0, 540.0]">
                </property>
                <configure>
<?plotml <!DOCTYPE plot PUBLIC "-//UC Berkeley//DTD PlotML 1//EN"
"http://ptolemy.eecs.berkeley.edu/xml/dtd/PlotML_1.dtd">
<plot>
<title>TimedPlotter</title>
<xLabel></xLabel>
<yLabel></yLabel>
<xRange min="1.7976931348623157E308" max="-1.7976931348623157E308"/>
<yRange min="1.7976931348623157E308" max="-1.7976931348623157E308"/>
</plot>?>
                </configure>
            </entity>
            <entity name="Counter" class="ptolemy.actor.lib.Counter">
                <property name="_location" class="ptolemy.kernel.util.Location" value="[440.66734313964844, 330.9227752685547]">
                </property>
            </entity>
            <entity name="Counter2" class="ptolemy.actor.lib.Counter">
                <property name="_location" class="ptolemy.kernel.util.Location" value="{444.3317368090452, 733.3371125801125}">
                </property>
            </entity>
            <entity name="counter3" class="ptolemy.actor.lib.jjs.JavaScript">
                <property name="_windowProperties" class="ptolemy.actor.gui.WindowPropertiesAttribute">
                </property>
                <property name="_paneSize" class="ptolemy.actor.gui.SizeAttribute">
                </property>
                <property name="script" class="ptolemy.actor.parameters.PortParameter" value="// counter that simulates the street&#10;	var counter = 0;&#10;//queue to save the waiting cars&#10;	var queue = [];&#10;&#10;exports.setup = function () {&#10;	//the Input-ports for the incoming cars&#10;    this.input('input');&#10;    this.input('counter');&#10;    &#10;    //the Output-ports for the leaving cars&#10;    this.output('output');&#10;    this.output('display');&#10;    this.output('trigger');&#10;}&#10;&#10;exports.initialize = function () {&#10;	&#10;	this.addInputHandler('input', function() {&#10;		this.send('output', this.get('input'));&#10;	});&#10;	&#10;	this.addInputHandler('counter', function() {&#10;		counter = this.get('counter');&#10;		&#10;		if (this.getParameter('analysisFlag') == 1) {&#10;			this.send('display', counter);&#10;		}&#10;		&#10;		if (counter &lt; this.getParameter('streetLength')) {&#10;			this.send('trigger', counter);&#10;		} else {&#10;			// do nothing, street is full&#10;		}&#10;		&#10;		/*&#10;		if (counter &gt; this.getParameter('streetLength')) {&#10;			this.send('trigger', (counter-this.getParameter('streetLength'))*3);&#10;		} else {&#10;			while (queue.length != 0) {&#10;				this.send('output', queue.pop());&#10;			}&#10;		}*/&#10;	});&#10;}">
                    <property name="style" class="ptolemy.actor.gui.style.NoteStyle">
                        <property name="note" class="ptolemy.kernel.util.StringAttribute" value="NOTE: To see the script, invoke Open Actor">
                        </property>
                    </property>
                </property>
                <property name="_tableauFactory" class="ptolemy.vergil.toolbox.TextEditorTableauFactory">
                    <property name="attributeName" class="ptolemy.kernel.util.StringAttribute" value="script">
                    </property>
                    <property name="syntaxStyle" class="ptolemy.kernel.util.StringAttribute" value="text/javascript">
                    </property>
                </property>
                <property name="_location" class="ptolemy.kernel.util.Location" value="[530.0, 600.0]">
                </property>
                <property name="_hideName" class="ptolemy.data.expr.SingletonParameter" value="true">
                </property>
                <property name="_flipPortsVertical" class="ptolemy.data.expr.Parameter" value="true">
                </property>
                <property name="analysisFlag" class="ptolemy.data.expr.Parameter" value="analysisFlag">
                </property>
                <property name="streetLength" class="ptolemy.data.expr.Parameter" value="streetLength">
                </property>
                <port name="input" class="ptolemy.actor.TypedIOPort">
                    <property name="input"/>
                </port>
                <port name="output" class="ptolemy.actor.TypedIOPort">
                    <property name="output"/>
                </port>
                <port name="display" class="ptolemy.actor.TypedIOPort">
                    <property name="output"/>
                    <property name="_cardinal" class="ptolemy.kernel.util.StringAttribute" value="NORTH">
                    </property>
                    <property name="_type" class="ptolemy.actor.TypeAttribute" value="double">
                    </property>
                </port>
                <port name="trigger" class="ptolemy.actor.TypedIOPort">
                    <property name="output"/>
                </port>
                <port name="counter" class="ptolemy.actor.TypedIOPort">
                    <property name="input"/>
                    <property name="_type" class="ptolemy.actor.TypeAttribute" value="double">
                    </property>
                </port>
            </entity>
            <entity name="Queue" class="ptolemy.domains.de.lib.Queue">
                <property name="capacity" class="ptolemy.data.expr.Parameter" value="10">
                </property>
                <property name="persistentTrigger" class="ptolemy.data.expr.Parameter" value="true">
                </property>
                <property name="_location" class="ptolemy.kernel.util.Location" value="[190.0, 455.0]">
                </property>
            </entity>
            <entity name="Queue2" class="ptolemy.domains.de.lib.Queue">
                <property name="_location" class="ptolemy.kernel.util.Location" value="{187.8914925102946, 620.4811694530187}">
                </property>
            </entity>
            <entity name="TimeDelay3" class="ptolemy.actor.lib.TimeDelay">
                <property name="delay" class="ptolemy.actor.parameters.PortParameter" value="1">
                </property>
                <property name="_location" class="ptolemy.kernel.util.Location" value="{267.3117148241206, 692.9343958715698}">
                </property>
                <property name="_flipPortsHorizontal" class="ptolemy.data.expr.Parameter" value="true">
                </property>
            </entity>
            <entity name="TimeDelay4" class="ptolemy.actor.lib.TimeDelay">
                <property name="delay" class="ptolemy.actor.parameters.PortParameter" value="1">
                </property>
                <property name="_location" class="ptolemy.kernel.util.Location" value="[270.0, 515.0]">
                </property>
                <property name="_flipPortsHorizontal" class="ptolemy.data.expr.Parameter" value="true">
                </property>
            </entity>
            <entity name="PoissonClock" class="ptolemy.actor.lib.PoissonClock">
                <property name="meanTime" class="ptolemy.data.expr.Parameter" value="0.5">
                </property>
                <property name="stopTime" class="ptolemy.data.expr.Parameter" value="1">
                </property>
                <property name="_location" class="ptolemy.kernel.util.Location" value="[20.0, 525.0]">
                </property>
            </entity>
            <entity name="PoissonClock2" class="ptolemy.actor.lib.PoissonClock">
                <property name="meanTime" class="ptolemy.data.expr.Parameter" value="0.5">
                </property>
                <property name="stopTime" class="ptolemy.data.expr.Parameter" value="1">
                </property>
                <property name="_location" class="ptolemy.kernel.util.Location" value="[10.0, 755.0]">
                </property>
            </entity>
            <entity name="JavaScript" class="ptolemy.actor.lib.jjs.JavaScript">
                <property name="_windowProperties" class="ptolemy.actor.gui.WindowPropertiesAttribute">
                </property>
                <property name="_paneSize" class="ptolemy.actor.gui.SizeAttribute">
                </property>
                <property name="script" class="ptolemy.actor.parameters.PortParameter" value="var queueSize = 0;&#10;&#10;exports.setup = function () {&#10;	//the Input-ports for the incoming cars&#10;    this.input('input');&#10;    this.input('clock');&#10;    &#10;    //the Output-ports for the leaving cars&#10;    this.output('output');&#10;}&#10;&#10;exports.initialize = function () {&#10;	&#10;	this.addInputHandler('input', function() {&#10;		queueSize = this.get('input');&#10;	});&#10;	&#10;	this.addInputHandler('clock', function() {&#10;		if(queueSize == 0) {&#10;			this.send('output', true);&#10;		}&#10;	});&#10;}">
                    <property name="style" class="ptolemy.actor.gui.style.NoteStyle">
                        <property name="note" class="ptolemy.kernel.util.StringAttribute" value="NOTE: To see the script, invoke Open Actor">
                        </property>
                    </property>
                </property>
                <property name="_tableauFactory" class="ptolemy.vergil.toolbox.TextEditorTableauFactory">
                    <property name="attributeName" class="ptolemy.kernel.util.StringAttribute" value="script">
                    </property>
                    <property name="syntaxStyle" class="ptolemy.kernel.util.StringAttribute" value="text/javascript">
                    </property>
                </property>
                <property name="_location" class="ptolemy.kernel.util.Location" value="[110.0, 755.0]">
                </property>
                <property name="_flipPortsHorizontal" class="ptolemy.data.expr.Parameter" value="false">
                </property>
                <port name="input" class="ptolemy.actor.TypedIOPort">
                    <property name="input"/>
                    <property name="_cardinal" class="ptolemy.kernel.util.StringAttribute" value="NORTH">
                    </property>
                </port>
                <port name="output" class="ptolemy.actor.TypedIOPort">
                    <property name="output"/>
                </port>
                <port name="clock" class="ptolemy.actor.TypedIOPort">
                    <property name="input"/>
                </port>
            </entity>
            <entity name="JavaScript2" class="ptolemy.actor.lib.jjs.JavaScript">
                <property name="_windowProperties" class="ptolemy.actor.gui.WindowPropertiesAttribute">
                </property>
                <property name="_paneSize" class="ptolemy.actor.gui.SizeAttribute">
                </property>
                <property name="script" class="ptolemy.actor.parameters.PortParameter" value="var queueSize = 0;&#10;&#10;exports.setup = function () {&#10;	//the Input-ports for the incoming cars&#10;    this.input('input');&#10;    this.input('clock');&#10;    &#10;    //the Output-ports for the leaving cars&#10;    this.output('output');&#10;}&#10;&#10;exports.initialize = function () {&#10;	&#10;	this.addInputHandler('input', function() {&#10;		queueSize = this.get('input');&#10;	});&#10;	&#10;	this.addInputHandler('clock', function() {&#10;		if(queueSize == 0) {&#10;			this.send('output', true);&#10;		}&#10;	});&#10;}">
                    <property name="style" class="ptolemy.actor.gui.style.NoteStyle">
                        <property name="note" class="ptolemy.kernel.util.StringAttribute" value="NOTE: To see the script, invoke Open Actor">
                        </property>
                    </property>
                </property>
                <property name="_tableauFactory" class="ptolemy.vergil.toolbox.TextEditorTableauFactory">
                    <property name="attributeName" class="ptolemy.kernel.util.StringAttribute" value="script">
                    </property>
                    <property name="syntaxStyle" class="ptolemy.kernel.util.StringAttribute" value="text/javascript">
                    </property>
                </property>
                <property name="_location" class="ptolemy.kernel.util.Location" value="[110.0, 555.0]">
                </property>
                <property name="_flipPortsHorizontal" class="ptolemy.data.expr.Parameter" value="false">
                </property>
                <port name="input" class="ptolemy.actor.TypedIOPort">
                    <property name="input"/>
                    <property name="_cardinal" class="ptolemy.kernel.util.StringAttribute" value="NORTH">
                    </property>
                </port>
                <port name="output" class="ptolemy.actor.TypedIOPort">
                    <property name="output"/>
                </port>
                <port name="clock" class="ptolemy.actor.TypedIOPort">
                    <property name="input"/>
                </port>
            </entity>
            <entity name="TimeDelay5" class="ptolemy.actor.lib.TimeDelay">
                <property name="delay" class="ptolemy.actor.parameters.PortParameter" value="1">
                </property>
                <property name="_location" class="ptolemy.kernel.util.Location" value="{102.8625157035176, 472.1470214997105}">
                </property>
                <property name="_flipPortsHorizontal" class="ptolemy.data.expr.Parameter" value="true">
                </property>
            </entity>
            <entity name="TimeDelay6" class="ptolemy.actor.lib.TimeDelay">
                <property name="delay" class="ptolemy.actor.parameters.PortParameter" value="1">
                </property>
                <property name="_location" class="ptolemy.kernel.util.Location" value="{104.8625157035176, 648.1470214997105}">
                </property>
                <property name="_flipPortsHorizontal" class="ptolemy.data.expr.Parameter" value="true">
                </property>
            </entity>
            <relation name="relation4" class="ptolemy.actor.TypedIORelation">
            </relation>
            <relation name="relation9" class="ptolemy.actor.TypedIORelation">
                <property name="width" class="ptolemy.data.expr.Parameter" value="-1">
                </property>
                <vertex name="vertex1" value="[285.0, 455.0]">
                </vertex>
            </relation>
            <relation name="relation" class="ptolemy.actor.TypedIORelation">
                <property name="width" class="ptolemy.data.expr.Parameter" value="-1">
                </property>
                <vertex name="vertex1" value="[460.0, 455.0]">
                </vertex>
            </relation>
            <relation name="relation11" class="ptolemy.actor.TypedIORelation">
                <property name="width" class="ptolemy.data.expr.Parameter" value="-1">
                </property>
                <vertex name="vertex1" value="{295.0, 620.0}">
                </vertex>
            </relation>
            <relation name="relation3" class="ptolemy.actor.TypedIORelation">
                <property name="width" class="ptolemy.data.expr.Parameter" value="-1">
                </property>
                <vertex name="vertex1" value="{465.0, 620.0}">
                </vertex>
            </relation>
            <relation name="relation2" class="ptolemy.actor.TypedIORelation">
            </relation>
            <relation name="relation5" class="ptolemy.actor.TypedIORelation">
            </relation>
            <relation name="relation6" class="ptolemy.actor.TypedIORelation">
            </relation>
            <relation name="relation7" class="ptolemy.actor.TypedIORelation">
            </relation>
            <relation name="relation10" class="ptolemy.actor.TypedIORelation">
            </relation>
            <relation name="relation13" class="ptolemy.actor.TypedIORelation">
            </relation>
            <relation name="relation14" class="ptolemy.actor.TypedIORelation">
            </relation>
            <relation name="relation15" class="ptolemy.actor.TypedIORelation">
            </relation>
            <relation name="relation8" class="ptolemy.actor.TypedIORelation">
            </relation>
            <relation name="relation16" class="ptolemy.actor.TypedIORelation">
            </relation>
            <relation name="relation12" class="ptolemy.actor.TypedIORelation">
            </relation>
            <relation name="relation17" class="ptolemy.actor.TypedIORelation">
            </relation>
            <relation name="relation20" class="ptolemy.actor.TypedIORelation">
            </relation>
            <relation name="relation18" class="ptolemy.actor.TypedIORelation">
            </relation>
            <relation name="relation22" class="ptolemy.actor.TypedIORelation">
            </relation>
            <relation name="relation21" class="ptolemy.actor.TypedIORelation">
            </relation>
            <relation name="relation23" class="ptolemy.actor.TypedIORelation">
            </relation>
            <relation name="relation19" class="ptolemy.actor.TypedIORelation">
            </relation>
            <relation name="relation24" class="ptolemy.actor.TypedIORelation">
            </relation>
            <link port="left-right-input" relation="relation13"/>
            <link port="left-right-output" relation="relation4"/>
            <link port="right-left-input" relation="relation14"/>
            <link port="right-left-output" relation="relation10"/>
            <link port="TimeDelay.input" relation="relation9"/>
            <link port="TimeDelay.output" relation="relation"/>
            <link port="TimeDelay2.input" relation="relation11"/>
            <link port="TimeDelay2.output" relation="relation3"/>
            <link port="counter.input" relation="relation"/>
            <link port="counter.output" relation="relation4"/>
            <link port="counter.display" relation="relation5"/>
            <link port="counter.trigger" relation="relation16"/>
            <link port="counter.counter" relation="relation2"/>
            <link port="TimedPlotter.input" relation="relation5"/>
            <link port="TimedPlotter.input" relation="relation7"/>
            <link port="Counter.increment" relation="relation9"/>
            <link port="Counter.decrement" relation="relation"/>
            <link port="Counter.output" relation="relation2"/>
            <link port="Counter2.increment" relation="relation11"/>
            <link port="Counter2.decrement" relation="relation3"/>
            <link port="Counter2.output" relation="relation6"/>
            <link port="counter3.input" relation="relation3"/>
            <link port="counter3.output" relation="relation10"/>
            <link port="counter3.display" relation="relation7"/>
            <link port="counter3.trigger" relation="relation15"/>
            <link port="counter3.counter" relation="relation6"/>
            <link port="Queue.input" relation="relation13"/>
            <link port="Queue.output" relation="relation9"/>
            <link port="Queue.trigger" relation="relation8"/>
            <link port="Queue.trigger" relation="relation22"/>
            <link port="Queue.size" relation="relation21"/>
            <link port="Queue2.input" relation="relation14"/>
            <link port="Queue2.output" relation="relation11"/>
            <link port="Queue2.trigger" relation="relation12"/>
            <link port="Queue2.trigger" relation="relation20"/>
            <link port="Queue2.size" relation="relation19"/>
            <link port="TimeDelay3.input" relation="relation15"/>
            <link port="TimeDelay3.output" relation="relation12"/>
            <link port="TimeDelay4.input" relation="relation16"/>
            <link port="TimeDelay4.output" relation="relation8"/>
            <link port="PoissonClock.output" relation="relation18"/>
            <link port="PoissonClock2.output" relation="relation17"/>
            <link port="JavaScript.input" relation="relation24"/>
            <link port="JavaScript.output" relation="relation20"/>
            <link port="JavaScript.clock" relation="relation17"/>
            <link port="JavaScript2.input" relation="relation23"/>
            <link port="JavaScript2.output" relation="relation22"/>
            <link port="JavaScript2.clock" relation="relation18"/>
            <link port="TimeDelay5.input" relation="relation21"/>
            <link port="TimeDelay5.output" relation="relation23"/>
            <link port="TimeDelay6.input" relation="relation19"/>
            <link port="TimeDelay6.output" relation="relation24"/>
        </entity>
        <relation name="relation5" class="ptolemy.actor.TypedIORelation">
            <property name="_layoutHint" class="ptolemy.vergil.actor.LayoutHint" value="{ { head={id=&quot;leftRightInput._location&quot;,x=15.0,y=255.0}, tail={id=&quot;TimeDelay.input&quot;,x=145.0,y=255.0}, points={} } }">
            </property>
        </relation>
        <relation name="relation6" class="ptolemy.actor.TypedIORelation">
        </relation>
        <relation name="relation3" class="ptolemy.actor.TypedIORelation">
            <property name="_layoutHint" class="ptolemy.vergil.actor.LayoutHint" value="{ { head={id=&quot;Street2.right-left-input&quot;,x=270.0,y=265.0}, tail={id=&quot;TimeDelay2.output&quot;,x=385.0,y=275.0}, points={} } }">
            </property>
        </relation>
        <relation name="relation" class="ptolemy.actor.TypedIORelation">
            <property name="_layoutHint" class="ptolemy.vergil.actor.LayoutHint" value="{ { head={id=&quot;Street2.left-right-input&quot;,x=270.0,y=265.0}, tail={id=&quot;TimeDelay.output&quot;,x=145.0,y=255.0}, points={} } }">
            </property>
        </relation>
        <relation name="relation8" class="ptolemy.actor.TypedIORelation">
            <property name="_layoutHint" class="ptolemy.vergil.actor.LayoutHint" value="{ { head={id=&quot;leftRightOutput._location&quot;,x=355.0,y=205.0}, tail={id=&quot;Street2.left-right-output&quot;,x=270.0,y=265.0}, points={320.0,205.0,320.0,255.0} } }">
            </property>
        </relation>
        <relation name="relation7" class="ptolemy.actor.TypedIORelation">
        </relation>
        <link port="leftRightInput" relation="relation5"/>
        <link port="leftRightOutput" relation="relation8"/>
        <link port="rightLeftInput" relation="relation6"/>
        <link port="rightLeftOutput" relation="relation7"/>
        <link port="TimeDelay.input" relation="relation5"/>
        <link port="TimeDelay.output" relation="relation"/>
        <link port="TimeDelay2.input" relation="relation6"/>
        <link port="TimeDelay2.output" relation="relation3"/>
        <link port="Street2.left-right-input" relation="relation"/>
        <link port="Street2.left-right-output" relation="relation8"/>
        <link port="Street2.right-left-input" relation="relation3"/>
        <link port="Street2.right-left-output" relation="relation7"/>
    </entity>
    <entity name="Road8" class="ptolemy.actor.TypedCompositeActor">
        <property name="_location" class="ptolemy.kernel.util.Location" value="[-125.0, 260.0]">
        </property>
        <property name="_windowProperties" class="ptolemy.actor.gui.WindowPropertiesAttribute" value="{bounds={174, 129, 928, 617}, maximized=false}">
        </property>
        <property name="_vergilSize" class="ptolemy.actor.gui.SizeAttribute" value="[700, 500]">
        </property>
        <property name="_vergilZoomFactor" class="ptolemy.data.expr.ExpertParameter" value="1.0">
        </property>
        <property name="_vergilCenter" class="ptolemy.data.expr.ExpertParameter" value="{246.40059673366832, 253.38222361809045}">
        </property>
        <property name="_icon" class="ptolemy.vergil.icon.EditorIcon">
            <property name="rectangle" class="ptolemy.vergil.kernel.attributes.RectangleAttribute">
                <property name="_location" class="ptolemy.kernel.util.Location" value="{0, 0}">
                </property>
                <property name="width" class="ptolemy.data.expr.Parameter" value="60">
                </property>
                <property name="height" class="ptolemy.data.expr.Parameter" value="40">
                </property>
                <property name="centered" class="ptolemy.data.expr.Parameter" value="true">
                </property>
                <property name="fillColor" class="ptolemy.actor.gui.ColorAttribute" value="{1.0, 1.0, 1.0, 1.0}">
                </property>
            </property>
            <property name="Annotation" class="ptolemy.vergil.kernel.attributes.TextAttribute">
                <property name="textColor" class="ptolemy.actor.gui.ColorAttribute" value="{0.0, 0.0, 0.0, 1.0}">
                </property>
                <property name="text" class="ptolemy.kernel.util.StringAttribute" value="- - - - - -">
                </property>
                <property name="_location" class="ptolemy.kernel.util.Location" value="[-28.0, -4.0]">
                </property>
            </property>
            <property name="_windowProperties" class="ptolemy.actor.gui.WindowPropertiesAttribute" value="{bounds={219, 75, 928, 617}, maximized=false}">
            </property>
            <property name="_vergilSize" class="ptolemy.actor.gui.SizeAttribute" value="[700, 500]">
            </property>
            <property name="_vergilZoomFactor" class="ptolemy.data.expr.ExpertParameter" value="4.0">
            </property>
            <property name="_vergilCenter" class="ptolemy.data.expr.ExpertParameter" value="{12.5, 6.25}">
            </property>
        </property>
        <property name="streetLength" class="ptolemy.data.expr.Parameter" value="4">
        </property>
        <property name="duration" class="ptolemy.data.expr.Parameter" value="4">
        </property>
        <property name="analysisFlag" class="ptolemy.data.expr.Parameter" value="StreetPlotterFlag">
        </property>
        <port name="leftRightInput" class="ptolemy.actor.TypedIOPort">
            <property name="input"/>
            <property name="_location" class="ptolemy.kernel.util.Location" value="{15.0, 255.0}">
            </property>
            <property name="_cardinal" class="ptolemy.kernel.util.StringAttribute" value="WEST">
            </property>
        </port>
        <port name="leftRightOutput" class="ptolemy.actor.TypedIOPort">
            <property name="output"/>
            <property name="_location" class="ptolemy.kernel.util.Location" value="{355.0, 205.0}">
            </property>
            <property name="_cardinal" class="ptolemy.kernel.util.StringAttribute" value="EAST">
            </property>
        </port>
        <port name="rightLeftInput" class="ptolemy.actor.TypedIOPort">
            <property name="input"/>
            <property name="_location" class="ptolemy.kernel.util.Location" value="[490.0, 220.0]">
            </property>
            <property name="_cardinal" class="ptolemy.kernel.util.StringAttribute" value="EAST">
            </property>
        </port>
        <port name="rightLeftOutput" class="ptolemy.actor.TypedIOPort">
            <property name="output"/>
            <property name="_location" class="ptolemy.kernel.util.Location" value="[225.0, 350.0]">
            </property>
            <property name="_cardinal" class="ptolemy.kernel.util.StringAttribute" value="WEST">
            </property>
        </port>
        <entity name="TimeDelay" class="ptolemy.actor.lib.TimeDelay">
            <property name="delay" class="ptolemy.actor.parameters.PortParameter" value="1">
            </property>
            <property name="_location" class="ptolemy.kernel.util.Location" value="{145.0, 255.0}">
            </property>
            <port name="delay" class="ptolemy.actor.parameters.ParameterPort">
                <property name="input"/>
                <property name="_type" class="ptolemy.actor.TypeAttribute" value="double">
                </property>
            </port>
        </entity>
        <entity name="TimeDelay2" class="ptolemy.actor.lib.TimeDelay">
            <property name="delay" class="ptolemy.actor.parameters.PortParameter" value="1">
            </property>
            <property name="_location" class="ptolemy.kernel.util.Location" value="{385.0, 275.0}">
            </property>
            <property name="_flipPortsHorizontal" class="ptolemy.data.expr.Parameter" value="true">
            </property>
            <port name="delay" class="ptolemy.actor.parameters.ParameterPort">
                <property name="input"/>
                <property name="_type" class="ptolemy.actor.TypeAttribute" value="double">
                </property>
            </port>
        </entity>
        <entity name="Street2" class="ptolemy.actor.TypedCompositeActor">
            <property name="_location" class="ptolemy.kernel.util.Location" value="{270.0, 265.0}">
            </property>
            <property name="_icon" class="ptolemy.vergil.icon.EditorIcon">
                <property name="rectangle" class="ptolemy.vergil.kernel.attributes.RectangleAttribute">
                    <property name="_location" class="ptolemy.kernel.util.Location" value="-0.5, 0.5">
                    </property>
                    <property name="width" class="ptolemy.data.expr.Parameter" value="41.0">
                    </property>
                    <property name="height" class="ptolemy.data.expr.Parameter" value="21.0">
                    </property>
                    <property name="centered" class="ptolemy.data.expr.Parameter" value="true">
                    </property>
                    <property name="fillColor" class="ptolemy.actor.gui.ColorAttribute" value="{1.0, 1.0, 1.0, 1.0}">
                    </property>
                    <property name="_renderFirst" class="ptolemy.kernel.util.SingletonAttribute">
                    </property>
                </property>
                <property name="line" class="ptolemy.vergil.kernel.attributes.LineAttribute">
                    <property name="_location" class="ptolemy.kernel.util.Location" value="[-20.0, -10.0]">
                    </property>
                    <property name="x" class="ptolemy.data.expr.Parameter" value="40.0">
                    </property>
                    <property name="y" class="ptolemy.data.expr.Parameter" value="0.0">
                    </property>
                </property>
                <property name="line2" class="ptolemy.vergil.kernel.attributes.LineAttribute">
                    <property name="_location" class="ptolemy.kernel.util.Location" value="[-20.0, 11.0]">
                    </property>
                    <property name="x" class="ptolemy.data.expr.Parameter" value="40.0">
                    </property>
                    <property name="y" class="ptolemy.data.expr.Parameter" value="0.0">
                    </property>
                </property>
                <property name="Annotation" class="ptolemy.vergil.kernel.attributes.TextAttribute">
                    <property name="textColor" class="ptolemy.actor.gui.ColorAttribute" value="{0.0, 0.0, 0.0, 1.0}">
                    </property>
                    <property name="text" class="ptolemy.kernel.util.StringAttribute" value="- - - - -">
                    </property>
                    <property name="_location" class="ptolemy.kernel.util.Location" value="[-24.0, -4.0]">
                    </property>
                </property>
            </property>
            <property name="_windowProperties" class="ptolemy.actor.gui.WindowPropertiesAttribute" value="{bounds={610, 195, 928, 618}, maximized=false}">
            </property>
            <property name="_vergilSize" class="ptolemy.actor.gui.SizeAttribute" value="[700, 501]">
            </property>
            <property name="_vergilZoomFactor" class="ptolemy.data.expr.ExpertParameter" value="1.0">
            </property>
            <property name="_vergilCenter" class="ptolemy.data.expr.ExpertParameter" value="{265.8625157035176, 588.6470214997105}">
            </property>
            <property name="streetLength" class="ptolemy.data.expr.Parameter" value="streetLength">
            </property>
            <property name="analysisFlag" class="ptolemy.data.expr.Parameter" value="StreetPlotterFlag">
            </property>
            <property name="duration" class="ptolemy.data.expr.Parameter" value="duration">
            </property>
            <port name="left-right-input" class="ptolemy.actor.TypedIOPort">
                <property name="input"/>
                <property name="_cardinal" class="ptolemy.kernel.util.StringAttribute" value="WEST">
                </property>
                <property name="_location" class="ptolemy.kernel.util.Location" value="[10.0, 455.0]">
                </property>
                <property name="_type" class="ptolemy.actor.TypeAttribute" value="{carId = int, roadMap = arrayType(int), indicator = int, intersectionCount = int}">
                </property>
                <property name="_showName" class="ptolemy.data.expr.SingletonParameter" value="false">
                </property>
            </port>
            <port name="left-right-output" class="ptolemy.actor.TypedIOPort">
                <property name="output"/>
                <property name="_cardinal" class="ptolemy.kernel.util.StringAttribute" value="EAST">
                </property>
                <property name="_location" class="ptolemy.kernel.util.Location" value="[665.0, 435.0]">
                </property>
                <property name="_type" class="ptolemy.actor.TypeAttribute" value="{carId = int, roadMap = arrayType(int), indicator = int, intersectionCount = int}">
                </property>
                <property name="_showName" class="ptolemy.data.expr.SingletonParameter" value="false">
                </property>
            </port>
            <port name="right-left-input" class="ptolemy.actor.TypedIOPort">
                <property name="input"/>
                <property name="_cardinal" class="ptolemy.kernel.util.StringAttribute" value="EAST">
                </property>
                <property name="_location" class="ptolemy.kernel.util.Location" value="[10.0, 620.0]">
                </property>
                <property name="_type" class="ptolemy.actor.TypeAttribute" value="{carId = int, roadMap = arrayType(int), indicator = int, intersectionCount = int}">
                </property>
                <property name="_showName" class="ptolemy.data.expr.SingletonParameter" value="false">
                </property>
            </port>
            <port name="right-left-output" class="ptolemy.actor.TypedIOPort">
                <property name="output"/>
                <property name="_cardinal" class="ptolemy.kernel.util.StringAttribute" value="WEST">
                </property>
                <property name="_location" class="ptolemy.kernel.util.Location" value="[660.0, 600.0]">
                </property>
                <property name="_type" class="ptolemy.actor.TypeAttribute" value="{carId = int, roadMap = arrayType(int), indicator = int, intersectionCount = int}">
                </property>
                <property name="_showName" class="ptolemy.data.expr.SingletonParameter" value="false">
                </property>
            </port>
            <entity name="TimeDelay" class="ptolemy.actor.lib.TimeDelay">
                <property name="delay" class="ptolemy.actor.parameters.PortParameter" value="duration">
                </property>
                <property name="_location" class="ptolemy.kernel.util.Location" value="[370.0, 455.0]">
                </property>
            </entity>
            <entity name="TimeDelay2" class="ptolemy.actor.lib.TimeDelay">
                <property name="delay" class="ptolemy.actor.parameters.PortParameter" value="duration">
                </property>
                <property name="_location" class="ptolemy.kernel.util.Location" value="[385.0, 620.0]">
                </property>
            </entity>
            <entity name="counter" class="ptolemy.actor.lib.jjs.JavaScript">
                <property name="_windowProperties" class="ptolemy.actor.gui.WindowPropertiesAttribute">
                </property>
                <property name="_paneSize" class="ptolemy.actor.gui.SizeAttribute">
                </property>
                <property name="script" class="ptolemy.actor.parameters.PortParameter" value="// counter that simulates the street&#10;	var counter = 0;&#10;//queue to save the waiting cars&#10;	var queue = [];&#10;&#10;exports.setup = function () {&#10;	//the Input-ports for the incoming cars&#10;    this.input('input');&#10;    this.input('counter');&#10;    &#10;    //the Output-ports for the leaving cars&#10;    this.output('output');&#10;    this.output('display');&#10;    this.output('trigger');&#10;}&#10;&#10;exports.initialize = function () {&#10;	&#10;	this.addInputHandler('input', function() {&#10;		this.send('output', this.get('input'));&#10;	});&#10;	&#10;	this.addInputHandler('counter', function() {&#10;		counter = this.get('counter');&#10;		&#10;		if (this.getParameter('analysisFlag') == 1) {&#10;			this.send('display', counter);&#10;		}&#10;		&#10;		if (counter &lt; this.getParameter('streetLength')) {&#10;			this.send('trigger', true);&#10;		} else {&#10;			// do nothing, street is full&#10;		}&#10;		&#10;		/*&#10;		if (counter &gt; this.getParameter('streetLength')) {&#10;			this.send('trigger', (counter-this.getParameter('streetLength'))*3);&#10;		} else {&#10;			while (queue.length != 0) {&#10;				this.send('output', queue.pop());&#10;			}&#10;		}*/&#10;	});&#10;}">
                    <property name="style" class="ptolemy.actor.gui.style.NoteStyle">
                        <property name="note" class="ptolemy.kernel.util.StringAttribute" value="NOTE: To see the script, invoke Open Actor">
                        </property>
                    </property>
                </property>
                <property name="_tableauFactory" class="ptolemy.vergil.toolbox.TextEditorTableauFactory">
                    <property name="attributeName" class="ptolemy.kernel.util.StringAttribute" value="script">
                    </property>
                    <property name="syntaxStyle" class="ptolemy.kernel.util.StringAttribute" value="text/javascript">
                    </property>
                </property>
                <property name="_location" class="ptolemy.kernel.util.Location" value="[555.0, 455.0]">
                </property>
                <property name="_hideName" class="ptolemy.data.expr.SingletonParameter" value="true">
                </property>
                <property name="_flipPortsVertical" class="ptolemy.data.expr.Parameter" value="true">
                </property>
                <property name="analysisFlag" class="ptolemy.data.expr.Parameter" value="analysisFlag">
                </property>
                <property name="streetLength" class="ptolemy.data.expr.Parameter" value="streetLength">
                </property>
                <port name="input" class="ptolemy.actor.TypedIOPort">
                    <property name="input"/>
                </port>
                <port name="output" class="ptolemy.actor.TypedIOPort">
                    <property name="output"/>
                </port>
                <port name="display" class="ptolemy.actor.TypedIOPort">
                    <property name="output"/>
                    <property name="_cardinal" class="ptolemy.kernel.util.StringAttribute" value="NORTH">
                    </property>
                    <property name="_type" class="ptolemy.actor.TypeAttribute" value="double">
                    </property>
                </port>
                <port name="trigger" class="ptolemy.actor.TypedIOPort">
                    <property name="output"/>
                </port>
                <port name="counter" class="ptolemy.actor.TypedIOPort">
                    <property name="input"/>
                    <property name="_type" class="ptolemy.actor.TypeAttribute" value="double">
                    </property>
                </port>
            </entity>
            <entity name="TimedPlotter" class="ptolemy.actor.lib.gui.TimedPlotter">
                <property name="legend" class="ptolemy.kernel.util.StringAttribute" value="counter: left-right, counter: right-left">
                </property>
                <property name="_windowProperties" class="ptolemy.actor.gui.WindowPropertiesAttribute" value="{bounds={278, 130, 687, 497}, maximized=false}">
                </property>
                <property name="_plotSize" class="ptolemy.actor.gui.SizeAttribute" value="[671, 437]">
                </property>
                <property name="_location" class="ptolemy.kernel.util.Location" value="[600.0, 540.0]">
                </property>
                <configure>
<?plotml <!DOCTYPE plot PUBLIC "-//UC Berkeley//DTD PlotML 1//EN"
"http://ptolemy.eecs.berkeley.edu/xml/dtd/PlotML_1.dtd">
<plot>
<title>TimedPlotter</title>
<xLabel></xLabel>
<yLabel></yLabel>
<xRange min="1.7976931348623157E308" max="-1.7976931348623157E308"/>
<yRange min="1.7976931348623157E308" max="-1.7976931348623157E308"/>
</plot>?>
                </configure>
            </entity>
            <entity name="Counter" class="ptolemy.actor.lib.Counter">
                <property name="_location" class="ptolemy.kernel.util.Location" value="[440.66734313964844, 330.9227752685547]">
                </property>
            </entity>
            <entity name="Counter2" class="ptolemy.actor.lib.Counter">
                <property name="_location" class="ptolemy.kernel.util.Location" value="{444.3317368090452, 733.3371125801125}">
                </property>
            </entity>
            <entity name="counter3" class="ptolemy.actor.lib.jjs.JavaScript">
                <property name="_windowProperties" class="ptolemy.actor.gui.WindowPropertiesAttribute">
                </property>
                <property name="_paneSize" class="ptolemy.actor.gui.SizeAttribute">
                </property>
                <property name="script" class="ptolemy.actor.parameters.PortParameter" value="// counter that simulates the street&#10;	var counter = 0;&#10;//queue to save the waiting cars&#10;	var queue = [];&#10;&#10;exports.setup = function () {&#10;	//the Input-ports for the incoming cars&#10;    this.input('input');&#10;    this.input('counter');&#10;    &#10;    //the Output-ports for the leaving cars&#10;    this.output('output');&#10;    this.output('display');&#10;    this.output('trigger');&#10;}&#10;&#10;exports.initialize = function () {&#10;	&#10;	this.addInputHandler('input', function() {&#10;		this.send('output', this.get('input'));&#10;	});&#10;	&#10;	this.addInputHandler('counter', function() {&#10;		counter = this.get('counter');&#10;		&#10;		if (this.getParameter('analysisFlag') == 1) {&#10;			this.send('display', counter);&#10;		}&#10;		&#10;		if (counter &lt; this.getParameter('streetLength')) {&#10;			this.send('trigger', counter);&#10;		} else {&#10;			// do nothing, street is full&#10;		}&#10;		&#10;		/*&#10;		if (counter &gt; this.getParameter('streetLength')) {&#10;			this.send('trigger', (counter-this.getParameter('streetLength'))*3);&#10;		} else {&#10;			while (queue.length != 0) {&#10;				this.send('output', queue.pop());&#10;			}&#10;		}*/&#10;	});&#10;}">
                    <property name="style" class="ptolemy.actor.gui.style.NoteStyle">
                        <property name="note" class="ptolemy.kernel.util.StringAttribute" value="NOTE: To see the script, invoke Open Actor">
                        </property>
                    </property>
                </property>
                <property name="_tableauFactory" class="ptolemy.vergil.toolbox.TextEditorTableauFactory">
                    <property name="attributeName" class="ptolemy.kernel.util.StringAttribute" value="script">
                    </property>
                    <property name="syntaxStyle" class="ptolemy.kernel.util.StringAttribute" value="text/javascript">
                    </property>
                </property>
                <property name="_location" class="ptolemy.kernel.util.Location" value="[530.0, 600.0]">
                </property>
                <property name="_hideName" class="ptolemy.data.expr.SingletonParameter" value="true">
                </property>
                <property name="_flipPortsVertical" class="ptolemy.data.expr.Parameter" value="true">
                </property>
                <property name="analysisFlag" class="ptolemy.data.expr.Parameter" value="analysisFlag">
                </property>
                <property name="streetLength" class="ptolemy.data.expr.Parameter" value="streetLength">
                </property>
                <port name="input" class="ptolemy.actor.TypedIOPort">
                    <property name="input"/>
                </port>
                <port name="output" class="ptolemy.actor.TypedIOPort">
                    <property name="output"/>
                </port>
                <port name="display" class="ptolemy.actor.TypedIOPort">
                    <property name="output"/>
                    <property name="_cardinal" class="ptolemy.kernel.util.StringAttribute" value="NORTH">
                    </property>
                    <property name="_type" class="ptolemy.actor.TypeAttribute" value="double">
                    </property>
                </port>
                <port name="trigger" class="ptolemy.actor.TypedIOPort">
                    <property name="output"/>
                </port>
                <port name="counter" class="ptolemy.actor.TypedIOPort">
                    <property name="input"/>
                    <property name="_type" class="ptolemy.actor.TypeAttribute" value="double">
                    </property>
                </port>
            </entity>
            <entity name="Queue" class="ptolemy.domains.de.lib.Queue">
                <property name="capacity" class="ptolemy.data.expr.Parameter" value="10">
                </property>
                <property name="persistentTrigger" class="ptolemy.data.expr.Parameter" value="true">
                </property>
                <property name="_location" class="ptolemy.kernel.util.Location" value="[190.0, 455.0]">
                </property>
            </entity>
            <entity name="Queue2" class="ptolemy.domains.de.lib.Queue">
                <property name="_location" class="ptolemy.kernel.util.Location" value="{187.8914925102946, 620.4811694530187}">
                </property>
            </entity>
            <entity name="TimeDelay3" class="ptolemy.actor.lib.TimeDelay">
                <property name="delay" class="ptolemy.actor.parameters.PortParameter" value="1">
                </property>
                <property name="_location" class="ptolemy.kernel.util.Location" value="{267.3117148241206, 692.9343958715698}">
                </property>
                <property name="_flipPortsHorizontal" class="ptolemy.data.expr.Parameter" value="true">
                </property>
            </entity>
            <entity name="TimeDelay4" class="ptolemy.actor.lib.TimeDelay">
                <property name="delay" class="ptolemy.actor.parameters.PortParameter" value="1">
                </property>
                <property name="_location" class="ptolemy.kernel.util.Location" value="[270.0, 515.0]">
                </property>
                <property name="_flipPortsHorizontal" class="ptolemy.data.expr.Parameter" value="true">
                </property>
            </entity>
            <entity name="PoissonClock" class="ptolemy.actor.lib.PoissonClock">
                <property name="meanTime" class="ptolemy.data.expr.Parameter" value="0.5">
                </property>
                <property name="stopTime" class="ptolemy.data.expr.Parameter" value="1">
                </property>
                <property name="_location" class="ptolemy.kernel.util.Location" value="[20.0, 525.0]">
                </property>
            </entity>
            <entity name="PoissonClock2" class="ptolemy.actor.lib.PoissonClock">
                <property name="meanTime" class="ptolemy.data.expr.Parameter" value="0.5">
                </property>
                <property name="stopTime" class="ptolemy.data.expr.Parameter" value="1">
                </property>
                <property name="_location" class="ptolemy.kernel.util.Location" value="[10.0, 755.0]">
                </property>
            </entity>
            <entity name="JavaScript" class="ptolemy.actor.lib.jjs.JavaScript">
                <property name="_windowProperties" class="ptolemy.actor.gui.WindowPropertiesAttribute">
                </property>
                <property name="_paneSize" class="ptolemy.actor.gui.SizeAttribute">
                </property>
                <property name="script" class="ptolemy.actor.parameters.PortParameter" value="var queueSize = 0;&#10;&#10;exports.setup = function () {&#10;	//the Input-ports for the incoming cars&#10;    this.input('input');&#10;    this.input('clock');&#10;    &#10;    //the Output-ports for the leaving cars&#10;    this.output('output');&#10;}&#10;&#10;exports.initialize = function () {&#10;	&#10;	this.addInputHandler('input', function() {&#10;		queueSize = this.get('input');&#10;	});&#10;	&#10;	this.addInputHandler('clock', function() {&#10;		if(queueSize == 0) {&#10;			this.send('output', true);&#10;		}&#10;	});&#10;}">
                    <property name="style" class="ptolemy.actor.gui.style.NoteStyle">
                        <property name="note" class="ptolemy.kernel.util.StringAttribute" value="NOTE: To see the script, invoke Open Actor">
                        </property>
                    </property>
                </property>
                <property name="_tableauFactory" class="ptolemy.vergil.toolbox.TextEditorTableauFactory">
                    <property name="attributeName" class="ptolemy.kernel.util.StringAttribute" value="script">
                    </property>
                    <property name="syntaxStyle" class="ptolemy.kernel.util.StringAttribute" value="text/javascript">
                    </property>
                </property>
                <property name="_location" class="ptolemy.kernel.util.Location" value="[110.0, 755.0]">
                </property>
                <property name="_flipPortsHorizontal" class="ptolemy.data.expr.Parameter" value="false">
                </property>
                <port name="input" class="ptolemy.actor.TypedIOPort">
                    <property name="input"/>
                    <property name="_cardinal" class="ptolemy.kernel.util.StringAttribute" value="NORTH">
                    </property>
                </port>
                <port name="output" class="ptolemy.actor.TypedIOPort">
                    <property name="output"/>
                </port>
                <port name="clock" class="ptolemy.actor.TypedIOPort">
                    <property name="input"/>
                </port>
            </entity>
            <entity name="JavaScript2" class="ptolemy.actor.lib.jjs.JavaScript">
                <property name="_windowProperties" class="ptolemy.actor.gui.WindowPropertiesAttribute">
                </property>
                <property name="_paneSize" class="ptolemy.actor.gui.SizeAttribute">
                </property>
                <property name="script" class="ptolemy.actor.parameters.PortParameter" value="var queueSize = 0;&#10;&#10;exports.setup = function () {&#10;	//the Input-ports for the incoming cars&#10;    this.input('input');&#10;    this.input('clock');&#10;    &#10;    //the Output-ports for the leaving cars&#10;    this.output('output');&#10;}&#10;&#10;exports.initialize = function () {&#10;	&#10;	this.addInputHandler('input', function() {&#10;		queueSize = this.get('input');&#10;	});&#10;	&#10;	this.addInputHandler('clock', function() {&#10;		if(queueSize == 0) {&#10;			this.send('output', true);&#10;		}&#10;	});&#10;}">
                    <property name="style" class="ptolemy.actor.gui.style.NoteStyle">
                        <property name="note" class="ptolemy.kernel.util.StringAttribute" value="NOTE: To see the script, invoke Open Actor">
                        </property>
                    </property>
                </property>
                <property name="_tableauFactory" class="ptolemy.vergil.toolbox.TextEditorTableauFactory">
                    <property name="attributeName" class="ptolemy.kernel.util.StringAttribute" value="script">
                    </property>
                    <property name="syntaxStyle" class="ptolemy.kernel.util.StringAttribute" value="text/javascript">
                    </property>
                </property>
                <property name="_location" class="ptolemy.kernel.util.Location" value="[110.0, 555.0]">
                </property>
                <property name="_flipPortsHorizontal" class="ptolemy.data.expr.Parameter" value="false">
                </property>
                <port name="input" class="ptolemy.actor.TypedIOPort">
                    <property name="input"/>
                    <property name="_cardinal" class="ptolemy.kernel.util.StringAttribute" value="NORTH">
                    </property>
                </port>
                <port name="output" class="ptolemy.actor.TypedIOPort">
                    <property name="output"/>
                </port>
                <port name="clock" class="ptolemy.actor.TypedIOPort">
                    <property name="input"/>
                </port>
            </entity>
            <entity name="TimeDelay5" class="ptolemy.actor.lib.TimeDelay">
                <property name="delay" class="ptolemy.actor.parameters.PortParameter" value="1">
                </property>
                <property name="_location" class="ptolemy.kernel.util.Location" value="{102.8625157035176, 472.1470214997105}">
                </property>
                <property name="_flipPortsHorizontal" class="ptolemy.data.expr.Parameter" value="true">
                </property>
            </entity>
            <entity name="TimeDelay6" class="ptolemy.actor.lib.TimeDelay">
                <property name="delay" class="ptolemy.actor.parameters.PortParameter" value="1">
                </property>
                <property name="_location" class="ptolemy.kernel.util.Location" value="{104.8625157035176, 648.1470214997105}">
                </property>
                <property name="_flipPortsHorizontal" class="ptolemy.data.expr.Parameter" value="true">
                </property>
            </entity>
            <relation name="relation4" class="ptolemy.actor.TypedIORelation">
            </relation>
            <relation name="relation9" class="ptolemy.actor.TypedIORelation">
                <property name="width" class="ptolemy.data.expr.Parameter" value="-1">
                </property>
                <vertex name="vertex1" value="[285.0, 455.0]">
                </vertex>
            </relation>
            <relation name="relation" class="ptolemy.actor.TypedIORelation">
                <property name="width" class="ptolemy.data.expr.Parameter" value="-1">
                </property>
                <vertex name="vertex1" value="[460.0, 455.0]">
                </vertex>
            </relation>
            <relation name="relation11" class="ptolemy.actor.TypedIORelation">
                <property name="width" class="ptolemy.data.expr.Parameter" value="-1">
                </property>
                <vertex name="vertex1" value="{295.0, 620.0}">
                </vertex>
            </relation>
            <relation name="relation3" class="ptolemy.actor.TypedIORelation">
                <property name="width" class="ptolemy.data.expr.Parameter" value="-1">
                </property>
                <vertex name="vertex1" value="{465.0, 620.0}">
                </vertex>
            </relation>
            <relation name="relation2" class="ptolemy.actor.TypedIORelation">
            </relation>
            <relation name="relation5" class="ptolemy.actor.TypedIORelation">
            </relation>
            <relation name="relation6" class="ptolemy.actor.TypedIORelation">
            </relation>
            <relation name="relation7" class="ptolemy.actor.TypedIORelation">
            </relation>
            <relation name="relation10" class="ptolemy.actor.TypedIORelation">
            </relation>
            <relation name="relation13" class="ptolemy.actor.TypedIORelation">
            </relation>
            <relation name="relation14" class="ptolemy.actor.TypedIORelation">
            </relation>
            <relation name="relation15" class="ptolemy.actor.TypedIORelation">
            </relation>
            <relation name="relation8" class="ptolemy.actor.TypedIORelation">
            </relation>
            <relation name="relation16" class="ptolemy.actor.TypedIORelation">
            </relation>
            <relation name="relation12" class="ptolemy.actor.TypedIORelation">
            </relation>
            <relation name="relation17" class="ptolemy.actor.TypedIORelation">
            </relation>
            <relation name="relation20" class="ptolemy.actor.TypedIORelation">
            </relation>
            <relation name="relation18" class="ptolemy.actor.TypedIORelation">
            </relation>
            <relation name="relation22" class="ptolemy.actor.TypedIORelation">
            </relation>
            <relation name="relation21" class="ptolemy.actor.TypedIORelation">
            </relation>
            <relation name="relation23" class="ptolemy.actor.TypedIORelation">
            </relation>
            <relation name="relation19" class="ptolemy.actor.TypedIORelation">
            </relation>
            <relation name="relation24" class="ptolemy.actor.TypedIORelation">
            </relation>
            <link port="left-right-input" relation="relation13"/>
            <link port="left-right-output" relation="relation4"/>
            <link port="right-left-input" relation="relation14"/>
            <link port="right-left-output" relation="relation10"/>
            <link port="TimeDelay.input" relation="relation9"/>
            <link port="TimeDelay.output" relation="relation"/>
            <link port="TimeDelay2.input" relation="relation11"/>
            <link port="TimeDelay2.output" relation="relation3"/>
            <link port="counter.input" relation="relation"/>
            <link port="counter.output" relation="relation4"/>
            <link port="counter.display" relation="relation5"/>
            <link port="counter.trigger" relation="relation16"/>
            <link port="counter.counter" relation="relation2"/>
            <link port="TimedPlotter.input" relation="relation5"/>
            <link port="TimedPlotter.input" relation="relation7"/>
            <link port="Counter.increment" relation="relation9"/>
            <link port="Counter.decrement" relation="relation"/>
            <link port="Counter.output" relation="relation2"/>
            <link port="Counter2.increment" relation="relation11"/>
            <link port="Counter2.decrement" relation="relation3"/>
            <link port="Counter2.output" relation="relation6"/>
            <link port="counter3.input" relation="relation3"/>
            <link port="counter3.output" relation="relation10"/>
            <link port="counter3.display" relation="relation7"/>
            <link port="counter3.trigger" relation="relation15"/>
            <link port="counter3.counter" relation="relation6"/>
            <link port="Queue.input" relation="relation13"/>
            <link port="Queue.output" relation="relation9"/>
            <link port="Queue.trigger" relation="relation8"/>
            <link port="Queue.trigger" relation="relation22"/>
            <link port="Queue.size" relation="relation21"/>
            <link port="Queue2.input" relation="relation14"/>
            <link port="Queue2.output" relation="relation11"/>
            <link port="Queue2.trigger" relation="relation12"/>
            <link port="Queue2.trigger" relation="relation20"/>
            <link port="Queue2.size" relation="relation19"/>
            <link port="TimeDelay3.input" relation="relation15"/>
            <link port="TimeDelay3.output" relation="relation12"/>
            <link port="TimeDelay4.input" relation="relation16"/>
            <link port="TimeDelay4.output" relation="relation8"/>
            <link port="PoissonClock.output" relation="relation18"/>
            <link port="PoissonClock2.output" relation="relation17"/>
            <link port="JavaScript.input" relation="relation24"/>
            <link port="JavaScript.output" relation="relation20"/>
            <link port="JavaScript.clock" relation="relation17"/>
            <link port="JavaScript2.input" relation="relation23"/>
            <link port="JavaScript2.output" relation="relation22"/>
            <link port="JavaScript2.clock" relation="relation18"/>
            <link port="TimeDelay5.input" relation="relation21"/>
            <link port="TimeDelay5.output" relation="relation23"/>
            <link port="TimeDelay6.input" relation="relation19"/>
            <link port="TimeDelay6.output" relation="relation24"/>
        </entity>
        <relation name="relation5" class="ptolemy.actor.TypedIORelation">
            <property name="_layoutHint" class="ptolemy.vergil.actor.LayoutHint" value="{ { head={id=&quot;leftRightInput._location&quot;,x=15.0,y=255.0}, tail={id=&quot;TimeDelay.input&quot;,x=145.0,y=255.0}, points={} } }">
            </property>
        </relation>
        <relation name="relation6" class="ptolemy.actor.TypedIORelation">
        </relation>
        <relation name="relation3" class="ptolemy.actor.TypedIORelation">
            <property name="_layoutHint" class="ptolemy.vergil.actor.LayoutHint" value="{ { head={id=&quot;Street2.right-left-input&quot;,x=270.0,y=265.0}, tail={id=&quot;TimeDelay2.output&quot;,x=385.0,y=275.0}, points={} } }">
            </property>
        </relation>
        <relation name="relation" class="ptolemy.actor.TypedIORelation">
            <property name="_layoutHint" class="ptolemy.vergil.actor.LayoutHint" value="{ { head={id=&quot;Street2.left-right-input&quot;,x=270.0,y=265.0}, tail={id=&quot;TimeDelay.output&quot;,x=145.0,y=255.0}, points={} } }">
            </property>
        </relation>
        <relation name="relation8" class="ptolemy.actor.TypedIORelation">
            <property name="_layoutHint" class="ptolemy.vergil.actor.LayoutHint" value="{ { head={id=&quot;leftRightOutput._location&quot;,x=355.0,y=205.0}, tail={id=&quot;Street2.left-right-output&quot;,x=270.0,y=265.0}, points={320.0,205.0,320.0,255.0} } }">
            </property>
        </relation>
        <relation name="relation7" class="ptolemy.actor.TypedIORelation">
        </relation>
        <link port="leftRightInput" relation="relation5"/>
        <link port="leftRightOutput" relation="relation8"/>
        <link port="rightLeftInput" relation="relation6"/>
        <link port="rightLeftOutput" relation="relation7"/>
        <link port="TimeDelay.input" relation="relation5"/>
        <link port="TimeDelay.output" relation="relation"/>
        <link port="TimeDelay2.input" relation="relation6"/>
        <link port="TimeDelay2.output" relation="relation3"/>
        <link port="Street2.left-right-input" relation="relation"/>
        <link port="Street2.left-right-output" relation="relation8"/>
        <link port="Street2.right-left-input" relation="relation3"/>
        <link port="Street2.right-left-output" relation="relation7"/>
    </entity>
    <entity name="Road9" class="ptolemy.actor.TypedCompositeActor">
        <property name="_location" class="ptolemy.kernel.util.Location" value="[-300.0, 75.0]">
        </property>
        <property name="_windowProperties" class="ptolemy.actor.gui.WindowPropertiesAttribute" value="{bounds={174, 129, 928, 617}, maximized=false}">
        </property>
        <property name="_vergilSize" class="ptolemy.actor.gui.SizeAttribute" value="[700, 500]">
        </property>
        <property name="_vergilZoomFactor" class="ptolemy.data.expr.ExpertParameter" value="1.0">
        </property>
        <property name="_vergilCenter" class="ptolemy.data.expr.ExpertParameter" value="{246.40059673366832, 253.38222361809045}">
        </property>
        <property name="_icon" class="ptolemy.vergil.icon.EditorIcon">
            <property name="rectangle" class="ptolemy.vergil.kernel.attributes.RectangleAttribute">
                <property name="_location" class="ptolemy.kernel.util.Location" value="{0, 0}">
                </property>
                <property name="width" class="ptolemy.data.expr.Parameter" value="60">
                </property>
                <property name="height" class="ptolemy.data.expr.Parameter" value="40">
                </property>
                <property name="centered" class="ptolemy.data.expr.Parameter" value="true">
                </property>
                <property name="fillColor" class="ptolemy.actor.gui.ColorAttribute" value="{1.0, 1.0, 1.0, 1.0}">
                </property>
            </property>
            <property name="Annotation" class="ptolemy.vergil.kernel.attributes.TextAttribute">
                <property name="textColor" class="ptolemy.actor.gui.ColorAttribute" value="{0.0, 0.0, 0.0, 1.0}">
                </property>
                <property name="text" class="ptolemy.kernel.util.StringAttribute" value="- - - - - -">
                </property>
                <property name="_location" class="ptolemy.kernel.util.Location" value="[-28.0, -4.0]">
                </property>
            </property>
            <property name="_windowProperties" class="ptolemy.actor.gui.WindowPropertiesAttribute" value="{bounds={219, 75, 928, 617}, maximized=false}">
            </property>
            <property name="_vergilSize" class="ptolemy.actor.gui.SizeAttribute" value="[700, 500]">
            </property>
            <property name="_vergilZoomFactor" class="ptolemy.data.expr.ExpertParameter" value="4.0">
            </property>
            <property name="_vergilCenter" class="ptolemy.data.expr.ExpertParameter" value="{12.5, 6.25}">
            </property>
        </property>
        <property name="streetLength" class="ptolemy.data.expr.Parameter" value="4">
        </property>
        <property name="duration" class="ptolemy.data.expr.Parameter" value="4">
        </property>
        <property name="analysisFlag" class="ptolemy.data.expr.Parameter" value="StreetPlotterFlag">
        </property>
        <port name="leftRightInput" class="ptolemy.actor.TypedIOPort">
            <property name="input"/>
            <property name="_location" class="ptolemy.kernel.util.Location" value="{15.0, 255.0}">
            </property>
            <property name="_cardinal" class="ptolemy.kernel.util.StringAttribute" value="WEST">
            </property>
        </port>
        <port name="leftRightOutput" class="ptolemy.actor.TypedIOPort">
            <property name="output"/>
            <property name="_location" class="ptolemy.kernel.util.Location" value="{355.0, 205.0}">
            </property>
            <property name="_cardinal" class="ptolemy.kernel.util.StringAttribute" value="EAST">
            </property>
        </port>
        <port name="rightLeftInput" class="ptolemy.actor.TypedIOPort">
            <property name="input"/>
            <property name="_location" class="ptolemy.kernel.util.Location" value="[490.0, 220.0]">
            </property>
            <property name="_cardinal" class="ptolemy.kernel.util.StringAttribute" value="EAST">
            </property>
        </port>
        <port name="rightLeftOutput" class="ptolemy.actor.TypedIOPort">
            <property name="output"/>
            <property name="_location" class="ptolemy.kernel.util.Location" value="[225.0, 350.0]">
            </property>
            <property name="_cardinal" class="ptolemy.kernel.util.StringAttribute" value="WEST">
            </property>
        </port>
        <entity name="TimeDelay" class="ptolemy.actor.lib.TimeDelay">
            <property name="delay" class="ptolemy.actor.parameters.PortParameter" value="1">
            </property>
            <property name="_location" class="ptolemy.kernel.util.Location" value="{145.0, 255.0}">
            </property>
            <port name="delay" class="ptolemy.actor.parameters.ParameterPort">
                <property name="input"/>
                <property name="_type" class="ptolemy.actor.TypeAttribute" value="double">
                </property>
            </port>
        </entity>
        <entity name="TimeDelay2" class="ptolemy.actor.lib.TimeDelay">
            <property name="delay" class="ptolemy.actor.parameters.PortParameter" value="1">
            </property>
            <property name="_location" class="ptolemy.kernel.util.Location" value="{385.0, 275.0}">
            </property>
            <property name="_flipPortsHorizontal" class="ptolemy.data.expr.Parameter" value="true">
            </property>
            <port name="delay" class="ptolemy.actor.parameters.ParameterPort">
                <property name="input"/>
                <property name="_type" class="ptolemy.actor.TypeAttribute" value="double">
                </property>
            </port>
        </entity>
        <entity name="Street2" class="ptolemy.actor.TypedCompositeActor">
            <property name="_location" class="ptolemy.kernel.util.Location" value="{270.0, 265.0}">
            </property>
            <property name="_icon" class="ptolemy.vergil.icon.EditorIcon">
                <property name="rectangle" class="ptolemy.vergil.kernel.attributes.RectangleAttribute">
                    <property name="_location" class="ptolemy.kernel.util.Location" value="-0.5, 0.5">
                    </property>
                    <property name="width" class="ptolemy.data.expr.Parameter" value="41.0">
                    </property>
                    <property name="height" class="ptolemy.data.expr.Parameter" value="21.0">
                    </property>
                    <property name="centered" class="ptolemy.data.expr.Parameter" value="true">
                    </property>
                    <property name="fillColor" class="ptolemy.actor.gui.ColorAttribute" value="{1.0, 1.0, 1.0, 1.0}">
                    </property>
                    <property name="_renderFirst" class="ptolemy.kernel.util.SingletonAttribute">
                    </property>
                </property>
                <property name="line" class="ptolemy.vergil.kernel.attributes.LineAttribute">
                    <property name="_location" class="ptolemy.kernel.util.Location" value="[-20.0, -10.0]">
                    </property>
                    <property name="x" class="ptolemy.data.expr.Parameter" value="40.0">
                    </property>
                    <property name="y" class="ptolemy.data.expr.Parameter" value="0.0">
                    </property>
                </property>
                <property name="line2" class="ptolemy.vergil.kernel.attributes.LineAttribute">
                    <property name="_location" class="ptolemy.kernel.util.Location" value="[-20.0, 11.0]">
                    </property>
                    <property name="x" class="ptolemy.data.expr.Parameter" value="40.0">
                    </property>
                    <property name="y" class="ptolemy.data.expr.Parameter" value="0.0">
                    </property>
                </property>
                <property name="Annotation" class="ptolemy.vergil.kernel.attributes.TextAttribute">
                    <property name="textColor" class="ptolemy.actor.gui.ColorAttribute" value="{0.0, 0.0, 0.0, 1.0}">
                    </property>
                    <property name="text" class="ptolemy.kernel.util.StringAttribute" value="- - - - -">
                    </property>
                    <property name="_location" class="ptolemy.kernel.util.Location" value="[-24.0, -4.0]">
                    </property>
                </property>
            </property>
            <property name="_windowProperties" class="ptolemy.actor.gui.WindowPropertiesAttribute" value="{bounds={610, 195, 928, 618}, maximized=false}">
            </property>
            <property name="_vergilSize" class="ptolemy.actor.gui.SizeAttribute" value="[700, 501]">
            </property>
            <property name="_vergilZoomFactor" class="ptolemy.data.expr.ExpertParameter" value="1.0">
            </property>
            <property name="_vergilCenter" class="ptolemy.data.expr.ExpertParameter" value="{265.8625157035176, 588.6470214997105}">
            </property>
            <property name="streetLength" class="ptolemy.data.expr.Parameter" value="streetLength">
            </property>
            <property name="analysisFlag" class="ptolemy.data.expr.Parameter" value="StreetPlotterFlag">
            </property>
            <property name="duration" class="ptolemy.data.expr.Parameter" value="duration">
            </property>
            <port name="left-right-input" class="ptolemy.actor.TypedIOPort">
                <property name="input"/>
                <property name="_cardinal" class="ptolemy.kernel.util.StringAttribute" value="WEST">
                </property>
                <property name="_location" class="ptolemy.kernel.util.Location" value="[10.0, 455.0]">
                </property>
                <property name="_type" class="ptolemy.actor.TypeAttribute" value="{carId = int, roadMap = arrayType(int), indicator = int, intersectionCount = int}">
                </property>
                <property name="_showName" class="ptolemy.data.expr.SingletonParameter" value="false">
                </property>
            </port>
            <port name="left-right-output" class="ptolemy.actor.TypedIOPort">
                <property name="output"/>
                <property name="_cardinal" class="ptolemy.kernel.util.StringAttribute" value="EAST">
                </property>
                <property name="_location" class="ptolemy.kernel.util.Location" value="[665.0, 435.0]">
                </property>
                <property name="_type" class="ptolemy.actor.TypeAttribute" value="{carId = int, roadMap = arrayType(int), indicator = int, intersectionCount = int}">
                </property>
                <property name="_showName" class="ptolemy.data.expr.SingletonParameter" value="false">
                </property>
            </port>
            <port name="right-left-input" class="ptolemy.actor.TypedIOPort">
                <property name="input"/>
                <property name="_cardinal" class="ptolemy.kernel.util.StringAttribute" value="EAST">
                </property>
                <property name="_location" class="ptolemy.kernel.util.Location" value="[10.0, 620.0]">
                </property>
                <property name="_type" class="ptolemy.actor.TypeAttribute" value="{carId = int, roadMap = arrayType(int), indicator = int, intersectionCount = int}">
                </property>
                <property name="_showName" class="ptolemy.data.expr.SingletonParameter" value="false">
                </property>
            </port>
            <port name="right-left-output" class="ptolemy.actor.TypedIOPort">
                <property name="output"/>
                <property name="_cardinal" class="ptolemy.kernel.util.StringAttribute" value="WEST">
                </property>
                <property name="_location" class="ptolemy.kernel.util.Location" value="[660.0, 600.0]">
                </property>
                <property name="_type" class="ptolemy.actor.TypeAttribute" value="{carId = int, roadMap = arrayType(int), indicator = int, intersectionCount = int}">
                </property>
                <property name="_showName" class="ptolemy.data.expr.SingletonParameter" value="false">
                </property>
            </port>
            <entity name="TimeDelay" class="ptolemy.actor.lib.TimeDelay">
                <property name="delay" class="ptolemy.actor.parameters.PortParameter" value="duration">
                </property>
                <property name="_location" class="ptolemy.kernel.util.Location" value="[370.0, 455.0]">
                </property>
            </entity>
            <entity name="TimeDelay2" class="ptolemy.actor.lib.TimeDelay">
                <property name="delay" class="ptolemy.actor.parameters.PortParameter" value="duration">
                </property>
                <property name="_location" class="ptolemy.kernel.util.Location" value="[385.0, 620.0]">
                </property>
            </entity>
            <entity name="counter" class="ptolemy.actor.lib.jjs.JavaScript">
                <property name="_windowProperties" class="ptolemy.actor.gui.WindowPropertiesAttribute">
                </property>
                <property name="_paneSize" class="ptolemy.actor.gui.SizeAttribute">
                </property>
                <property name="script" class="ptolemy.actor.parameters.PortParameter" value="// counter that simulates the street&#10;	var counter = 0;&#10;//queue to save the waiting cars&#10;	var queue = [];&#10;&#10;exports.setup = function () {&#10;	//the Input-ports for the incoming cars&#10;    this.input('input');&#10;    this.input('counter');&#10;    &#10;    //the Output-ports for the leaving cars&#10;    this.output('output');&#10;    this.output('display');&#10;    this.output('trigger');&#10;}&#10;&#10;exports.initialize = function () {&#10;	&#10;	this.addInputHandler('input', function() {&#10;		this.send('output', this.get('input'));&#10;	});&#10;	&#10;	this.addInputHandler('counter', function() {&#10;		counter = this.get('counter');&#10;		&#10;		if (this.getParameter('analysisFlag') == 1) {&#10;			this.send('display', counter);&#10;		}&#10;		&#10;		if (counter &lt; this.getParameter('streetLength')) {&#10;			this.send('trigger', true);&#10;		} else {&#10;			// do nothing, street is full&#10;		}&#10;		&#10;		/*&#10;		if (counter &gt; this.getParameter('streetLength')) {&#10;			this.send('trigger', (counter-this.getParameter('streetLength'))*3);&#10;		} else {&#10;			while (queue.length != 0) {&#10;				this.send('output', queue.pop());&#10;			}&#10;		}*/&#10;	});&#10;}">
                    <property name="style" class="ptolemy.actor.gui.style.NoteStyle">
                        <property name="note" class="ptolemy.kernel.util.StringAttribute" value="NOTE: To see the script, invoke Open Actor">
                        </property>
                    </property>
                </property>
                <property name="_tableauFactory" class="ptolemy.vergil.toolbox.TextEditorTableauFactory">
                    <property name="attributeName" class="ptolemy.kernel.util.StringAttribute" value="script">
                    </property>
                    <property name="syntaxStyle" class="ptolemy.kernel.util.StringAttribute" value="text/javascript">
                    </property>
                </property>
                <property name="_location" class="ptolemy.kernel.util.Location" value="[555.0, 455.0]">
                </property>
                <property name="_hideName" class="ptolemy.data.expr.SingletonParameter" value="true">
                </property>
                <property name="_flipPortsVertical" class="ptolemy.data.expr.Parameter" value="true">
                </property>
                <property name="analysisFlag" class="ptolemy.data.expr.Parameter" value="analysisFlag">
                </property>
                <property name="streetLength" class="ptolemy.data.expr.Parameter" value="streetLength">
                </property>
                <port name="input" class="ptolemy.actor.TypedIOPort">
                    <property name="input"/>
                </port>
                <port name="output" class="ptolemy.actor.TypedIOPort">
                    <property name="output"/>
                </port>
                <port name="display" class="ptolemy.actor.TypedIOPort">
                    <property name="output"/>
                    <property name="_cardinal" class="ptolemy.kernel.util.StringAttribute" value="NORTH">
                    </property>
                    <property name="_type" class="ptolemy.actor.TypeAttribute" value="double">
                    </property>
                </port>
                <port name="trigger" class="ptolemy.actor.TypedIOPort">
                    <property name="output"/>
                </port>
                <port name="counter" class="ptolemy.actor.TypedIOPort">
                    <property name="input"/>
                    <property name="_type" class="ptolemy.actor.TypeAttribute" value="double">
                    </property>
                </port>
            </entity>
            <entity name="TimedPlotter" class="ptolemy.actor.lib.gui.TimedPlotter">
                <property name="legend" class="ptolemy.kernel.util.StringAttribute" value="counter: left-right, counter: right-left">
                </property>
                <property name="_windowProperties" class="ptolemy.actor.gui.WindowPropertiesAttribute" value="{bounds={278, 130, 687, 497}, maximized=false}">
                </property>
                <property name="_plotSize" class="ptolemy.actor.gui.SizeAttribute" value="[671, 437]">
                </property>
                <property name="_location" class="ptolemy.kernel.util.Location" value="[600.0, 540.0]">
                </property>
                <configure>
<?plotml <!DOCTYPE plot PUBLIC "-//UC Berkeley//DTD PlotML 1//EN"
"http://ptolemy.eecs.berkeley.edu/xml/dtd/PlotML_1.dtd">
<plot>
<title>TimedPlotter</title>
<xLabel></xLabel>
<yLabel></yLabel>
<xRange min="1.7976931348623157E308" max="-1.7976931348623157E308"/>
<yRange min="1.7976931348623157E308" max="-1.7976931348623157E308"/>
</plot>?>
                </configure>
            </entity>
            <entity name="Counter" class="ptolemy.actor.lib.Counter">
                <property name="_location" class="ptolemy.kernel.util.Location" value="[440.66734313964844, 330.9227752685547]">
                </property>
            </entity>
            <entity name="Counter2" class="ptolemy.actor.lib.Counter">
                <property name="_location" class="ptolemy.kernel.util.Location" value="{444.3317368090452, 733.3371125801125}">
                </property>
            </entity>
            <entity name="counter3" class="ptolemy.actor.lib.jjs.JavaScript">
                <property name="_windowProperties" class="ptolemy.actor.gui.WindowPropertiesAttribute">
                </property>
                <property name="_paneSize" class="ptolemy.actor.gui.SizeAttribute">
                </property>
                <property name="script" class="ptolemy.actor.parameters.PortParameter" value="// counter that simulates the street&#10;	var counter = 0;&#10;//queue to save the waiting cars&#10;	var queue = [];&#10;&#10;exports.setup = function () {&#10;	//the Input-ports for the incoming cars&#10;    this.input('input');&#10;    this.input('counter');&#10;    &#10;    //the Output-ports for the leaving cars&#10;    this.output('output');&#10;    this.output('display');&#10;    this.output('trigger');&#10;}&#10;&#10;exports.initialize = function () {&#10;	&#10;	this.addInputHandler('input', function() {&#10;		this.send('output', this.get('input'));&#10;	});&#10;	&#10;	this.addInputHandler('counter', function() {&#10;		counter = this.get('counter');&#10;		&#10;		if (this.getParameter('analysisFlag') == 1) {&#10;			this.send('display', counter);&#10;		}&#10;		&#10;		if (counter &lt; this.getParameter('streetLength')) {&#10;			this.send('trigger', counter);&#10;		} else {&#10;			// do nothing, street is full&#10;		}&#10;		&#10;		/*&#10;		if (counter &gt; this.getParameter('streetLength')) {&#10;			this.send('trigger', (counter-this.getParameter('streetLength'))*3);&#10;		} else {&#10;			while (queue.length != 0) {&#10;				this.send('output', queue.pop());&#10;			}&#10;		}*/&#10;	});&#10;}">
                    <property name="style" class="ptolemy.actor.gui.style.NoteStyle">
                        <property name="note" class="ptolemy.kernel.util.StringAttribute" value="NOTE: To see the script, invoke Open Actor">
                        </property>
                    </property>
                </property>
                <property name="_tableauFactory" class="ptolemy.vergil.toolbox.TextEditorTableauFactory">
                    <property name="attributeName" class="ptolemy.kernel.util.StringAttribute" value="script">
                    </property>
                    <property name="syntaxStyle" class="ptolemy.kernel.util.StringAttribute" value="text/javascript">
                    </property>
                </property>
                <property name="_location" class="ptolemy.kernel.util.Location" value="[530.0, 600.0]">
                </property>
                <property name="_hideName" class="ptolemy.data.expr.SingletonParameter" value="true">
                </property>
                <property name="_flipPortsVertical" class="ptolemy.data.expr.Parameter" value="true">
                </property>
                <property name="analysisFlag" class="ptolemy.data.expr.Parameter" value="analysisFlag">
                </property>
                <property name="streetLength" class="ptolemy.data.expr.Parameter" value="streetLength">
                </property>
                <port name="input" class="ptolemy.actor.TypedIOPort">
                    <property name="input"/>
                </port>
                <port name="output" class="ptolemy.actor.TypedIOPort">
                    <property name="output"/>
                </port>
                <port name="display" class="ptolemy.actor.TypedIOPort">
                    <property name="output"/>
                    <property name="_cardinal" class="ptolemy.kernel.util.StringAttribute" value="NORTH">
                    </property>
                    <property name="_type" class="ptolemy.actor.TypeAttribute" value="double">
                    </property>
                </port>
                <port name="trigger" class="ptolemy.actor.TypedIOPort">
                    <property name="output"/>
                </port>
                <port name="counter" class="ptolemy.actor.TypedIOPort">
                    <property name="input"/>
                    <property name="_type" class="ptolemy.actor.TypeAttribute" value="double">
                    </property>
                </port>
            </entity>
            <entity name="Queue" class="ptolemy.domains.de.lib.Queue">
                <property name="capacity" class="ptolemy.data.expr.Parameter" value="10">
                </property>
                <property name="persistentTrigger" class="ptolemy.data.expr.Parameter" value="true">
                </property>
                <property name="_location" class="ptolemy.kernel.util.Location" value="[190.0, 455.0]">
                </property>
            </entity>
            <entity name="Queue2" class="ptolemy.domains.de.lib.Queue">
                <property name="_location" class="ptolemy.kernel.util.Location" value="{187.8914925102946, 620.4811694530187}">
                </property>
            </entity>
            <entity name="TimeDelay3" class="ptolemy.actor.lib.TimeDelay">
                <property name="delay" class="ptolemy.actor.parameters.PortParameter" value="1">
                </property>
                <property name="_location" class="ptolemy.kernel.util.Location" value="{267.3117148241206, 692.9343958715698}">
                </property>
                <property name="_flipPortsHorizontal" class="ptolemy.data.expr.Parameter" value="true">
                </property>
            </entity>
            <entity name="TimeDelay4" class="ptolemy.actor.lib.TimeDelay">
                <property name="delay" class="ptolemy.actor.parameters.PortParameter" value="1">
                </property>
                <property name="_location" class="ptolemy.kernel.util.Location" value="[270.0, 515.0]">
                </property>
                <property name="_flipPortsHorizontal" class="ptolemy.data.expr.Parameter" value="true">
                </property>
            </entity>
            <entity name="PoissonClock" class="ptolemy.actor.lib.PoissonClock">
                <property name="meanTime" class="ptolemy.data.expr.Parameter" value="0.5">
                </property>
                <property name="stopTime" class="ptolemy.data.expr.Parameter" value="1">
                </property>
                <property name="_location" class="ptolemy.kernel.util.Location" value="[20.0, 525.0]">
                </property>
            </entity>
            <entity name="PoissonClock2" class="ptolemy.actor.lib.PoissonClock">
                <property name="meanTime" class="ptolemy.data.expr.Parameter" value="0.5">
                </property>
                <property name="stopTime" class="ptolemy.data.expr.Parameter" value="1">
                </property>
                <property name="_location" class="ptolemy.kernel.util.Location" value="[10.0, 755.0]">
                </property>
            </entity>
            <entity name="JavaScript" class="ptolemy.actor.lib.jjs.JavaScript">
                <property name="_windowProperties" class="ptolemy.actor.gui.WindowPropertiesAttribute">
                </property>
                <property name="_paneSize" class="ptolemy.actor.gui.SizeAttribute">
                </property>
                <property name="script" class="ptolemy.actor.parameters.PortParameter" value="var queueSize = 0;&#10;&#10;exports.setup = function () {&#10;	//the Input-ports for the incoming cars&#10;    this.input('input');&#10;    this.input('clock');&#10;    &#10;    //the Output-ports for the leaving cars&#10;    this.output('output');&#10;}&#10;&#10;exports.initialize = function () {&#10;	&#10;	this.addInputHandler('input', function() {&#10;		queueSize = this.get('input');&#10;	});&#10;	&#10;	this.addInputHandler('clock', function() {&#10;		if(queueSize == 0) {&#10;			this.send('output', true);&#10;		}&#10;	});&#10;}">
                    <property name="style" class="ptolemy.actor.gui.style.NoteStyle">
                        <property name="note" class="ptolemy.kernel.util.StringAttribute" value="NOTE: To see the script, invoke Open Actor">
                        </property>
                    </property>
                </property>
                <property name="_tableauFactory" class="ptolemy.vergil.toolbox.TextEditorTableauFactory">
                    <property name="attributeName" class="ptolemy.kernel.util.StringAttribute" value="script">
                    </property>
                    <property name="syntaxStyle" class="ptolemy.kernel.util.StringAttribute" value="text/javascript">
                    </property>
                </property>
                <property name="_location" class="ptolemy.kernel.util.Location" value="[110.0, 755.0]">
                </property>
                <property name="_flipPortsHorizontal" class="ptolemy.data.expr.Parameter" value="false">
                </property>
                <port name="input" class="ptolemy.actor.TypedIOPort">
                    <property name="input"/>
                    <property name="_cardinal" class="ptolemy.kernel.util.StringAttribute" value="NORTH">
                    </property>
                </port>
                <port name="output" class="ptolemy.actor.TypedIOPort">
                    <property name="output"/>
                </port>
                <port name="clock" class="ptolemy.actor.TypedIOPort">
                    <property name="input"/>
                </port>
            </entity>
            <entity name="JavaScript2" class="ptolemy.actor.lib.jjs.JavaScript">
                <property name="_windowProperties" class="ptolemy.actor.gui.WindowPropertiesAttribute">
                </property>
                <property name="_paneSize" class="ptolemy.actor.gui.SizeAttribute">
                </property>
                <property name="script" class="ptolemy.actor.parameters.PortParameter" value="var queueSize = 0;&#10;&#10;exports.setup = function () {&#10;	//the Input-ports for the incoming cars&#10;    this.input('input');&#10;    this.input('clock');&#10;    &#10;    //the Output-ports for the leaving cars&#10;    this.output('output');&#10;}&#10;&#10;exports.initialize = function () {&#10;	&#10;	this.addInputHandler('input', function() {&#10;		queueSize = this.get('input');&#10;	});&#10;	&#10;	this.addInputHandler('clock', function() {&#10;		if(queueSize == 0) {&#10;			this.send('output', true);&#10;		}&#10;	});&#10;}">
                    <property name="style" class="ptolemy.actor.gui.style.NoteStyle">
                        <property name="note" class="ptolemy.kernel.util.StringAttribute" value="NOTE: To see the script, invoke Open Actor">
                        </property>
                    </property>
                </property>
                <property name="_tableauFactory" class="ptolemy.vergil.toolbox.TextEditorTableauFactory">
                    <property name="attributeName" class="ptolemy.kernel.util.StringAttribute" value="script">
                    </property>
                    <property name="syntaxStyle" class="ptolemy.kernel.util.StringAttribute" value="text/javascript">
                    </property>
                </property>
                <property name="_location" class="ptolemy.kernel.util.Location" value="[110.0, 555.0]">
                </property>
                <property name="_flipPortsHorizontal" class="ptolemy.data.expr.Parameter" value="false">
                </property>
                <port name="input" class="ptolemy.actor.TypedIOPort">
                    <property name="input"/>
                    <property name="_cardinal" class="ptolemy.kernel.util.StringAttribute" value="NORTH">
                    </property>
                </port>
                <port name="output" class="ptolemy.actor.TypedIOPort">
                    <property name="output"/>
                </port>
                <port name="clock" class="ptolemy.actor.TypedIOPort">
                    <property name="input"/>
                </port>
            </entity>
            <entity name="TimeDelay5" class="ptolemy.actor.lib.TimeDelay">
                <property name="delay" class="ptolemy.actor.parameters.PortParameter" value="1">
                </property>
                <property name="_location" class="ptolemy.kernel.util.Location" value="{102.8625157035176, 472.1470214997105}">
                </property>
                <property name="_flipPortsHorizontal" class="ptolemy.data.expr.Parameter" value="true">
                </property>
            </entity>
            <entity name="TimeDelay6" class="ptolemy.actor.lib.TimeDelay">
                <property name="delay" class="ptolemy.actor.parameters.PortParameter" value="1">
                </property>
                <property name="_location" class="ptolemy.kernel.util.Location" value="{104.8625157035176, 648.1470214997105}">
                </property>
                <property name="_flipPortsHorizontal" class="ptolemy.data.expr.Parameter" value="true">
                </property>
            </entity>
            <relation name="relation4" class="ptolemy.actor.TypedIORelation">
            </relation>
            <relation name="relation9" class="ptolemy.actor.TypedIORelation">
                <property name="width" class="ptolemy.data.expr.Parameter" value="-1">
                </property>
                <vertex name="vertex1" value="[285.0, 455.0]">
                </vertex>
            </relation>
            <relation name="relation" class="ptolemy.actor.TypedIORelation">
                <property name="width" class="ptolemy.data.expr.Parameter" value="-1">
                </property>
                <vertex name="vertex1" value="[460.0, 455.0]">
                </vertex>
            </relation>
            <relation name="relation11" class="ptolemy.actor.TypedIORelation">
                <property name="width" class="ptolemy.data.expr.Parameter" value="-1">
                </property>
                <vertex name="vertex1" value="{295.0, 620.0}">
                </vertex>
            </relation>
            <relation name="relation3" class="ptolemy.actor.TypedIORelation">
                <property name="width" class="ptolemy.data.expr.Parameter" value="-1">
                </property>
                <vertex name="vertex1" value="{465.0, 620.0}">
                </vertex>
            </relation>
            <relation name="relation2" class="ptolemy.actor.TypedIORelation">
            </relation>
            <relation name="relation5" class="ptolemy.actor.TypedIORelation">
            </relation>
            <relation name="relation6" class="ptolemy.actor.TypedIORelation">
            </relation>
            <relation name="relation7" class="ptolemy.actor.TypedIORelation">
            </relation>
            <relation name="relation10" class="ptolemy.actor.TypedIORelation">
            </relation>
            <relation name="relation13" class="ptolemy.actor.TypedIORelation">
            </relation>
            <relation name="relation14" class="ptolemy.actor.TypedIORelation">
            </relation>
            <relation name="relation15" class="ptolemy.actor.TypedIORelation">
            </relation>
            <relation name="relation8" class="ptolemy.actor.TypedIORelation">
            </relation>
            <relation name="relation16" class="ptolemy.actor.TypedIORelation">
            </relation>
            <relation name="relation12" class="ptolemy.actor.TypedIORelation">
            </relation>
            <relation name="relation17" class="ptolemy.actor.TypedIORelation">
            </relation>
            <relation name="relation20" class="ptolemy.actor.TypedIORelation">
            </relation>
            <relation name="relation18" class="ptolemy.actor.TypedIORelation">
            </relation>
            <relation name="relation22" class="ptolemy.actor.TypedIORelation">
            </relation>
            <relation name="relation21" class="ptolemy.actor.TypedIORelation">
            </relation>
            <relation name="relation23" class="ptolemy.actor.TypedIORelation">
            </relation>
            <relation name="relation19" class="ptolemy.actor.TypedIORelation">
            </relation>
            <relation name="relation24" class="ptolemy.actor.TypedIORelation">
            </relation>
            <link port="left-right-input" relation="relation13"/>
            <link port="left-right-output" relation="relation4"/>
            <link port="right-left-input" relation="relation14"/>
            <link port="right-left-output" relation="relation10"/>
            <link port="TimeDelay.input" relation="relation9"/>
            <link port="TimeDelay.output" relation="relation"/>
            <link port="TimeDelay2.input" relation="relation11"/>
            <link port="TimeDelay2.output" relation="relation3"/>
            <link port="counter.input" relation="relation"/>
            <link port="counter.output" relation="relation4"/>
            <link port="counter.display" relation="relation5"/>
            <link port="counter.trigger" relation="relation16"/>
            <link port="counter.counter" relation="relation2"/>
            <link port="TimedPlotter.input" relation="relation5"/>
            <link port="TimedPlotter.input" relation="relation7"/>
            <link port="Counter.increment" relation="relation9"/>
            <link port="Counter.decrement" relation="relation"/>
            <link port="Counter.output" relation="relation2"/>
            <link port="Counter2.increment" relation="relation11"/>
            <link port="Counter2.decrement" relation="relation3"/>
            <link port="Counter2.output" relation="relation6"/>
            <link port="counter3.input" relation="relation3"/>
            <link port="counter3.output" relation="relation10"/>
            <link port="counter3.display" relation="relation7"/>
            <link port="counter3.trigger" relation="relation15"/>
            <link port="counter3.counter" relation="relation6"/>
            <link port="Queue.input" relation="relation13"/>
            <link port="Queue.output" relation="relation9"/>
            <link port="Queue.trigger" relation="relation8"/>
            <link port="Queue.trigger" relation="relation22"/>
            <link port="Queue.size" relation="relation21"/>
            <link port="Queue2.input" relation="relation14"/>
            <link port="Queue2.output" relation="relation11"/>
            <link port="Queue2.trigger" relation="relation12"/>
            <link port="Queue2.trigger" relation="relation20"/>
            <link port="Queue2.size" relation="relation19"/>
            <link port="TimeDelay3.input" relation="relation15"/>
            <link port="TimeDelay3.output" relation="relation12"/>
            <link port="TimeDelay4.input" relation="relation16"/>
            <link port="TimeDelay4.output" relation="relation8"/>
            <link port="PoissonClock.output" relation="relation18"/>
            <link port="PoissonClock2.output" relation="relation17"/>
            <link port="JavaScript.input" relation="relation24"/>
            <link port="JavaScript.output" relation="relation20"/>
            <link port="JavaScript.clock" relation="relation17"/>
            <link port="JavaScript2.input" relation="relation23"/>
            <link port="JavaScript2.output" relation="relation22"/>
            <link port="JavaScript2.clock" relation="relation18"/>
            <link port="TimeDelay5.input" relation="relation21"/>
            <link port="TimeDelay5.output" relation="relation23"/>
            <link port="TimeDelay6.input" relation="relation19"/>
            <link port="TimeDelay6.output" relation="relation24"/>
        </entity>
        <relation name="relation5" class="ptolemy.actor.TypedIORelation">
            <property name="_layoutHint" class="ptolemy.vergil.actor.LayoutHint" value="{ { head={id=&quot;leftRightInput._location&quot;,x=15.0,y=255.0}, tail={id=&quot;TimeDelay.input&quot;,x=145.0,y=255.0}, points={} } }">
            </property>
        </relation>
        <relation name="relation6" class="ptolemy.actor.TypedIORelation">
        </relation>
        <relation name="relation3" class="ptolemy.actor.TypedIORelation">
            <property name="_layoutHint" class="ptolemy.vergil.actor.LayoutHint" value="{ { head={id=&quot;Street2.right-left-input&quot;,x=270.0,y=265.0}, tail={id=&quot;TimeDelay2.output&quot;,x=385.0,y=275.0}, points={} } }">
            </property>
        </relation>
        <relation name="relation" class="ptolemy.actor.TypedIORelation">
            <property name="_layoutHint" class="ptolemy.vergil.actor.LayoutHint" value="{ { head={id=&quot;Street2.left-right-input&quot;,x=270.0,y=265.0}, tail={id=&quot;TimeDelay.output&quot;,x=145.0,y=255.0}, points={} } }">
            </property>
        </relation>
        <relation name="relation8" class="ptolemy.actor.TypedIORelation">
            <property name="_layoutHint" class="ptolemy.vergil.actor.LayoutHint" value="{ { head={id=&quot;leftRightOutput._location&quot;,x=355.0,y=205.0}, tail={id=&quot;Street2.left-right-output&quot;,x=270.0,y=265.0}, points={320.0,205.0,320.0,255.0} } }">
            </property>
        </relation>
        <relation name="relation7" class="ptolemy.actor.TypedIORelation">
        </relation>
        <link port="leftRightInput" relation="relation5"/>
        <link port="leftRightOutput" relation="relation8"/>
        <link port="rightLeftInput" relation="relation6"/>
        <link port="rightLeftOutput" relation="relation7"/>
        <link port="TimeDelay.input" relation="relation5"/>
        <link port="TimeDelay.output" relation="relation"/>
        <link port="TimeDelay2.input" relation="relation6"/>
        <link port="TimeDelay2.output" relation="relation3"/>
        <link port="Street2.left-right-input" relation="relation"/>
        <link port="Street2.left-right-output" relation="relation8"/>
        <link port="Street2.right-left-input" relation="relation3"/>
        <link port="Street2.right-left-output" relation="relation7"/>
    </entity>
    <entity name="Road10" class="ptolemy.actor.TypedCompositeActor">
        <property name="_location" class="ptolemy.kernel.util.Location" value="[105.0, 165.0]">
        </property>
        <property name="_windowProperties" class="ptolemy.actor.gui.WindowPropertiesAttribute" value="{bounds={363, 318, 928, 617}, maximized=false}">
        </property>
        <property name="_vergilSize" class="ptolemy.actor.gui.SizeAttribute" value="[700, 500]">
        </property>
        <property name="_vergilZoomFactor" class="ptolemy.data.expr.ExpertParameter" value="0.8000000000000006">
        </property>
        <property name="_vergilCenter" class="ptolemy.data.expr.ExpertParameter" value="{246.40059673366824, 253.3822236180904}">
        </property>
        <property name="_icon" class="ptolemy.vergil.icon.EditorIcon">
            <property name="rectangle" class="ptolemy.vergil.kernel.attributes.RectangleAttribute">
                <property name="_location" class="ptolemy.kernel.util.Location" value="{0, 0}">
                </property>
                <property name="width" class="ptolemy.data.expr.Parameter" value="60">
                </property>
                <property name="height" class="ptolemy.data.expr.Parameter" value="40">
                </property>
                <property name="centered" class="ptolemy.data.expr.Parameter" value="true">
                </property>
                <property name="fillColor" class="ptolemy.actor.gui.ColorAttribute" value="{1.0, 1.0, 1.0, 1.0}">
                </property>
            </property>
            <property name="Annotation" class="ptolemy.vergil.kernel.attributes.TextAttribute">
                <property name="textColor" class="ptolemy.actor.gui.ColorAttribute" value="{0.0, 0.0, 0.0, 1.0}">
                </property>
                <property name="text" class="ptolemy.kernel.util.StringAttribute" value="- - - - - -">
                </property>
                <property name="_location" class="ptolemy.kernel.util.Location" value="[-28.0, -4.0]">
                </property>
            </property>
            <property name="_windowProperties" class="ptolemy.actor.gui.WindowPropertiesAttribute" value="{bounds={219, 75, 928, 617}, maximized=false}">
            </property>
            <property name="_vergilSize" class="ptolemy.actor.gui.SizeAttribute" value="[700, 500]">
            </property>
            <property name="_vergilZoomFactor" class="ptolemy.data.expr.ExpertParameter" value="4.0">
            </property>
            <property name="_vergilCenter" class="ptolemy.data.expr.ExpertParameter" value="{12.5, 6.25}">
            </property>
        </property>
        <property name="streetLength" class="ptolemy.data.expr.Parameter" value="4">
        </property>
        <property name="duration" class="ptolemy.data.expr.Parameter" value="4">
        </property>
        <property name="analysisFlag" class="ptolemy.data.expr.Parameter" value="StreetPlotterFlag">
        </property>
        <port name="leftRightInput" class="ptolemy.actor.TypedIOPort">
            <property name="input"/>
            <property name="_location" class="ptolemy.kernel.util.Location" value="[30.0, 255.0]">
            </property>
            <property name="_cardinal" class="ptolemy.kernel.util.StringAttribute" value="WEST">
            </property>
        </port>
        <port name="leftRightOutput" class="ptolemy.actor.TypedIOPort">
            <property name="output"/>
            <property name="_location" class="ptolemy.kernel.util.Location" value="{355.0, 205.0}">
            </property>
            <property name="_cardinal" class="ptolemy.kernel.util.StringAttribute" value="EAST">
            </property>
        </port>
        <port name="rightLeftInput" class="ptolemy.actor.TypedIOPort">
            <property name="input"/>
            <property name="_location" class="ptolemy.kernel.util.Location" value="[490.0, 220.0]">
            </property>
            <property name="_cardinal" class="ptolemy.kernel.util.StringAttribute" value="EAST">
            </property>
        </port>
        <port name="rightLeftOutput" class="ptolemy.actor.TypedIOPort">
            <property name="output"/>
            <property name="_location" class="ptolemy.kernel.util.Location" value="[225.0, 350.0]">
            </property>
            <property name="_cardinal" class="ptolemy.kernel.util.StringAttribute" value="WEST">
            </property>
        </port>
        <entity name="Street2" class="ptolemy.actor.TypedCompositeActor">
            <property name="_location" class="ptolemy.kernel.util.Location" value="{270.0, 265.0}">
            </property>
            <property name="_icon" class="ptolemy.vergil.icon.EditorIcon">
                <property name="rectangle" class="ptolemy.vergil.kernel.attributes.RectangleAttribute">
                    <property name="_location" class="ptolemy.kernel.util.Location" value="-0.5, 0.5">
                    </property>
                    <property name="width" class="ptolemy.data.expr.Parameter" value="41.0">
                    </property>
                    <property name="height" class="ptolemy.data.expr.Parameter" value="21.0">
                    </property>
                    <property name="centered" class="ptolemy.data.expr.Parameter" value="true">
                    </property>
                    <property name="fillColor" class="ptolemy.actor.gui.ColorAttribute" value="{1.0, 1.0, 1.0, 1.0}">
                    </property>
                    <property name="_renderFirst" class="ptolemy.kernel.util.SingletonAttribute">
                    </property>
                </property>
                <property name="line" class="ptolemy.vergil.kernel.attributes.LineAttribute">
                    <property name="_location" class="ptolemy.kernel.util.Location" value="[-20.0, -10.0]">
                    </property>
                    <property name="x" class="ptolemy.data.expr.Parameter" value="40.0">
                    </property>
                    <property name="y" class="ptolemy.data.expr.Parameter" value="0.0">
                    </property>
                </property>
                <property name="line2" class="ptolemy.vergil.kernel.attributes.LineAttribute">
                    <property name="_location" class="ptolemy.kernel.util.Location" value="[-20.0, 11.0]">
                    </property>
                    <property name="x" class="ptolemy.data.expr.Parameter" value="40.0">
                    </property>
                    <property name="y" class="ptolemy.data.expr.Parameter" value="0.0">
                    </property>
                </property>
                <property name="Annotation" class="ptolemy.vergil.kernel.attributes.TextAttribute">
                    <property name="textColor" class="ptolemy.actor.gui.ColorAttribute" value="{0.0, 0.0, 0.0, 1.0}">
                    </property>
                    <property name="text" class="ptolemy.kernel.util.StringAttribute" value="- - - - -">
                    </property>
                    <property name="_location" class="ptolemy.kernel.util.Location" value="[-24.0, -4.0]">
                    </property>
                </property>
            </property>
            <property name="_windowProperties" class="ptolemy.actor.gui.WindowPropertiesAttribute" value="{bounds={610, 195, 928, 618}, maximized=false}">
            </property>
            <property name="_vergilSize" class="ptolemy.actor.gui.SizeAttribute" value="[700, 501]">
            </property>
            <property name="_vergilZoomFactor" class="ptolemy.data.expr.ExpertParameter" value="1.0">
            </property>
            <property name="_vergilCenter" class="ptolemy.data.expr.ExpertParameter" value="{265.8625157035176, 588.6470214997105}">
            </property>
            <property name="streetLength" class="ptolemy.data.expr.Parameter" value="streetLength">
            </property>
            <property name="analysisFlag" class="ptolemy.data.expr.Parameter" value="StreetPlotterFlag">
            </property>
            <property name="duration" class="ptolemy.data.expr.Parameter" value="duration">
            </property>
            <port name="left-right-input" class="ptolemy.actor.TypedIOPort">
                <property name="input"/>
                <property name="_cardinal" class="ptolemy.kernel.util.StringAttribute" value="WEST">
                </property>
                <property name="_location" class="ptolemy.kernel.util.Location" value="[10.0, 455.0]">
                </property>
                <property name="_type" class="ptolemy.actor.TypeAttribute" value="{carId = int, roadMap = arrayType(int), indicator = int, intersectionCount = int}">
                </property>
                <property name="_showName" class="ptolemy.data.expr.SingletonParameter" value="false">
                </property>
            </port>
            <port name="left-right-output" class="ptolemy.actor.TypedIOPort">
                <property name="output"/>
                <property name="_cardinal" class="ptolemy.kernel.util.StringAttribute" value="EAST">
                </property>
                <property name="_location" class="ptolemy.kernel.util.Location" value="[665.0, 435.0]">
                </property>
                <property name="_type" class="ptolemy.actor.TypeAttribute" value="{carId = int, roadMap = arrayType(int), indicator = int, intersectionCount = int}">
                </property>
                <property name="_showName" class="ptolemy.data.expr.SingletonParameter" value="false">
                </property>
            </port>
            <port name="right-left-input" class="ptolemy.actor.TypedIOPort">
                <property name="input"/>
                <property name="_cardinal" class="ptolemy.kernel.util.StringAttribute" value="EAST">
                </property>
                <property name="_location" class="ptolemy.kernel.util.Location" value="[10.0, 620.0]">
                </property>
                <property name="_type" class="ptolemy.actor.TypeAttribute" value="{carId = int, roadMap = arrayType(int), indicator = int, intersectionCount = int}">
                </property>
                <property name="_showName" class="ptolemy.data.expr.SingletonParameter" value="false">
                </property>
            </port>
            <port name="right-left-output" class="ptolemy.actor.TypedIOPort">
                <property name="output"/>
                <property name="_cardinal" class="ptolemy.kernel.util.StringAttribute" value="WEST">
                </property>
                <property name="_location" class="ptolemy.kernel.util.Location" value="[660.0, 600.0]">
                </property>
                <property name="_type" class="ptolemy.actor.TypeAttribute" value="{carId = int, roadMap = arrayType(int), indicator = int, intersectionCount = int}">
                </property>
                <property name="_showName" class="ptolemy.data.expr.SingletonParameter" value="false">
                </property>
            </port>
            <entity name="TimeDelay" class="ptolemy.actor.lib.TimeDelay">
                <property name="delay" class="ptolemy.actor.parameters.PortParameter" value="duration">
                </property>
                <property name="_location" class="ptolemy.kernel.util.Location" value="[370.0, 455.0]">
                </property>
            </entity>
            <entity name="TimeDelay2" class="ptolemy.actor.lib.TimeDelay">
                <property name="delay" class="ptolemy.actor.parameters.PortParameter" value="duration">
                </property>
                <property name="_location" class="ptolemy.kernel.util.Location" value="[395.0, 590.0]">
                </property>
            </entity>
            <entity name="counter" class="ptolemy.actor.lib.jjs.JavaScript">
                <property name="_windowProperties" class="ptolemy.actor.gui.WindowPropertiesAttribute">
                </property>
                <property name="_paneSize" class="ptolemy.actor.gui.SizeAttribute">
                </property>
                <property name="script" class="ptolemy.actor.parameters.PortParameter" value="// counter that simulates the street&#10;	var counter = 0;&#10;//queue to save the waiting cars&#10;	var queue = [];&#10;&#10;exports.setup = function () {&#10;	//the Input-ports for the incoming cars&#10;    this.input('input');&#10;    this.input('counter');&#10;    &#10;    //the Output-ports for the leaving cars&#10;    this.output('output');&#10;    this.output('display');&#10;    this.output('trigger');&#10;}&#10;&#10;exports.initialize = function () {&#10;	&#10;	this.addInputHandler('input', function() {&#10;		this.send('output', this.get('input'));&#10;	});&#10;	&#10;	this.addInputHandler('counter', function() {&#10;		counter = this.get('counter');&#10;		&#10;		if (this.getParameter('analysisFlag') == 1) {&#10;			this.send('display', counter);&#10;		}&#10;		&#10;		if (counter &lt; this.getParameter('streetLength')) {&#10;			this.send('trigger', true);&#10;		} else {&#10;			// do nothing, street is full&#10;		}&#10;		&#10;		/*&#10;		if (counter &gt; this.getParameter('streetLength')) {&#10;			this.send('trigger', (counter-this.getParameter('streetLength'))*3);&#10;		} else {&#10;			while (queue.length != 0) {&#10;				this.send('output', queue.pop());&#10;			}&#10;		}*/&#10;	});&#10;}">
                    <property name="style" class="ptolemy.actor.gui.style.NoteStyle">
                        <property name="note" class="ptolemy.kernel.util.StringAttribute" value="NOTE: To see the script, invoke Open Actor">
                        </property>
                    </property>
                </property>
                <property name="_tableauFactory" class="ptolemy.vergil.toolbox.TextEditorTableauFactory">
                    <property name="attributeName" class="ptolemy.kernel.util.StringAttribute" value="script">
                    </property>
                    <property name="syntaxStyle" class="ptolemy.kernel.util.StringAttribute" value="text/javascript">
                    </property>
                </property>
                <property name="_location" class="ptolemy.kernel.util.Location" value="[555.0, 455.0]">
                </property>
                <property name="_hideName" class="ptolemy.data.expr.SingletonParameter" value="true">
                </property>
                <property name="_flipPortsVertical" class="ptolemy.data.expr.Parameter" value="true">
                </property>
                <property name="analysisFlag" class="ptolemy.data.expr.Parameter" value="analysisFlag">
                </property>
                <property name="streetLength" class="ptolemy.data.expr.Parameter" value="streetLength">
                </property>
                <port name="input" class="ptolemy.actor.TypedIOPort">
                    <property name="input"/>
                </port>
                <port name="output" class="ptolemy.actor.TypedIOPort">
                    <property name="output"/>
                </port>
                <port name="display" class="ptolemy.actor.TypedIOPort">
                    <property name="output"/>
                    <property name="_cardinal" class="ptolemy.kernel.util.StringAttribute" value="NORTH">
                    </property>
                    <property name="_type" class="ptolemy.actor.TypeAttribute" value="double">
                    </property>
                </port>
                <port name="trigger" class="ptolemy.actor.TypedIOPort">
                    <property name="output"/>
                </port>
                <port name="counter" class="ptolemy.actor.TypedIOPort">
                    <property name="input"/>
                    <property name="_type" class="ptolemy.actor.TypeAttribute" value="double">
                    </property>
                </port>
            </entity>
            <entity name="TimedPlotter" class="ptolemy.actor.lib.gui.TimedPlotter">
                <property name="legend" class="ptolemy.kernel.util.StringAttribute" value="counter: left-right, counter: right-left">
                </property>
                <property name="_windowProperties" class="ptolemy.actor.gui.WindowPropertiesAttribute" value="{bounds={278, 130, 687, 497}, maximized=false}">
                </property>
                <property name="_plotSize" class="ptolemy.actor.gui.SizeAttribute" value="[671, 437]">
                </property>
                <property name="_location" class="ptolemy.kernel.util.Location" value="[600.0, 540.0]">
                </property>
                <configure>
<?plotml <!DOCTYPE plot PUBLIC "-//UC Berkeley//DTD PlotML 1//EN"
"http://ptolemy.eecs.berkeley.edu/xml/dtd/PlotML_1.dtd">
<plot>
<title>TimedPlotter</title>
<xLabel></xLabel>
<yLabel></yLabel>
<xRange min="1.7976931348623157E308" max="-1.7976931348623157E308"/>
<yRange min="1.7976931348623157E308" max="-1.7976931348623157E308"/>
</plot>?>
                </configure>
            </entity>
            <entity name="Counter" class="ptolemy.actor.lib.Counter">
                <property name="_location" class="ptolemy.kernel.util.Location" value="[440.66734313964844, 330.9227752685547]">
                </property>
            </entity>
            <entity name="Counter2" class="ptolemy.actor.lib.Counter">
                <property name="_location" class="ptolemy.kernel.util.Location" value="{444.3317368090452, 733.3371125801125}">
                </property>
            </entity>
            <entity name="counter3" class="ptolemy.actor.lib.jjs.JavaScript">
                <property name="_windowProperties" class="ptolemy.actor.gui.WindowPropertiesAttribute">
                </property>
                <property name="_paneSize" class="ptolemy.actor.gui.SizeAttribute">
                </property>
                <property name="script" class="ptolemy.actor.parameters.PortParameter" value="// counter that simulates the street&#10;	var counter = 0;&#10;//queue to save the waiting cars&#10;	var queue = [];&#10;&#10;exports.setup = function () {&#10;	//the Input-ports for the incoming cars&#10;    this.input('input');&#10;    this.input('counter');&#10;    &#10;    //the Output-ports for the leaving cars&#10;    this.output('output');&#10;    this.output('display');&#10;    this.output('trigger');&#10;}&#10;&#10;exports.initialize = function () {&#10;	&#10;	this.addInputHandler('input', function() {&#10;		this.send('output', this.get('input'));&#10;	});&#10;	&#10;	this.addInputHandler('counter', function() {&#10;		counter = this.get('counter');&#10;		&#10;		if (this.getParameter('analysisFlag') == 1) {&#10;			this.send('display', counter);&#10;		}&#10;		&#10;		if (counter &lt; this.getParameter('streetLength')) {&#10;			this.send('trigger', counter);&#10;		} else {&#10;			// do nothing, street is full&#10;		}&#10;		&#10;		/*&#10;		if (counter &gt; this.getParameter('streetLength')) {&#10;			this.send('trigger', (counter-this.getParameter('streetLength'))*3);&#10;		} else {&#10;			while (queue.length != 0) {&#10;				this.send('output', queue.pop());&#10;			}&#10;		}*/&#10;	});&#10;}">
                    <property name="style" class="ptolemy.actor.gui.style.NoteStyle">
                        <property name="note" class="ptolemy.kernel.util.StringAttribute" value="NOTE: To see the script, invoke Open Actor">
                        </property>
                    </property>
                </property>
                <property name="_tableauFactory" class="ptolemy.vergil.toolbox.TextEditorTableauFactory">
                    <property name="attributeName" class="ptolemy.kernel.util.StringAttribute" value="script">
                    </property>
                    <property name="syntaxStyle" class="ptolemy.kernel.util.StringAttribute" value="text/javascript">
                    </property>
                </property>
                <property name="_location" class="ptolemy.kernel.util.Location" value="[530.0, 600.0]">
                </property>
                <property name="_hideName" class="ptolemy.data.expr.SingletonParameter" value="true">
                </property>
                <property name="_flipPortsVertical" class="ptolemy.data.expr.Parameter" value="true">
                </property>
                <property name="analysisFlag" class="ptolemy.data.expr.Parameter" value="analysisFlag">
                </property>
                <property name="streetLength" class="ptolemy.data.expr.Parameter" value="streetLength">
                </property>
                <port name="input" class="ptolemy.actor.TypedIOPort">
                    <property name="input"/>
                </port>
                <port name="output" class="ptolemy.actor.TypedIOPort">
                    <property name="output"/>
                </port>
                <port name="display" class="ptolemy.actor.TypedIOPort">
                    <property name="output"/>
                    <property name="_cardinal" class="ptolemy.kernel.util.StringAttribute" value="NORTH">
                    </property>
                    <property name="_type" class="ptolemy.actor.TypeAttribute" value="double">
                    </property>
                </port>
                <port name="trigger" class="ptolemy.actor.TypedIOPort">
                    <property name="output"/>
                </port>
                <port name="counter" class="ptolemy.actor.TypedIOPort">
                    <property name="input"/>
                    <property name="_type" class="ptolemy.actor.TypeAttribute" value="double">
                    </property>
                </port>
            </entity>
            <entity name="Queue" class="ptolemy.domains.de.lib.Queue">
                <property name="capacity" class="ptolemy.data.expr.Parameter" value="10">
                </property>
                <property name="persistentTrigger" class="ptolemy.data.expr.Parameter" value="true">
                </property>
                <property name="_location" class="ptolemy.kernel.util.Location" value="[190.0, 455.0]">
                </property>
                <port name="input" class="ptolemy.actor.TypedIOPort">
                    <property name="input"/>
                    <property name="_type" class="ptolemy.actor.TypeAttribute" value="{carId = int, roadMap = arrayType(int), indicator = int}">
                    </property>
                </port>
                <port name="output" class="ptolemy.actor.TypedIOPort">
                    <property name="output"/>
                    <property name="_type" class="ptolemy.actor.TypeAttribute" value="{carId = int, roadMap = arrayType(int), indicator = int}">
                    </property>
                </port>
            </entity>
            <entity name="Queue2" class="ptolemy.domains.de.lib.Queue">
                <property name="_location" class="ptolemy.kernel.util.Location" value="{187.8914925102946, 620.4811694530187}">
                </property>
                <port name="input" class="ptolemy.actor.TypedIOPort">
                    <property name="input"/>
                    <property name="_type" class="ptolemy.actor.TypeAttribute" value="{carId = int, roadMap = arrayType(int), indicator = int}">
                    </property>
                </port>
                <port name="output" class="ptolemy.actor.TypedIOPort">
                    <property name="output"/>
                    <property name="_type" class="ptolemy.actor.TypeAttribute" value="{carId = int, roadMap = arrayType(int), indicator = int}">
                    </property>
                </port>
            </entity>
            <entity name="TimeDelay3" class="ptolemy.actor.lib.TimeDelay">
                <property name="delay" class="ptolemy.actor.parameters.PortParameter" value="1">
                </property>
                <property name="_location" class="ptolemy.kernel.util.Location" value="{267.3117148241206, 692.9343958715698}">
                </property>
                <property name="_flipPortsHorizontal" class="ptolemy.data.expr.Parameter" value="true">
                </property>
            </entity>
            <entity name="TimeDelay4" class="ptolemy.actor.lib.TimeDelay">
                <property name="delay" class="ptolemy.actor.parameters.PortParameter" value="1">
                </property>
                <property name="_location" class="ptolemy.kernel.util.Location" value="[270.0, 515.0]">
                </property>
                <property name="_flipPortsHorizontal" class="ptolemy.data.expr.Parameter" value="true">
                </property>
            </entity>
            <entity name="PoissonClock" class="ptolemy.actor.lib.PoissonClock">
                <property name="meanTime" class="ptolemy.data.expr.Parameter" value="0.5">
                </property>
                <property name="stopTime" class="ptolemy.data.expr.Parameter" value="1">
                </property>
                <property name="_location" class="ptolemy.kernel.util.Location" value="[20.0, 525.0]">
                </property>
            </entity>
            <entity name="PoissonClock2" class="ptolemy.actor.lib.PoissonClock">
                <property name="meanTime" class="ptolemy.data.expr.Parameter" value="0.5">
                </property>
                <property name="stopTime" class="ptolemy.data.expr.Parameter" value="1">
                </property>
                <property name="_location" class="ptolemy.kernel.util.Location" value="[10.0, 755.0]">
                </property>
            </entity>
            <entity name="JavaScript" class="ptolemy.actor.lib.jjs.JavaScript">
                <property name="_windowProperties" class="ptolemy.actor.gui.WindowPropertiesAttribute">
                </property>
                <property name="_paneSize" class="ptolemy.actor.gui.SizeAttribute">
                </property>
                <property name="script" class="ptolemy.actor.parameters.PortParameter" value="var queueSize = 0;&#10;&#10;exports.setup = function () {&#10;	//the Input-ports for the incoming cars&#10;    this.input('input');&#10;    this.input('clock');&#10;    &#10;    //the Output-ports for the leaving cars&#10;    this.output('output');&#10;}&#10;&#10;exports.initialize = function () {&#10;	&#10;	this.addInputHandler('input', function() {&#10;		queueSize = this.get('input');&#10;	});&#10;	&#10;	this.addInputHandler('clock', function() {&#10;		if(queueSize == 0) {&#10;			this.send('output', true);&#10;		}&#10;	});&#10;}">
                    <property name="style" class="ptolemy.actor.gui.style.NoteStyle">
                        <property name="note" class="ptolemy.kernel.util.StringAttribute" value="NOTE: To see the script, invoke Open Actor">
                        </property>
                    </property>
                </property>
                <property name="_tableauFactory" class="ptolemy.vergil.toolbox.TextEditorTableauFactory">
                    <property name="attributeName" class="ptolemy.kernel.util.StringAttribute" value="script">
                    </property>
                    <property name="syntaxStyle" class="ptolemy.kernel.util.StringAttribute" value="text/javascript">
                    </property>
                </property>
                <property name="_location" class="ptolemy.kernel.util.Location" value="[110.0, 755.0]">
                </property>
                <property name="_flipPortsHorizontal" class="ptolemy.data.expr.Parameter" value="false">
                </property>
                <port name="input" class="ptolemy.actor.TypedIOPort">
                    <property name="input"/>
                    <property name="_cardinal" class="ptolemy.kernel.util.StringAttribute" value="NORTH">
                    </property>
                </port>
                <port name="output" class="ptolemy.actor.TypedIOPort">
                    <property name="output"/>
                </port>
                <port name="clock" class="ptolemy.actor.TypedIOPort">
                    <property name="input"/>
                </port>
            </entity>
            <entity name="JavaScript2" class="ptolemy.actor.lib.jjs.JavaScript">
                <property name="_windowProperties" class="ptolemy.actor.gui.WindowPropertiesAttribute">
                </property>
                <property name="_paneSize" class="ptolemy.actor.gui.SizeAttribute">
                </property>
                <property name="script" class="ptolemy.actor.parameters.PortParameter" value="var queueSize = 0;&#10;&#10;exports.setup = function () {&#10;	//the Input-ports for the incoming cars&#10;    this.input('input');&#10;    this.input('clock');&#10;    &#10;    //the Output-ports for the leaving cars&#10;    this.output('output');&#10;}&#10;&#10;exports.initialize = function () {&#10;	&#10;	this.addInputHandler('input', function() {&#10;		queueSize = this.get('input');&#10;	});&#10;	&#10;	this.addInputHandler('clock', function() {&#10;		if(queueSize == 0) {&#10;			this.send('output', true);&#10;		}&#10;	});&#10;}">
                    <property name="style" class="ptolemy.actor.gui.style.NoteStyle">
                        <property name="note" class="ptolemy.kernel.util.StringAttribute" value="NOTE: To see the script, invoke Open Actor">
                        </property>
                    </property>
                </property>
                <property name="_tableauFactory" class="ptolemy.vergil.toolbox.TextEditorTableauFactory">
                    <property name="attributeName" class="ptolemy.kernel.util.StringAttribute" value="script">
                    </property>
                    <property name="syntaxStyle" class="ptolemy.kernel.util.StringAttribute" value="text/javascript">
                    </property>
                </property>
                <property name="_location" class="ptolemy.kernel.util.Location" value="[110.0, 555.0]">
                </property>
                <property name="_flipPortsHorizontal" class="ptolemy.data.expr.Parameter" value="false">
                </property>
                <port name="input" class="ptolemy.actor.TypedIOPort">
                    <property name="input"/>
                    <property name="_cardinal" class="ptolemy.kernel.util.StringAttribute" value="NORTH">
                    </property>
                </port>
                <port name="output" class="ptolemy.actor.TypedIOPort">
                    <property name="output"/>
                </port>
                <port name="clock" class="ptolemy.actor.TypedIOPort">
                    <property name="input"/>
                </port>
            </entity>
            <entity name="TimeDelay5" class="ptolemy.actor.lib.TimeDelay">
                <property name="delay" class="ptolemy.actor.parameters.PortParameter" value="1">
                </property>
                <property name="_location" class="ptolemy.kernel.util.Location" value="{102.8625157035176, 472.1470214997105}">
                </property>
                <property name="_flipPortsHorizontal" class="ptolemy.data.expr.Parameter" value="true">
                </property>
            </entity>
            <entity name="TimeDelay6" class="ptolemy.actor.lib.TimeDelay">
                <property name="delay" class="ptolemy.actor.parameters.PortParameter" value="1">
                </property>
                <property name="_location" class="ptolemy.kernel.util.Location" value="{104.8625157035176, 648.1470214997105}">
                </property>
                <property name="_flipPortsHorizontal" class="ptolemy.data.expr.Parameter" value="true">
                </property>
            </entity>
            <relation name="relation4" class="ptolemy.actor.TypedIORelation">
            </relation>
            <relation name="relation9" class="ptolemy.actor.TypedIORelation">
                <property name="width" class="ptolemy.data.expr.Parameter" value="-1">
                </property>
                <vertex name="vertex1" value="[285.0, 455.0]">
                </vertex>
            </relation>
            <relation name="relation" class="ptolemy.actor.TypedIORelation">
                <property name="width" class="ptolemy.data.expr.Parameter" value="-1">
                </property>
                <vertex name="vertex1" value="[460.0, 455.0]">
                </vertex>
            </relation>
            <relation name="relation3" class="ptolemy.actor.TypedIORelation">
                <property name="width" class="ptolemy.data.expr.Parameter" value="-1">
                </property>
                <vertex name="vertex1" value="{465.0, 620.0}">
                </vertex>
            </relation>
            <relation name="relation2" class="ptolemy.actor.TypedIORelation">
            </relation>
            <relation name="relation5" class="ptolemy.actor.TypedIORelation">
            </relation>
            <relation name="relation6" class="ptolemy.actor.TypedIORelation">
            </relation>
            <relation name="relation7" class="ptolemy.actor.TypedIORelation">
            </relation>
            <relation name="relation10" class="ptolemy.actor.TypedIORelation">
            </relation>
            <relation name="relation13" class="ptolemy.actor.TypedIORelation">
            </relation>
            <relation name="relation14" class="ptolemy.actor.TypedIORelation">
            </relation>
            <relation name="relation15" class="ptolemy.actor.TypedIORelation">
            </relation>
            <relation name="relation8" class="ptolemy.actor.TypedIORelation">
            </relation>
            <relation name="relation16" class="ptolemy.actor.TypedIORelation">
            </relation>
            <relation name="relation12" class="ptolemy.actor.TypedIORelation">
            </relation>
            <relation name="relation17" class="ptolemy.actor.TypedIORelation">
            </relation>
            <relation name="relation20" class="ptolemy.actor.TypedIORelation">
            </relation>
            <relation name="relation18" class="ptolemy.actor.TypedIORelation">
            </relation>
            <relation name="relation22" class="ptolemy.actor.TypedIORelation">
            </relation>
            <relation name="relation21" class="ptolemy.actor.TypedIORelation">
            </relation>
            <relation name="relation23" class="ptolemy.actor.TypedIORelation">
            </relation>
            <relation name="relation19" class="ptolemy.actor.TypedIORelation">
            </relation>
            <relation name="relation24" class="ptolemy.actor.TypedIORelation">
            </relation>
            <relation name="relation11" class="ptolemy.actor.TypedIORelation">
                <property name="width" class="ptolemy.data.expr.Parameter" value="-1">
                </property>
                <vertex name="vertex1" value="{295.0, 620.0}">
                </vertex>
            </relation>
            <link port="left-right-input" relation="relation13"/>
            <link port="left-right-output" relation="relation4"/>
            <link port="right-left-input" relation="relation14"/>
            <link port="right-left-output" relation="relation10"/>
            <link port="TimeDelay.input" relation="relation9"/>
            <link port="TimeDelay.output" relation="relation"/>
            <link port="TimeDelay2.input" relation="relation11"/>
            <link port="TimeDelay2.output" relation="relation3"/>
            <link port="counter.input" relation="relation"/>
            <link port="counter.output" relation="relation4"/>
            <link port="counter.display" relation="relation5"/>
            <link port="counter.trigger" relation="relation16"/>
            <link port="counter.counter" relation="relation2"/>
            <link port="TimedPlotter.input" relation="relation5"/>
            <link port="TimedPlotter.input" relation="relation7"/>
            <link port="Counter.increment" relation="relation9"/>
            <link port="Counter.decrement" relation="relation"/>
            <link port="Counter.output" relation="relation2"/>
            <link port="Counter2.increment" relation="relation11"/>
            <link port="Counter2.decrement" relation="relation3"/>
            <link port="Counter2.output" relation="relation6"/>
            <link port="counter3.input" relation="relation3"/>
            <link port="counter3.output" relation="relation10"/>
            <link port="counter3.display" relation="relation7"/>
            <link port="counter3.trigger" relation="relation15"/>
            <link port="counter3.counter" relation="relation6"/>
            <link port="Queue.input" relation="relation13"/>
            <link port="Queue.output" relation="relation9"/>
            <link port="Queue.trigger" relation="relation8"/>
            <link port="Queue.trigger" relation="relation22"/>
            <link port="Queue.size" relation="relation21"/>
            <link port="Queue2.input" relation="relation14"/>
            <link port="Queue2.output" relation="relation11"/>
            <link port="Queue2.trigger" relation="relation12"/>
            <link port="Queue2.trigger" relation="relation20"/>
            <link port="Queue2.size" relation="relation19"/>
            <link port="TimeDelay3.input" relation="relation15"/>
            <link port="TimeDelay3.output" relation="relation12"/>
            <link port="TimeDelay4.input" relation="relation16"/>
            <link port="TimeDelay4.output" relation="relation8"/>
            <link port="PoissonClock.output" relation="relation18"/>
            <link port="PoissonClock2.output" relation="relation17"/>
            <link port="JavaScript.input" relation="relation24"/>
            <link port="JavaScript.output" relation="relation20"/>
            <link port="JavaScript.clock" relation="relation17"/>
            <link port="JavaScript2.input" relation="relation23"/>
            <link port="JavaScript2.output" relation="relation22"/>
            <link port="JavaScript2.clock" relation="relation18"/>
            <link port="TimeDelay5.input" relation="relation21"/>
            <link port="TimeDelay5.output" relation="relation23"/>
            <link port="TimeDelay6.input" relation="relation19"/>
            <link port="TimeDelay6.output" relation="relation24"/>
        </entity>
        <relation name="relation8" class="ptolemy.actor.TypedIORelation">
            <property name="_layoutHint" class="ptolemy.vergil.actor.LayoutHint" value="{ { head={id=&quot;leftRightOutput._location&quot;,x=355.0,y=205.0}, tail={id=&quot;Street2.left-right-output&quot;,x=270.0,y=265.0}, points={320.0,205.0,320.0,255.0} } }">
            </property>
        </relation>
        <relation name="relation7" class="ptolemy.actor.TypedIORelation">
        </relation>
        <relation name="relation" class="ptolemy.actor.TypedIORelation">
        </relation>
        <relation name="relation2" class="ptolemy.actor.TypedIORelation">
        </relation>
        <link port="leftRightInput" relation="relation"/>
        <link port="leftRightOutput" relation="relation8"/>
        <link port="rightLeftInput" relation="relation2"/>
        <link port="rightLeftOutput" relation="relation7"/>
        <link port="Street2.left-right-input" relation="relation"/>
        <link port="Street2.left-right-output" relation="relation8"/>
        <link port="Street2.right-left-input" relation="relation2"/>
        <link port="Street2.right-left-output" relation="relation7"/>
    </entity>
    <entity name="Road11" class="ptolemy.actor.TypedCompositeActor">
        <property name="_location" class="ptolemy.kernel.util.Location" value="[200.0, 75.0]">
        </property>
        <property name="_windowProperties" class="ptolemy.actor.gui.WindowPropertiesAttribute" value="{bounds={174, 129, 928, 617}, maximized=false}">
        </property>
        <property name="_vergilSize" class="ptolemy.actor.gui.SizeAttribute" value="[700, 500]">
        </property>
        <property name="_vergilZoomFactor" class="ptolemy.data.expr.ExpertParameter" value="1.0">
        </property>
        <property name="_vergilCenter" class="ptolemy.data.expr.ExpertParameter" value="{246.40059673366832, 253.38222361809045}">
        </property>
        <property name="_icon" class="ptolemy.vergil.icon.EditorIcon">
            <property name="rectangle" class="ptolemy.vergil.kernel.attributes.RectangleAttribute">
                <property name="_location" class="ptolemy.kernel.util.Location" value="{0, 0}">
                </property>
                <property name="width" class="ptolemy.data.expr.Parameter" value="60">
                </property>
                <property name="height" class="ptolemy.data.expr.Parameter" value="40">
                </property>
                <property name="centered" class="ptolemy.data.expr.Parameter" value="true">
                </property>
                <property name="fillColor" class="ptolemy.actor.gui.ColorAttribute" value="{1.0, 1.0, 1.0, 1.0}">
                </property>
            </property>
            <property name="Annotation" class="ptolemy.vergil.kernel.attributes.TextAttribute">
                <property name="textColor" class="ptolemy.actor.gui.ColorAttribute" value="{0.0, 0.0, 0.0, 1.0}">
                </property>
                <property name="text" class="ptolemy.kernel.util.StringAttribute" value="- - - - - -">
                </property>
                <property name="_location" class="ptolemy.kernel.util.Location" value="[-28.0, -4.0]">
                </property>
            </property>
            <property name="_windowProperties" class="ptolemy.actor.gui.WindowPropertiesAttribute" value="{bounds={219, 75, 928, 617}, maximized=false}">
            </property>
            <property name="_vergilSize" class="ptolemy.actor.gui.SizeAttribute" value="[700, 500]">
            </property>
            <property name="_vergilZoomFactor" class="ptolemy.data.expr.ExpertParameter" value="4.0">
            </property>
            <property name="_vergilCenter" class="ptolemy.data.expr.ExpertParameter" value="{12.5, 6.25}">
            </property>
        </property>
        <property name="streetLength" class="ptolemy.data.expr.Parameter" value="4">
        </property>
        <property name="duration" class="ptolemy.data.expr.Parameter" value="4">
        </property>
        <property name="analysisFlag" class="ptolemy.data.expr.Parameter" value="StreetPlotterFlag">
        </property>
        <port name="leftRightInput" class="ptolemy.actor.TypedIOPort">
            <property name="input"/>
            <property name="_location" class="ptolemy.kernel.util.Location" value="{15.0, 255.0}">
            </property>
            <property name="_cardinal" class="ptolemy.kernel.util.StringAttribute" value="WEST">
            </property>
        </port>
        <port name="leftRightOutput" class="ptolemy.actor.TypedIOPort">
            <property name="output"/>
            <property name="_location" class="ptolemy.kernel.util.Location" value="{355.0, 205.0}">
            </property>
            <property name="_cardinal" class="ptolemy.kernel.util.StringAttribute" value="EAST">
            </property>
        </port>
        <port name="rightLeftInput" class="ptolemy.actor.TypedIOPort">
            <property name="input"/>
            <property name="_location" class="ptolemy.kernel.util.Location" value="[490.0, 220.0]">
            </property>
            <property name="_cardinal" class="ptolemy.kernel.util.StringAttribute" value="EAST">
            </property>
        </port>
        <port name="rightLeftOutput" class="ptolemy.actor.TypedIOPort">
            <property name="output"/>
            <property name="_location" class="ptolemy.kernel.util.Location" value="[225.0, 350.0]">
            </property>
            <property name="_cardinal" class="ptolemy.kernel.util.StringAttribute" value="WEST">
            </property>
        </port>
        <entity name="TimeDelay" class="ptolemy.actor.lib.TimeDelay">
            <property name="delay" class="ptolemy.actor.parameters.PortParameter" value="1">
            </property>
            <property name="_location" class="ptolemy.kernel.util.Location" value="{145.0, 255.0}">
            </property>
            <port name="delay" class="ptolemy.actor.parameters.ParameterPort">
                <property name="input"/>
                <property name="_type" class="ptolemy.actor.TypeAttribute" value="double">
                </property>
            </port>
        </entity>
        <entity name="TimeDelay2" class="ptolemy.actor.lib.TimeDelay">
            <property name="delay" class="ptolemy.actor.parameters.PortParameter" value="1">
            </property>
            <property name="_location" class="ptolemy.kernel.util.Location" value="{385.0, 275.0}">
            </property>
            <property name="_flipPortsHorizontal" class="ptolemy.data.expr.Parameter" value="true">
            </property>
            <port name="delay" class="ptolemy.actor.parameters.ParameterPort">
                <property name="input"/>
                <property name="_type" class="ptolemy.actor.TypeAttribute" value="double">
                </property>
            </port>
        </entity>
        <entity name="Street2" class="ptolemy.actor.TypedCompositeActor">
            <property name="_location" class="ptolemy.kernel.util.Location" value="{270.0, 265.0}">
            </property>
            <property name="_icon" class="ptolemy.vergil.icon.EditorIcon">
                <property name="rectangle" class="ptolemy.vergil.kernel.attributes.RectangleAttribute">
                    <property name="_location" class="ptolemy.kernel.util.Location" value="-0.5, 0.5">
                    </property>
                    <property name="width" class="ptolemy.data.expr.Parameter" value="41.0">
                    </property>
                    <property name="height" class="ptolemy.data.expr.Parameter" value="21.0">
                    </property>
                    <property name="centered" class="ptolemy.data.expr.Parameter" value="true">
                    </property>
                    <property name="fillColor" class="ptolemy.actor.gui.ColorAttribute" value="{1.0, 1.0, 1.0, 1.0}">
                    </property>
                    <property name="_renderFirst" class="ptolemy.kernel.util.SingletonAttribute">
                    </property>
                </property>
                <property name="line" class="ptolemy.vergil.kernel.attributes.LineAttribute">
                    <property name="_location" class="ptolemy.kernel.util.Location" value="[-20.0, -10.0]">
                    </property>
                    <property name="x" class="ptolemy.data.expr.Parameter" value="40.0">
                    </property>
                    <property name="y" class="ptolemy.data.expr.Parameter" value="0.0">
                    </property>
                </property>
                <property name="line2" class="ptolemy.vergil.kernel.attributes.LineAttribute">
                    <property name="_location" class="ptolemy.kernel.util.Location" value="[-20.0, 11.0]">
                    </property>
                    <property name="x" class="ptolemy.data.expr.Parameter" value="40.0">
                    </property>
                    <property name="y" class="ptolemy.data.expr.Parameter" value="0.0">
                    </property>
                </property>
                <property name="Annotation" class="ptolemy.vergil.kernel.attributes.TextAttribute">
                    <property name="textColor" class="ptolemy.actor.gui.ColorAttribute" value="{0.0, 0.0, 0.0, 1.0}">
                    </property>
                    <property name="text" class="ptolemy.kernel.util.StringAttribute" value="- - - - -">
                    </property>
                    <property name="_location" class="ptolemy.kernel.util.Location" value="[-24.0, -4.0]">
                    </property>
                </property>
            </property>
            <property name="_windowProperties" class="ptolemy.actor.gui.WindowPropertiesAttribute" value="{bounds={610, 195, 928, 618}, maximized=false}">
            </property>
            <property name="_vergilSize" class="ptolemy.actor.gui.SizeAttribute" value="[700, 501]">
            </property>
            <property name="_vergilZoomFactor" class="ptolemy.data.expr.ExpertParameter" value="1.0">
            </property>
            <property name="_vergilCenter" class="ptolemy.data.expr.ExpertParameter" value="{265.8625157035176, 588.6470214997105}">
            </property>
            <property name="streetLength" class="ptolemy.data.expr.Parameter" value="streetLength">
            </property>
            <property name="analysisFlag" class="ptolemy.data.expr.Parameter" value="StreetPlotterFlag">
            </property>
            <property name="duration" class="ptolemy.data.expr.Parameter" value="duration">
            </property>
            <port name="left-right-input" class="ptolemy.actor.TypedIOPort">
                <property name="input"/>
                <property name="_cardinal" class="ptolemy.kernel.util.StringAttribute" value="WEST">
                </property>
                <property name="_location" class="ptolemy.kernel.util.Location" value="[10.0, 455.0]">
                </property>
                <property name="_type" class="ptolemy.actor.TypeAttribute" value="{carId = int, roadMap = arrayType(int), indicator = int, intersectionCount = int}">
                </property>
                <property name="_showName" class="ptolemy.data.expr.SingletonParameter" value="false">
                </property>
            </port>
            <port name="left-right-output" class="ptolemy.actor.TypedIOPort">
                <property name="output"/>
                <property name="_cardinal" class="ptolemy.kernel.util.StringAttribute" value="EAST">
                </property>
                <property name="_location" class="ptolemy.kernel.util.Location" value="[665.0, 435.0]">
                </property>
                <property name="_type" class="ptolemy.actor.TypeAttribute" value="{carId = int, roadMap = arrayType(int), indicator = int, intersectionCount = int}">
                </property>
                <property name="_showName" class="ptolemy.data.expr.SingletonParameter" value="false">
                </property>
            </port>
            <port name="right-left-input" class="ptolemy.actor.TypedIOPort">
                <property name="input"/>
                <property name="_cardinal" class="ptolemy.kernel.util.StringAttribute" value="EAST">
                </property>
                <property name="_location" class="ptolemy.kernel.util.Location" value="[10.0, 620.0]">
                </property>
                <property name="_type" class="ptolemy.actor.TypeAttribute" value="{carId = int, roadMap = arrayType(int), indicator = int, intersectionCount = int}">
                </property>
                <property name="_showName" class="ptolemy.data.expr.SingletonParameter" value="false">
                </property>
            </port>
            <port name="right-left-output" class="ptolemy.actor.TypedIOPort">
                <property name="output"/>
                <property name="_cardinal" class="ptolemy.kernel.util.StringAttribute" value="WEST">
                </property>
                <property name="_location" class="ptolemy.kernel.util.Location" value="[660.0, 600.0]">
                </property>
                <property name="_type" class="ptolemy.actor.TypeAttribute" value="{carId = int, roadMap = arrayType(int), indicator = int, intersectionCount = int}">
                </property>
                <property name="_showName" class="ptolemy.data.expr.SingletonParameter" value="false">
                </property>
            </port>
            <entity name="TimeDelay" class="ptolemy.actor.lib.TimeDelay">
                <property name="delay" class="ptolemy.actor.parameters.PortParameter" value="duration">
                </property>
                <property name="_location" class="ptolemy.kernel.util.Location" value="[370.0, 455.0]">
                </property>
            </entity>
            <entity name="TimeDelay2" class="ptolemy.actor.lib.TimeDelay">
                <property name="delay" class="ptolemy.actor.parameters.PortParameter" value="duration">
                </property>
                <property name="_location" class="ptolemy.kernel.util.Location" value="[385.0, 620.0]">
                </property>
            </entity>
            <entity name="counter" class="ptolemy.actor.lib.jjs.JavaScript">
                <property name="_windowProperties" class="ptolemy.actor.gui.WindowPropertiesAttribute">
                </property>
                <property name="_paneSize" class="ptolemy.actor.gui.SizeAttribute">
                </property>
                <property name="script" class="ptolemy.actor.parameters.PortParameter" value="// counter that simulates the street&#10;	var counter = 0;&#10;//queue to save the waiting cars&#10;	var queue = [];&#10;&#10;exports.setup = function () {&#10;	//the Input-ports for the incoming cars&#10;    this.input('input');&#10;    this.input('counter');&#10;    &#10;    //the Output-ports for the leaving cars&#10;    this.output('output');&#10;    this.output('display');&#10;    this.output('trigger');&#10;}&#10;&#10;exports.initialize = function () {&#10;	&#10;	this.addInputHandler('input', function() {&#10;		this.send('output', this.get('input'));&#10;	});&#10;	&#10;	this.addInputHandler('counter', function() {&#10;		counter = this.get('counter');&#10;		&#10;		if (this.getParameter('analysisFlag') == 1) {&#10;			this.send('display', counter);&#10;		}&#10;		&#10;		if (counter &lt; this.getParameter('streetLength')) {&#10;			this.send('trigger', true);&#10;		} else {&#10;			// do nothing, street is full&#10;		}&#10;		&#10;		/*&#10;		if (counter &gt; this.getParameter('streetLength')) {&#10;			this.send('trigger', (counter-this.getParameter('streetLength'))*3);&#10;		} else {&#10;			while (queue.length != 0) {&#10;				this.send('output', queue.pop());&#10;			}&#10;		}*/&#10;	});&#10;}">
                    <property name="style" class="ptolemy.actor.gui.style.NoteStyle">
                        <property name="note" class="ptolemy.kernel.util.StringAttribute" value="NOTE: To see the script, invoke Open Actor">
                        </property>
                    </property>
                </property>
                <property name="_tableauFactory" class="ptolemy.vergil.toolbox.TextEditorTableauFactory">
                    <property name="attributeName" class="ptolemy.kernel.util.StringAttribute" value="script">
                    </property>
                    <property name="syntaxStyle" class="ptolemy.kernel.util.StringAttribute" value="text/javascript">
                    </property>
                </property>
                <property name="_location" class="ptolemy.kernel.util.Location" value="[555.0, 455.0]">
                </property>
                <property name="_hideName" class="ptolemy.data.expr.SingletonParameter" value="true">
                </property>
                <property name="_flipPortsVertical" class="ptolemy.data.expr.Parameter" value="true">
                </property>
                <property name="analysisFlag" class="ptolemy.data.expr.Parameter" value="analysisFlag">
                </property>
                <property name="streetLength" class="ptolemy.data.expr.Parameter" value="streetLength">
                </property>
                <port name="input" class="ptolemy.actor.TypedIOPort">
                    <property name="input"/>
                </port>
                <port name="output" class="ptolemy.actor.TypedIOPort">
                    <property name="output"/>
                </port>
                <port name="display" class="ptolemy.actor.TypedIOPort">
                    <property name="output"/>
                    <property name="_cardinal" class="ptolemy.kernel.util.StringAttribute" value="NORTH">
                    </property>
                    <property name="_type" class="ptolemy.actor.TypeAttribute" value="double">
                    </property>
                </port>
                <port name="trigger" class="ptolemy.actor.TypedIOPort">
                    <property name="output"/>
                </port>
                <port name="counter" class="ptolemy.actor.TypedIOPort">
                    <property name="input"/>
                    <property name="_type" class="ptolemy.actor.TypeAttribute" value="double">
                    </property>
                </port>
            </entity>
            <entity name="TimedPlotter" class="ptolemy.actor.lib.gui.TimedPlotter">
                <property name="legend" class="ptolemy.kernel.util.StringAttribute" value="counter: left-right, counter: right-left">
                </property>
                <property name="_windowProperties" class="ptolemy.actor.gui.WindowPropertiesAttribute" value="{bounds={278, 130, 687, 497}, maximized=false}">
                </property>
                <property name="_plotSize" class="ptolemy.actor.gui.SizeAttribute" value="[671, 437]">
                </property>
                <property name="_location" class="ptolemy.kernel.util.Location" value="[600.0, 540.0]">
                </property>
                <configure>
<?plotml <!DOCTYPE plot PUBLIC "-//UC Berkeley//DTD PlotML 1//EN"
"http://ptolemy.eecs.berkeley.edu/xml/dtd/PlotML_1.dtd">
<plot>
<title>TimedPlotter</title>
<xLabel></xLabel>
<yLabel></yLabel>
<xRange min="1.7976931348623157E308" max="-1.7976931348623157E308"/>
<yRange min="1.7976931348623157E308" max="-1.7976931348623157E308"/>
</plot>?>
                </configure>
            </entity>
            <entity name="Counter" class="ptolemy.actor.lib.Counter">
                <property name="_location" class="ptolemy.kernel.util.Location" value="[440.66734313964844, 330.9227752685547]">
                </property>
            </entity>
            <entity name="Counter2" class="ptolemy.actor.lib.Counter">
                <property name="_location" class="ptolemy.kernel.util.Location" value="{444.3317368090452, 733.3371125801125}">
                </property>
            </entity>
            <entity name="counter3" class="ptolemy.actor.lib.jjs.JavaScript">
                <property name="_windowProperties" class="ptolemy.actor.gui.WindowPropertiesAttribute">
                </property>
                <property name="_paneSize" class="ptolemy.actor.gui.SizeAttribute">
                </property>
                <property name="script" class="ptolemy.actor.parameters.PortParameter" value="// counter that simulates the street&#10;	var counter = 0;&#10;//queue to save the waiting cars&#10;	var queue = [];&#10;&#10;exports.setup = function () {&#10;	//the Input-ports for the incoming cars&#10;    this.input('input');&#10;    this.input('counter');&#10;    &#10;    //the Output-ports for the leaving cars&#10;    this.output('output');&#10;    this.output('display');&#10;    this.output('trigger');&#10;}&#10;&#10;exports.initialize = function () {&#10;	&#10;	this.addInputHandler('input', function() {&#10;		this.send('output', this.get('input'));&#10;	});&#10;	&#10;	this.addInputHandler('counter', function() {&#10;		counter = this.get('counter');&#10;		&#10;		if (this.getParameter('analysisFlag') == 1) {&#10;			this.send('display', counter);&#10;		}&#10;		&#10;		if (counter &lt; this.getParameter('streetLength')) {&#10;			this.send('trigger', counter);&#10;		} else {&#10;			// do nothing, street is full&#10;		}&#10;		&#10;		/*&#10;		if (counter &gt; this.getParameter('streetLength')) {&#10;			this.send('trigger', (counter-this.getParameter('streetLength'))*3);&#10;		} else {&#10;			while (queue.length != 0) {&#10;				this.send('output', queue.pop());&#10;			}&#10;		}*/&#10;	});&#10;}">
                    <property name="style" class="ptolemy.actor.gui.style.NoteStyle">
                        <property name="note" class="ptolemy.kernel.util.StringAttribute" value="NOTE: To see the script, invoke Open Actor">
                        </property>
                    </property>
                </property>
                <property name="_tableauFactory" class="ptolemy.vergil.toolbox.TextEditorTableauFactory">
                    <property name="attributeName" class="ptolemy.kernel.util.StringAttribute" value="script">
                    </property>
                    <property name="syntaxStyle" class="ptolemy.kernel.util.StringAttribute" value="text/javascript">
                    </property>
                </property>
                <property name="_location" class="ptolemy.kernel.util.Location" value="[530.0, 600.0]">
                </property>
                <property name="_hideName" class="ptolemy.data.expr.SingletonParameter" value="true">
                </property>
                <property name="_flipPortsVertical" class="ptolemy.data.expr.Parameter" value="true">
                </property>
                <property name="analysisFlag" class="ptolemy.data.expr.Parameter" value="analysisFlag">
                </property>
                <property name="streetLength" class="ptolemy.data.expr.Parameter" value="streetLength">
                </property>
                <port name="input" class="ptolemy.actor.TypedIOPort">
                    <property name="input"/>
                </port>
                <port name="output" class="ptolemy.actor.TypedIOPort">
                    <property name="output"/>
                </port>
                <port name="display" class="ptolemy.actor.TypedIOPort">
                    <property name="output"/>
                    <property name="_cardinal" class="ptolemy.kernel.util.StringAttribute" value="NORTH">
                    </property>
                    <property name="_type" class="ptolemy.actor.TypeAttribute" value="double">
                    </property>
                </port>
                <port name="trigger" class="ptolemy.actor.TypedIOPort">
                    <property name="output"/>
                </port>
                <port name="counter" class="ptolemy.actor.TypedIOPort">
                    <property name="input"/>
                    <property name="_type" class="ptolemy.actor.TypeAttribute" value="double">
                    </property>
                </port>
            </entity>
            <entity name="Queue" class="ptolemy.domains.de.lib.Queue">
                <property name="capacity" class="ptolemy.data.expr.Parameter" value="10">
                </property>
                <property name="persistentTrigger" class="ptolemy.data.expr.Parameter" value="true">
                </property>
                <property name="_location" class="ptolemy.kernel.util.Location" value="[190.0, 455.0]">
                </property>
            </entity>
            <entity name="Queue2" class="ptolemy.domains.de.lib.Queue">
                <property name="_location" class="ptolemy.kernel.util.Location" value="{187.8914925102946, 620.4811694530187}">
                </property>
            </entity>
            <entity name="TimeDelay3" class="ptolemy.actor.lib.TimeDelay">
                <property name="delay" class="ptolemy.actor.parameters.PortParameter" value="1">
                </property>
                <property name="_location" class="ptolemy.kernel.util.Location" value="{267.3117148241206, 692.9343958715698}">
                </property>
                <property name="_flipPortsHorizontal" class="ptolemy.data.expr.Parameter" value="true">
                </property>
            </entity>
            <entity name="TimeDelay4" class="ptolemy.actor.lib.TimeDelay">
                <property name="delay" class="ptolemy.actor.parameters.PortParameter" value="1">
                </property>
                <property name="_location" class="ptolemy.kernel.util.Location" value="[270.0, 515.0]">
                </property>
                <property name="_flipPortsHorizontal" class="ptolemy.data.expr.Parameter" value="true">
                </property>
            </entity>
            <entity name="PoissonClock" class="ptolemy.actor.lib.PoissonClock">
                <property name="meanTime" class="ptolemy.data.expr.Parameter" value="0.5">
                </property>
                <property name="stopTime" class="ptolemy.data.expr.Parameter" value="1">
                </property>
                <property name="_location" class="ptolemy.kernel.util.Location" value="[20.0, 525.0]">
                </property>
            </entity>
            <entity name="PoissonClock2" class="ptolemy.actor.lib.PoissonClock">
                <property name="meanTime" class="ptolemy.data.expr.Parameter" value="0.5">
                </property>
                <property name="stopTime" class="ptolemy.data.expr.Parameter" value="1">
                </property>
                <property name="_location" class="ptolemy.kernel.util.Location" value="[10.0, 755.0]">
                </property>
            </entity>
            <entity name="JavaScript" class="ptolemy.actor.lib.jjs.JavaScript">
                <property name="_windowProperties" class="ptolemy.actor.gui.WindowPropertiesAttribute">
                </property>
                <property name="_paneSize" class="ptolemy.actor.gui.SizeAttribute">
                </property>
                <property name="script" class="ptolemy.actor.parameters.PortParameter" value="var queueSize = 0;&#10;&#10;exports.setup = function () {&#10;	//the Input-ports for the incoming cars&#10;    this.input('input');&#10;    this.input('clock');&#10;    &#10;    //the Output-ports for the leaving cars&#10;    this.output('output');&#10;}&#10;&#10;exports.initialize = function () {&#10;	&#10;	this.addInputHandler('input', function() {&#10;		queueSize = this.get('input');&#10;	});&#10;	&#10;	this.addInputHandler('clock', function() {&#10;		if(queueSize == 0) {&#10;			this.send('output', true);&#10;		}&#10;	});&#10;}">
                    <property name="style" class="ptolemy.actor.gui.style.NoteStyle">
                        <property name="note" class="ptolemy.kernel.util.StringAttribute" value="NOTE: To see the script, invoke Open Actor">
                        </property>
                    </property>
                </property>
                <property name="_tableauFactory" class="ptolemy.vergil.toolbox.TextEditorTableauFactory">
                    <property name="attributeName" class="ptolemy.kernel.util.StringAttribute" value="script">
                    </property>
                    <property name="syntaxStyle" class="ptolemy.kernel.util.StringAttribute" value="text/javascript">
                    </property>
                </property>
                <property name="_location" class="ptolemy.kernel.util.Location" value="[110.0, 755.0]">
                </property>
                <property name="_flipPortsHorizontal" class="ptolemy.data.expr.Parameter" value="false">
                </property>
                <port name="input" class="ptolemy.actor.TypedIOPort">
                    <property name="input"/>
                    <property name="_cardinal" class="ptolemy.kernel.util.StringAttribute" value="NORTH">
                    </property>
                </port>
                <port name="output" class="ptolemy.actor.TypedIOPort">
                    <property name="output"/>
                </port>
                <port name="clock" class="ptolemy.actor.TypedIOPort">
                    <property name="input"/>
                </port>
            </entity>
            <entity name="JavaScript2" class="ptolemy.actor.lib.jjs.JavaScript">
                <property name="_windowProperties" class="ptolemy.actor.gui.WindowPropertiesAttribute">
                </property>
                <property name="_paneSize" class="ptolemy.actor.gui.SizeAttribute">
                </property>
                <property name="script" class="ptolemy.actor.parameters.PortParameter" value="var queueSize = 0;&#10;&#10;exports.setup = function () {&#10;	//the Input-ports for the incoming cars&#10;    this.input('input');&#10;    this.input('clock');&#10;    &#10;    //the Output-ports for the leaving cars&#10;    this.output('output');&#10;}&#10;&#10;exports.initialize = function () {&#10;	&#10;	this.addInputHandler('input', function() {&#10;		queueSize = this.get('input');&#10;	});&#10;	&#10;	this.addInputHandler('clock', function() {&#10;		if(queueSize == 0) {&#10;			this.send('output', true);&#10;		}&#10;	});&#10;}">
                    <property name="style" class="ptolemy.actor.gui.style.NoteStyle">
                        <property name="note" class="ptolemy.kernel.util.StringAttribute" value="NOTE: To see the script, invoke Open Actor">
                        </property>
                    </property>
                </property>
                <property name="_tableauFactory" class="ptolemy.vergil.toolbox.TextEditorTableauFactory">
                    <property name="attributeName" class="ptolemy.kernel.util.StringAttribute" value="script">
                    </property>
                    <property name="syntaxStyle" class="ptolemy.kernel.util.StringAttribute" value="text/javascript">
                    </property>
                </property>
                <property name="_location" class="ptolemy.kernel.util.Location" value="[110.0, 555.0]">
                </property>
                <property name="_flipPortsHorizontal" class="ptolemy.data.expr.Parameter" value="false">
                </property>
                <port name="input" class="ptolemy.actor.TypedIOPort">
                    <property name="input"/>
                    <property name="_cardinal" class="ptolemy.kernel.util.StringAttribute" value="NORTH">
                    </property>
                </port>
                <port name="output" class="ptolemy.actor.TypedIOPort">
                    <property name="output"/>
                </port>
                <port name="clock" class="ptolemy.actor.TypedIOPort">
                    <property name="input"/>
                </port>
            </entity>
            <entity name="TimeDelay5" class="ptolemy.actor.lib.TimeDelay">
                <property name="delay" class="ptolemy.actor.parameters.PortParameter" value="1">
                </property>
                <property name="_location" class="ptolemy.kernel.util.Location" value="{102.8625157035176, 472.1470214997105}">
                </property>
                <property name="_flipPortsHorizontal" class="ptolemy.data.expr.Parameter" value="true">
                </property>
            </entity>
            <entity name="TimeDelay6" class="ptolemy.actor.lib.TimeDelay">
                <property name="delay" class="ptolemy.actor.parameters.PortParameter" value="1">
                </property>
                <property name="_location" class="ptolemy.kernel.util.Location" value="{104.8625157035176, 648.1470214997105}">
                </property>
                <property name="_flipPortsHorizontal" class="ptolemy.data.expr.Parameter" value="true">
                </property>
            </entity>
            <relation name="relation4" class="ptolemy.actor.TypedIORelation">
            </relation>
            <relation name="relation9" class="ptolemy.actor.TypedIORelation">
                <property name="width" class="ptolemy.data.expr.Parameter" value="-1">
                </property>
                <vertex name="vertex1" value="[285.0, 455.0]">
                </vertex>
            </relation>
            <relation name="relation" class="ptolemy.actor.TypedIORelation">
                <property name="width" class="ptolemy.data.expr.Parameter" value="-1">
                </property>
                <vertex name="vertex1" value="[460.0, 455.0]">
                </vertex>
            </relation>
            <relation name="relation11" class="ptolemy.actor.TypedIORelation">
                <property name="width" class="ptolemy.data.expr.Parameter" value="-1">
                </property>
                <vertex name="vertex1" value="{295.0, 620.0}">
                </vertex>
            </relation>
            <relation name="relation3" class="ptolemy.actor.TypedIORelation">
                <property name="width" class="ptolemy.data.expr.Parameter" value="-1">
                </property>
                <vertex name="vertex1" value="{465.0, 620.0}">
                </vertex>
            </relation>
            <relation name="relation2" class="ptolemy.actor.TypedIORelation">
            </relation>
            <relation name="relation5" class="ptolemy.actor.TypedIORelation">
            </relation>
            <relation name="relation6" class="ptolemy.actor.TypedIORelation">
            </relation>
            <relation name="relation7" class="ptolemy.actor.TypedIORelation">
            </relation>
            <relation name="relation10" class="ptolemy.actor.TypedIORelation">
            </relation>
            <relation name="relation13" class="ptolemy.actor.TypedIORelation">
            </relation>
            <relation name="relation14" class="ptolemy.actor.TypedIORelation">
            </relation>
            <relation name="relation15" class="ptolemy.actor.TypedIORelation">
            </relation>
            <relation name="relation8" class="ptolemy.actor.TypedIORelation">
            </relation>
            <relation name="relation16" class="ptolemy.actor.TypedIORelation">
            </relation>
            <relation name="relation12" class="ptolemy.actor.TypedIORelation">
            </relation>
            <relation name="relation17" class="ptolemy.actor.TypedIORelation">
            </relation>
            <relation name="relation20" class="ptolemy.actor.TypedIORelation">
            </relation>
            <relation name="relation18" class="ptolemy.actor.TypedIORelation">
            </relation>
            <relation name="relation22" class="ptolemy.actor.TypedIORelation">
            </relation>
            <relation name="relation21" class="ptolemy.actor.TypedIORelation">
            </relation>
            <relation name="relation23" class="ptolemy.actor.TypedIORelation">
            </relation>
            <relation name="relation19" class="ptolemy.actor.TypedIORelation">
            </relation>
            <relation name="relation24" class="ptolemy.actor.TypedIORelation">
            </relation>
            <link port="left-right-input" relation="relation13"/>
            <link port="left-right-output" relation="relation4"/>
            <link port="right-left-input" relation="relation14"/>
            <link port="right-left-output" relation="relation10"/>
            <link port="TimeDelay.input" relation="relation9"/>
            <link port="TimeDelay.output" relation="relation"/>
            <link port="TimeDelay2.input" relation="relation11"/>
            <link port="TimeDelay2.output" relation="relation3"/>
            <link port="counter.input" relation="relation"/>
            <link port="counter.output" relation="relation4"/>
            <link port="counter.display" relation="relation5"/>
            <link port="counter.trigger" relation="relation16"/>
            <link port="counter.counter" relation="relation2"/>
            <link port="TimedPlotter.input" relation="relation5"/>
            <link port="TimedPlotter.input" relation="relation7"/>
            <link port="Counter.increment" relation="relation9"/>
            <link port="Counter.decrement" relation="relation"/>
            <link port="Counter.output" relation="relation2"/>
            <link port="Counter2.increment" relation="relation11"/>
            <link port="Counter2.decrement" relation="relation3"/>
            <link port="Counter2.output" relation="relation6"/>
            <link port="counter3.input" relation="relation3"/>
            <link port="counter3.output" relation="relation10"/>
            <link port="counter3.display" relation="relation7"/>
            <link port="counter3.trigger" relation="relation15"/>
            <link port="counter3.counter" relation="relation6"/>
            <link port="Queue.input" relation="relation13"/>
            <link port="Queue.output" relation="relation9"/>
            <link port="Queue.trigger" relation="relation8"/>
            <link port="Queue.trigger" relation="relation22"/>
            <link port="Queue.size" relation="relation21"/>
            <link port="Queue2.input" relation="relation14"/>
            <link port="Queue2.output" relation="relation11"/>
            <link port="Queue2.trigger" relation="relation12"/>
            <link port="Queue2.trigger" relation="relation20"/>
            <link port="Queue2.size" relation="relation19"/>
            <link port="TimeDelay3.input" relation="relation15"/>
            <link port="TimeDelay3.output" relation="relation12"/>
            <link port="TimeDelay4.input" relation="relation16"/>
            <link port="TimeDelay4.output" relation="relation8"/>
            <link port="PoissonClock.output" relation="relation18"/>
            <link port="PoissonClock2.output" relation="relation17"/>
            <link port="JavaScript.input" relation="relation24"/>
            <link port="JavaScript.output" relation="relation20"/>
            <link port="JavaScript.clock" relation="relation17"/>
            <link port="JavaScript2.input" relation="relation23"/>
            <link port="JavaScript2.output" relation="relation22"/>
            <link port="JavaScript2.clock" relation="relation18"/>
            <link port="TimeDelay5.input" relation="relation21"/>
            <link port="TimeDelay5.output" relation="relation23"/>
            <link port="TimeDelay6.input" relation="relation19"/>
            <link port="TimeDelay6.output" relation="relation24"/>
        </entity>
        <relation name="relation5" class="ptolemy.actor.TypedIORelation">
            <property name="_layoutHint" class="ptolemy.vergil.actor.LayoutHint" value="{ { head={id=&quot;leftRightInput._location&quot;,x=15.0,y=255.0}, tail={id=&quot;TimeDelay.input&quot;,x=145.0,y=255.0}, points={} } }">
            </property>
        </relation>
        <relation name="relation6" class="ptolemy.actor.TypedIORelation">
        </relation>
        <relation name="relation3" class="ptolemy.actor.TypedIORelation">
            <property name="_layoutHint" class="ptolemy.vergil.actor.LayoutHint" value="{ { head={id=&quot;Street2.right-left-input&quot;,x=270.0,y=265.0}, tail={id=&quot;TimeDelay2.output&quot;,x=385.0,y=275.0}, points={} } }">
            </property>
        </relation>
        <relation name="relation" class="ptolemy.actor.TypedIORelation">
            <property name="_layoutHint" class="ptolemy.vergil.actor.LayoutHint" value="{ { head={id=&quot;Street2.left-right-input&quot;,x=270.0,y=265.0}, tail={id=&quot;TimeDelay.output&quot;,x=145.0,y=255.0}, points={} } }">
            </property>
        </relation>
        <relation name="relation8" class="ptolemy.actor.TypedIORelation">
            <property name="_layoutHint" class="ptolemy.vergil.actor.LayoutHint" value="{ { head={id=&quot;leftRightOutput._location&quot;,x=355.0,y=205.0}, tail={id=&quot;Street2.left-right-output&quot;,x=270.0,y=265.0}, points={320.0,205.0,320.0,255.0} } }">
            </property>
        </relation>
        <relation name="relation7" class="ptolemy.actor.TypedIORelation">
        </relation>
        <link port="leftRightInput" relation="relation5"/>
        <link port="leftRightOutput" relation="relation8"/>
        <link port="rightLeftInput" relation="relation6"/>
        <link port="rightLeftOutput" relation="relation7"/>
        <link port="TimeDelay.input" relation="relation5"/>
        <link port="TimeDelay.output" relation="relation"/>
        <link port="TimeDelay2.input" relation="relation6"/>
        <link port="TimeDelay2.output" relation="relation3"/>
        <link port="Street2.left-right-input" relation="relation"/>
        <link port="Street2.left-right-output" relation="relation8"/>
        <link port="Street2.right-left-input" relation="relation3"/>
        <link port="Street2.right-left-output" relation="relation7"/>
    </entity>
    <relation name="relation45" class="ptolemy.actor.TypedIORelation">
    </relation>
    <relation name="relation47" class="ptolemy.actor.TypedIORelation">
    </relation>
    <relation name="relation48" class="ptolemy.actor.TypedIORelation">
    </relation>
    <relation name="relation51" class="ptolemy.actor.TypedIORelation">
    </relation>
    <relation name="relation54" class="ptolemy.actor.TypedIORelation">
    </relation>
    <relation name="relation4" class="ptolemy.actor.TypedIORelation">
    </relation>
    <relation name="relation" class="ptolemy.actor.TypedIORelation">
    </relation>
    <relation name="relation21" class="ptolemy.actor.TypedIORelation">
    </relation>
    <relation name="relation3" class="ptolemy.actor.TypedIORelation">
    </relation>
    <relation name="relation2" class="ptolemy.actor.TypedIORelation">
    </relation>
    <relation name="relation5" class="ptolemy.actor.TypedIORelation">
    </relation>
    <relation name="relation34" class="ptolemy.actor.TypedIORelation">
    </relation>
    <relation name="relation46" class="ptolemy.actor.TypedIORelation">
    </relation>
    <relation name="relation53" class="ptolemy.actor.TypedIORelation">
    </relation>
    <relation name="relation13" class="ptolemy.actor.TypedIORelation">
    </relation>
    <relation name="relation14" class="ptolemy.actor.TypedIORelation">
    </relation>
    <relation name="relation35" class="ptolemy.actor.TypedIORelation">
    </relation>
    <relation name="relation38" class="ptolemy.actor.TypedIORelation">
    </relation>
    <relation name="relation7" class="ptolemy.actor.TypedIORelation">
    </relation>
    <relation name="relation15" class="ptolemy.actor.TypedIORelation">
    </relation>
    <relation name="relation28" class="ptolemy.actor.TypedIORelation">
    </relation>
    <relation name="relation49" class="ptolemy.actor.TypedIORelation">
    </relation>
    <relation name="relation29" class="ptolemy.actor.TypedIORelation">
    </relation>
    <relation name="relation43" class="ptolemy.actor.TypedIORelation">
    </relation>
    <relation name="relation44" class="ptolemy.actor.TypedIORelation">
    </relation>
    <relation name="relation52" class="ptolemy.actor.TypedIORelation">
    </relation>
    <relation name="relation6" class="ptolemy.actor.TypedIORelation">
    </relation>
    <relation name="relation11" class="ptolemy.actor.TypedIORelation">
    </relation>
    <relation name="relation12" class="ptolemy.actor.TypedIORelation">
    </relation>
    <relation name="relation30" class="ptolemy.actor.TypedIORelation">
    </relation>
    <relation name="relation31" class="ptolemy.actor.TypedIORelation">
    </relation>
    <relation name="relation32" class="ptolemy.actor.TypedIORelation">
    </relation>
    <relation name="relation42" class="ptolemy.actor.TypedIORelation">
    </relation>
    <relation name="relation50" class="ptolemy.actor.TypedIORelation">
    </relation>
    <relation name="relation8" class="ptolemy.actor.TypedIORelation">
    </relation>
    <relation name="relation9" class="ptolemy.actor.TypedIORelation">
    </relation>
    <relation name="relation16" class="ptolemy.actor.TypedIORelation">
    </relation>
    <relation name="relation27" class="ptolemy.actor.TypedIORelation">
    </relation>
    <relation name="relation10" class="ptolemy.actor.TypedIORelation">
    </relation>
    <relation name="relation25" class="ptolemy.actor.TypedIORelation">
    </relation>
    <relation name="relation26" class="ptolemy.actor.TypedIORelation">
    </relation>
    <relation name="relation39" class="ptolemy.actor.TypedIORelation">
    </relation>
    <relation name="relation19" class="ptolemy.actor.TypedIORelation">
    </relation>
    <relation name="relation20" class="ptolemy.actor.TypedIORelation">
    </relation>
    <relation name="relation22" class="ptolemy.actor.TypedIORelation">
    </relation>
    <relation name="relation23" class="ptolemy.actor.TypedIORelation">
    </relation>
    <relation name="relation18" class="ptolemy.actor.TypedIORelation">
    </relation>
    <relation name="relation40" class="ptolemy.actor.TypedIORelation">
    </relation>
    <relation name="relation24" class="ptolemy.actor.TypedIORelation">
    </relation>
    <relation name="relation33" class="ptolemy.actor.TypedIORelation">
    </relation>
    <relation name="relation36" class="ptolemy.actor.TypedIORelation">
    </relation>
    <relation name="relation37" class="ptolemy.actor.TypedIORelation">
    </relation>
    <relation name="relation17" class="ptolemy.actor.TypedIORelation">
    </relation>
    <relation name="relation41" class="ptolemy.actor.TypedIORelation">
    </relation>
    <link port="CSVReader.output" relation="relation5"/>
    <link port="CSVReader.trigger" relation="relation"/>
    <link port="CSVReader2.output" relation="relation52"/>
    <link port="CSVReader2.trigger" relation="relation2"/>
    <link port="CSVReader3.output" relation="relation8"/>
    <link port="CSVReader3.trigger" relation="relation3"/>
    <link port="CSVReader4.output" relation="relation10"/>
    <link port="CSVReader4.trigger" relation="relation4"/>
    <link port="T-Intersection (1).EastOut" relation="relation36"/>
    <link port="T-Intersection (1).WestIn" relation="relation34"/>
    <link port="T-Intersection (1).WestOut" relation="relation46"/>
    <link port="T-Intersection (1).SouthIn" relation="relation15"/>
    <link port="T-Intersection (1).SouthOut" relation="relation7"/>
    <link port="T-Intersection (1).EastIn" relation="relation33"/>
    <link port="Cross-Intersection(3).EastOut" relation="relation12"/>
    <link port="Cross-Intersection(3).WestIn" relation="relation25"/>
    <link port="Cross-Intersection(3).WestOut" relation="relation26"/>
    <link port="Cross-Intersection(3).SouthIn" relation="relation35"/>
    <link port="Cross-Intersection(3).SouthOut" relation="relation38"/>
    <link port="Cross-Intersection(3).EastIn" relation="relation30"/>
    <link port="Cross-Intersection(3).NorthIn" relation="relation41"/>
    <link port="Cross-Intersection(3).NorthOut" relation="relation40"/>
    <link port="CSVReader5.output" relation="relation19"/>
    <link port="CSVReader5.trigger" relation="relation21"/>
    <link port="Counter5.increment" relation="relation44"/>
    <link port="Counter5.output" relation="relation45"/>
    <link port="Output 5.input" relation="relation45"/>
    <link port="Counter6.increment" relation="relation53"/>
    <link port="Counter6.output" relation="relation47"/>
    <link port="Output 1.input" relation="relation47"/>
    <link port="Counter.increment" relation="relation23"/>
    <link port="Counter.output" relation="relation48"/>
    <link port="Output 2.input" relation="relation48"/>
    <link port="Counter2.increment" relation="relation39"/>
    <link port="Counter2.output" relation="relation51"/>
    <link port="Output 3.input" relation="relation51"/>
    <link port="Counter3.increment" relation="relation9"/>
    <link port="Counter3.output" relation="relation54"/>
    <link port="Output 4.input" relation="relation54"/>
    <link port="T-Intersection (2).EastOut" relation="relation24"/>
    <link port="T-Intersection (2).WestIn" relation="relation20"/>
    <link port="T-Intersection (2).WestOut" relation="relation22"/>
    <link port="T-Intersection (2).SouthIn" relation="relation18"/>
    <link port="T-Intersection (2).SouthOut" relation="relation17"/>
    <link port="T-Intersection (2).EastIn" relation="relation37"/>
    <link port="T-Intersection (5).EastOut" relation="relation13"/>
    <link port="T-Intersection (5).WestIn" relation="relation16"/>
    <link port="T-Intersection (5).WestOut" relation="relation27"/>
    <link port="T-Intersection (5).SouthIn" relation="relation42"/>
    <link port="T-Intersection (5).SouthOut" relation="relation50"/>
    <link port="T-Intersection (5).EastIn" relation="relation14"/>
    <link port="Cross-Intersection(4).EastOut" relation="relation29"/>
    <link port="Cross-Intersection(4).WestIn" relation="relation6"/>
    <link port="Cross-Intersection(4).WestOut" relation="relation11"/>
    <link port="Cross-Intersection(4).SouthIn" relation="relation32"/>
    <link port="Cross-Intersection(4).SouthOut" relation="relation31"/>
    <link port="Cross-Intersection(4).EastIn" relation="relation43"/>
    <link port="Cross-Intersection(4).NorthIn" relation="relation28"/>
    <link port="Cross-Intersection(4).NorthOut" relation="relation49"/>
    <link port="DiscreteClock.output" relation="relation4"/>
    <link port="DiscreteClock2.output" relation="relation"/>
    <link port="DiscreteClock3.output" relation="relation21"/>
    <link port="DiscreteClock4.output" relation="relation3"/>
    <link port="DiscreteClock5.output" relation="relation2"/>
    <link port="Road.leftRightInput" relation="relation5"/>
    <link port="Road.leftRightOutput" relation="relation34"/>
    <link port="Road.rightLeftInput" relation="relation46"/>
    <link port="Road.rightLeftOutput" relation="relation53"/>
    <link port="Road7.leftRightInput" relation="relation13"/>
    <link port="Road7.leftRightOutput" relation="relation35"/>
    <link port="Road7.rightLeftInput" relation="relation38"/>
    <link port="Road7.rightLeftOutput" relation="relation14"/>
    <link port="Road2.leftRightInput" relation="relation7"/>
    <link port="Road2.leftRightOutput" relation="relation28"/>
    <link port="Road2.rightLeftInput" relation="relation49"/>
    <link port="Road2.rightLeftOutput" relation="relation15"/>
    <link port="Road3.leftRightInput" relation="relation29"/>
    <link port="Road3.leftRightOutput" relation="relation44"/>
    <link port="Road3.rightLeftInput" relation="relation52"/>
    <link port="Road3.rightLeftOutput" relation="relation43"/>
    <link port="Road4.leftRightInput" relation="relation12"/>
    <link port="Road4.leftRightOutput" relation="relation6"/>
    <link port="Road4.rightLeftInput" relation="relation11"/>
    <link port="Road4.rightLeftOutput" relation="relation30"/>
    <link port="Road5.leftRightInput" relation="relation50"/>
    <link port="Road5.leftRightOutput" relation="relation32"/>
    <link port="Road5.rightLeftInput" relation="relation31"/>
    <link port="Road5.rightLeftOutput" relation="relation42"/>
    <link port="Road6.leftRightInput" relation="relation8"/>
    <link port="Road6.leftRightOutput" relation="relation16"/>
    <link port="Road6.rightLeftInput" relation="relation27"/>
    <link port="Road6.rightLeftOutput" relation="relation9"/>
    <link port="Road8.leftRightInput" relation="relation10"/>
    <link port="Road8.leftRightOutput" relation="relation25"/>
    <link port="Road8.rightLeftInput" relation="relation26"/>
    <link port="Road8.rightLeftOutput" relation="relation39"/>
    <link port="Road9.leftRightInput" relation="relation19"/>
    <link port="Road9.leftRightOutput" relation="relation20"/>
    <link port="Road9.rightLeftInput" relation="relation22"/>
    <link port="Road9.rightLeftOutput" relation="relation23"/>
    <link port="Road10.leftRightInput" relation="relation17"/>
    <link port="Road10.leftRightOutput" relation="relation40"/>
    <link port="Road10.rightLeftInput" relation="relation41"/>
    <link port="Road10.rightLeftOutput" relation="relation18"/>
    <link port="Road11.leftRightInput" relation="relation24"/>
    <link port="Road11.leftRightOutput" relation="relation33"/>
    <link port="Road11.rightLeftInput" relation="relation36"/>
    <link port="Road11.rightLeftOutput" relation="relation37"/>
</entity>
